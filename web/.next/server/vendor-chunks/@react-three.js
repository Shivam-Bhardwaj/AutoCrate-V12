"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@react-three";
exports.ids = ["vendor-chunks/@react-three"];
exports.modules = {

/***/ "(ssr)/./node_modules/@react-three/drei/core/AccumulativeShadows.js":
/*!********************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/AccumulativeShadows.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccumulativeShadows: () => (/* binding */ AccumulativeShadows),\n/* harmony export */   RandomizedLight: () => (/* binding */ RandomizedLight),\n/* harmony export */   accumulativeContext: () => (/* binding */ accumulativeContext)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var _shaderMaterial_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shaderMaterial.js */ \"(ssr)/./node_modules/@react-three/drei/core/shaderMaterial.js\");\n/* harmony import */ var _materials_DiscardMaterial_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../materials/DiscardMaterial.js */ \"(ssr)/./node_modules/@react-three/drei/materials/DiscardMaterial.js\");\n/* harmony import */ var _helpers_constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/constants.js */ \"(ssr)/./node_modules/@react-three/drei/helpers/constants.js\");\n\n\n\n\n\n\n\nfunction isLight(object) {\n    return object.isLight;\n}\nfunction isGeometry(object) {\n    return !!object.geometry;\n}\nconst accumulativeContext = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(null);\nconst SoftShadowMaterial = /* @__PURE__ */ (0,_shaderMaterial_js__WEBPACK_IMPORTED_MODULE_2__.shaderMaterial)({\n    color: /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Color(),\n    blend: 2.0,\n    alphaTest: 0.75,\n    opacity: 0,\n    map: null\n}, `varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }`, `varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n     #include <tonemapping_fragment>\n     #include <${_helpers_constants_js__WEBPACK_IMPORTED_MODULE_4__.version >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n   }`);\nconst AccumulativeShadows = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ children, temporal, frames = 40, limit = Infinity, blend = 20, scale = 10, opacity = 1, alphaTest = 0.75, color = \"black\", colorBlend = 2, resolution = 1024, toneMapped = true, ...props }, forwardRef)=>{\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.e)({\n        SoftShadowMaterial\n    });\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.D)((state)=>state.gl);\n    const scene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.D)((state)=>state.scene);\n    const camera = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.D)((state)=>state.camera);\n    const invalidate = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.D)((state)=>state.invalidate);\n    const gPlane = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const gLights = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const [plm] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new ProgressiveLightMap(gl, scene, resolution));\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        plm.configure(gPlane.current);\n    }, []);\n    const api = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>({\n            lights: new Map(),\n            temporal: !!temporal,\n            frames: Math.max(2, frames),\n            blend: Math.max(2, frames === Infinity ? blend : frames),\n            count: 0,\n            getMesh: ()=>gPlane.current,\n            reset: ()=>{\n                // Clear buffers, reset opacities, set frame count to 0\n                plm.clear();\n                const material = gPlane.current.material;\n                material.opacity = 0;\n                material.alphaTest = 0;\n                api.count = 0;\n            },\n            update: (frames = 1)=>{\n                // Adapt the opacity-blend ratio to the number of frames\n                const material = gPlane.current.material;\n                if (!api.temporal) {\n                    material.opacity = opacity;\n                    material.alphaTest = alphaTest;\n                } else {\n                    material.opacity = Math.min(opacity, material.opacity + opacity / api.blend);\n                    material.alphaTest = Math.min(alphaTest, material.alphaTest + alphaTest / api.blend);\n                }\n                // Switch accumulative lights on\n                gLights.current.visible = true;\n                // Collect scene lights and meshes\n                plm.prepare();\n                // Update the lightmap and the accumulative lights\n                for(let i = 0; i < frames; i++){\n                    api.lights.forEach((light)=>light.update());\n                    plm.update(camera, api.blend);\n                }\n                // Switch lights off\n                gLights.current.visible = false;\n                // Restore lights and meshes\n                plm.finish();\n            }\n        }), [\n        plm,\n        camera,\n        scene,\n        temporal,\n        frames,\n        blend,\n        opacity,\n        alphaTest\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        // Reset internals, buffers, ...\n        api.reset();\n        // Update lightmap\n        if (!api.temporal && api.frames !== Infinity) api.update(api.blend);\n    });\n    // Expose api, allow children to set itself as the main light source\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(forwardRef, ()=>api, [\n        api\n    ]);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.F)(()=>{\n        if ((api.temporal || api.frames === Infinity) && api.count < api.frames && api.count < limit) {\n            invalidate();\n            api.update();\n            api.count++;\n        }\n    });\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"group\", props, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"group\", {\n        traverse: ()=>null,\n        ref: gLights\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(accumulativeContext.Provider, {\n        value: api\n    }, children)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"mesh\", {\n        receiveShadow: true,\n        ref: gPlane,\n        scale: scale,\n        rotation: [\n            -Math.PI / 2,\n            0,\n            0\n        ]\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"planeGeometry\", null), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"softShadowMaterial\", {\n        transparent: true,\n        depthWrite: false,\n        toneMapped: toneMapped,\n        color: color,\n        blend: colorBlend,\n        map: plm.progressiveLightMap2.texture\n    })));\n});\nconst RandomizedLight = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ castShadow = true, bias = 0.001, mapSize = 512, size = 5, near = 0.5, far = 500, frames = 1, position = [\n    0,\n    0,\n    0\n], radius = 1, amount = 8, intensity = _helpers_constants_js__WEBPACK_IMPORTED_MODULE_4__.version >= 155 ? Math.PI : 1, ambient = 0.5, ...props }, forwardRef)=>{\n    const gLights = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const length = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(...position).length();\n    const parent = react__WEBPACK_IMPORTED_MODULE_1__.useContext(accumulativeContext);\n    const update = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{\n        let light;\n        if (gLights.current) {\n            for(let l = 0; l < gLights.current.children.length; l++){\n                light = gLights.current.children[l];\n                if (Math.random() > ambient) {\n                    light.position.set(position[0] + three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.randFloatSpread(radius), position[1] + three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.randFloatSpread(radius), position[2] + three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.randFloatSpread(radius));\n                } else {\n                    let lambda = Math.acos(2 * Math.random() - 1) - Math.PI / 2.0;\n                    let phi = 2 * Math.PI * Math.random();\n                    light.position.set(Math.cos(lambda) * Math.cos(phi) * length, Math.abs(Math.cos(lambda) * Math.sin(phi) * length), Math.sin(lambda) * length);\n                }\n            }\n        }\n    }, [\n        radius,\n        ambient,\n        length,\n        ...position\n    ]);\n    const api = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>({\n            update\n        }), [\n        update\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(forwardRef, ()=>api, [\n        api\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        var _parent$lights;\n        const group = gLights.current;\n        if (parent) (_parent$lights = parent.lights) == null || _parent$lights.set(group.uuid, api);\n        return ()=>{\n            var _parent$lights2;\n            return void (parent == null || (_parent$lights2 = parent.lights) == null ? void 0 : _parent$lights2.delete(group.uuid));\n        };\n    }, [\n        parent,\n        api\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"group\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        ref: gLights\n    }, props), Array.from({\n        length: amount\n    }, (_, index)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"directionalLight\", {\n            key: index,\n            castShadow: castShadow,\n            \"shadow-bias\": bias,\n            \"shadow-mapSize\": [\n                mapSize,\n                mapSize\n            ],\n            intensity: intensity / amount\n        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"orthographicCamera\", {\n            attach: \"shadow-camera\",\n            args: [\n                -size,\n                size,\n                size,\n                -size,\n                near,\n                far\n            ]\n        }))));\n});\n// Based on \"Progressive Light Map Accumulator\", by [zalo](https://github.com/zalo/)\nclass ProgressiveLightMap {\n    constructor(renderer, scene, res = 1024){\n        this.renderer = renderer;\n        this.res = res;\n        this.scene = scene;\n        this.buffer1Active = false;\n        this.lights = [];\n        this.meshes = [];\n        this.object = null;\n        this.clearColor = new three__WEBPACK_IMPORTED_MODULE_3__.Color();\n        this.clearAlpha = 0;\n        // Create the Progressive LightMap Texture\n        const textureParams = {\n            type: three__WEBPACK_IMPORTED_MODULE_3__.HalfFloatType,\n            magFilter: three__WEBPACK_IMPORTED_MODULE_3__.NearestFilter,\n            minFilter: three__WEBPACK_IMPORTED_MODULE_3__.NearestFilter\n        };\n        this.progressiveLightMap1 = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLRenderTarget(this.res, this.res, textureParams);\n        this.progressiveLightMap2 = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLRenderTarget(this.res, this.res, textureParams);\n        // Inject some spicy new logic into a standard phong material\n        this.discardMat = new _materials_DiscardMaterial_js__WEBPACK_IMPORTED_MODULE_6__.DiscardMaterial();\n        this.targetMat = new three__WEBPACK_IMPORTED_MODULE_3__.MeshLambertMaterial({\n            fog: false\n        });\n        this.previousShadowMap = {\n            value: this.progressiveLightMap1.texture\n        };\n        this.averagingWindow = {\n            value: 100\n        };\n        this.targetMat.onBeforeCompile = (shader)=>{\n            // Vertex Shader: Set Vertex Positions to the Unwrapped UV Positions\n            shader.vertexShader = \"varying vec2 vUv;\\n\" + shader.vertexShader.slice(0, -1) + \"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }\";\n            // Fragment Shader: Set Pixels to average in the Previous frame's Shadows\n            const bodyStart = shader.fragmentShader.indexOf(\"void main() {\");\n            shader.fragmentShader = \"varying vec2 vUv;\\n\" + shader.fragmentShader.slice(0, bodyStart) + \"uniform sampler2D previousShadowMap;\\n\tuniform float averagingWindow;\\n\" + shader.fragmentShader.slice(bodyStart - 1, -1) + `\\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }`;\n            // Set the Previous Frame's Texture Buffer and Averaging Window\n            shader.uniforms.previousShadowMap = this.previousShadowMap;\n            shader.uniforms.averagingWindow = this.averagingWindow;\n        };\n    }\n    clear() {\n        this.renderer.getClearColor(this.clearColor);\n        this.clearAlpha = this.renderer.getClearAlpha();\n        this.renderer.setClearColor(\"black\", 1);\n        this.renderer.setRenderTarget(this.progressiveLightMap1);\n        this.renderer.clear();\n        this.renderer.setRenderTarget(this.progressiveLightMap2);\n        this.renderer.clear();\n        this.renderer.setRenderTarget(null);\n        this.renderer.setClearColor(this.clearColor, this.clearAlpha);\n        this.lights = [];\n        this.meshes = [];\n        this.scene.traverse((object)=>{\n            if (isGeometry(object)) {\n                this.meshes.push({\n                    object,\n                    material: object.material\n                });\n            } else if (isLight(object)) {\n                this.lights.push({\n                    object,\n                    intensity: object.intensity\n                });\n            }\n        });\n    }\n    prepare() {\n        this.lights.forEach((light)=>light.object.intensity = 0);\n        this.meshes.forEach((mesh)=>mesh.object.material = this.discardMat);\n    }\n    finish() {\n        this.lights.forEach((light)=>light.object.intensity = light.intensity);\n        this.meshes.forEach((mesh)=>mesh.object.material = mesh.material);\n    }\n    configure(object) {\n        this.object = object;\n    }\n    update(camera, blendWindow = 100) {\n        if (!this.object) return;\n        // Set each object's material to the UV Unwrapped Surface Mapping Version\n        this.averagingWindow.value = blendWindow;\n        this.object.material = this.targetMat;\n        // Ping-pong two surface buffers for reading/writing\n        const activeMap = this.buffer1Active ? this.progressiveLightMap1 : this.progressiveLightMap2;\n        const inactiveMap = this.buffer1Active ? this.progressiveLightMap2 : this.progressiveLightMap1;\n        // Render the object's surface maps\n        const oldBg = this.scene.background;\n        this.scene.background = null;\n        this.renderer.setRenderTarget(activeMap);\n        this.previousShadowMap.value = inactiveMap.texture;\n        this.buffer1Active = !this.buffer1Active;\n        this.renderer.render(this.scene, camera);\n        this.renderer.setRenderTarget(null);\n        this.scene.background = oldBg;\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9BY2N1bXVsYXRpdmVTaGFkb3dzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQzNCO0FBQ0E7QUFDaUM7QUFDWDtBQUNhO0FBQ2hCO0FBRWxELFNBQVNTLFFBQVFDLE1BQU07SUFDckIsT0FBT0EsT0FBT0QsT0FBTztBQUN2QjtBQUNBLFNBQVNFLFdBQVdELE1BQU07SUFDeEIsT0FBTyxDQUFDLENBQUNBLE9BQU9FLFFBQVE7QUFDMUI7QUFDQSxNQUFNQyxzQkFBc0IsYUFBYSxpQkFBRVgsZ0RBQW1CLENBQUM7QUFDL0QsTUFBTWEscUJBQXFCLGFBQWEsR0FBRVQsa0VBQWNBLENBQUM7SUFDdkRVLE9BQU8sYUFBYSxHQUFFLElBQUlmLHdDQUFXO0lBQ3JDaUIsT0FBTztJQUNQQyxXQUFXO0lBQ1hDLFNBQVM7SUFDVEMsS0FBSztBQUNQLEdBQUcsQ0FBQzs7OztJQUlBLENBQUMsRUFBRSxDQUFDOzs7Ozs7Ozs7O2VBVU8sRUFBRWIsMERBQU9BLElBQUksTUFBTSx3QkFBd0IscUJBQXFCO0lBQzNFLENBQUM7QUFDTCxNQUFNYyxzQkFBc0IsYUFBYSxpQkFBRXBCLDZDQUFnQixDQUFDLENBQUMsRUFDM0RzQixRQUFRLEVBQ1JDLFFBQVEsRUFDUkMsU0FBUyxFQUFFLEVBQ1hDLFFBQVFDLFFBQVEsRUFDaEJWLFFBQVEsRUFBRSxFQUNWVyxRQUFRLEVBQUUsRUFDVlQsVUFBVSxDQUFDLEVBQ1hELFlBQVksSUFBSSxFQUNoQkgsUUFBUSxPQUFPLEVBQ2ZjLGFBQWEsQ0FBQyxFQUNkQyxhQUFhLElBQUksRUFDakJDLGFBQWEsSUFBSSxFQUNqQixHQUFHQyxPQUNKLEVBQUVWO0lBQ0RwQixxREFBTUEsQ0FBQztRQUNMWTtJQUNGO0lBQ0EsTUFBTW1CLEtBQUs5QixxREFBUUEsQ0FBQytCLENBQUFBLFFBQVNBLE1BQU1ELEVBQUU7SUFDckMsTUFBTUUsUUFBUWhDLHFEQUFR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SUFBSSxDQUFDLElBQUksQ0FBQ2pKLE1BQU0sRUFBRTtRQUNsQix5RUFBeUU7UUFDekUsSUFBSSxDQUFDa0ksZUFBZSxDQUFDcEUsS0FBSyxHQUFHbUY7UUFDN0IsSUFBSSxDQUFDakosTUFBTSxDQUFDZ0QsUUFBUSxHQUFHLElBQUksQ0FBQzhFLFNBQVM7UUFDckMsb0RBQW9EO1FBQ3BELE1BQU1vQixZQUFZLElBQUksQ0FBQ2pDLGFBQWEsR0FBRyxJQUFJLENBQUNVLG9CQUFvQixHQUFHLElBQUksQ0FBQ3ZELG9CQUFvQjtRQUM1RixNQUFNK0UsY0FBYyxJQUFJLENBQUNsQyxhQUFhLEdBQUcsSUFBSSxDQUFDN0Msb0JBQW9CLEdBQUcsSUFBSSxDQUFDdUQsb0JBQW9CO1FBQzlGLG1DQUFtQztRQUNuQyxNQUFNeUIsUUFBUSxJQUFJLENBQUMxSCxLQUFLLENBQUMySCxVQUFVO1FBQ25DLElBQUksQ0FBQzNILEtBQUssQ0FBQzJILFVBQVUsR0FBRztRQUN4QixJQUFJLENBQUN0QyxRQUFRLENBQUMrQixlQUFlLENBQUNJO1FBQzlCLElBQUksQ0FBQ2pCLGlCQUFpQixDQUFDbkUsS0FBSyxHQUFHcUYsWUFBWTlFLE9BQU87UUFDbEQsSUFBSSxDQUFDNEMsYUFBYSxHQUFHLENBQUMsSUFBSSxDQUFDQSxhQUFhO1FBQ3hDLElBQUksQ0FBQ0YsUUFBUSxDQUFDdUMsTUFBTSxDQUFDLElBQUksQ0FBQzVILEtBQUssRUFBRUM7UUFDakMsSUFBSSxDQUFDb0YsUUFBUSxDQUFDK0IsZUFBZSxDQUFDO1FBQzlCLElBQUksQ0FBQ3BILEtBQUssQ0FBQzJILFVBQVUsR0FBR0Q7SUFDMUI7QUFDRjtBQUVxRSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9BY2N1bXVsYXRpdmVTaGFkb3dzLmpzPzQwMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZXh0ZW5kLCB1c2VUaHJlZSwgdXNlRnJhbWUgfSBmcm9tICdAcmVhY3QtdGhyZWUvZmliZXInO1xuaW1wb3J0IHsgc2hhZGVyTWF0ZXJpYWwgfSBmcm9tICcuL3NoYWRlck1hdGVyaWFsLmpzJztcbmltcG9ydCB7IERpc2NhcmRNYXRlcmlhbCB9IGZyb20gJy4uL21hdGVyaWFscy9EaXNjYXJkTWF0ZXJpYWwuanMnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL2hlbHBlcnMvY29uc3RhbnRzLmpzJztcblxuZnVuY3Rpb24gaXNMaWdodChvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdC5pc0xpZ2h0O1xufVxuZnVuY3Rpb24gaXNHZW9tZXRyeShvYmplY3QpIHtcbiAgcmV0dXJuICEhb2JqZWN0Lmdlb21ldHJ5O1xufVxuY29uc3QgYWNjdW11bGF0aXZlQ29udGV4dCA9IC8qIEBfX1BVUkVfXyAqL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCBTb2Z0U2hhZG93TWF0ZXJpYWwgPSAvKiBAX19QVVJFX18gKi9zaGFkZXJNYXRlcmlhbCh7XG4gIGNvbG9yOiAvKiBAX19QVVJFX18gKi9uZXcgVEhSRUUuQ29sb3IoKSxcbiAgYmxlbmQ6IDIuMCxcbiAgYWxwaGFUZXN0OiAwLjc1LFxuICBvcGFjaXR5OiAwLFxuICBtYXA6IG51bGxcbn0sIGB2YXJ5aW5nIHZlYzIgdlV2O1xuICAgdm9pZCBtYWluKCkge1xuICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLik7XG4gICAgIHZVdiA9IHV2O1xuICAgfWAsIGB2YXJ5aW5nIHZlYzIgdlV2O1xuICAgdW5pZm9ybSBzYW1wbGVyMkQgbWFwO1xuICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xuICAgdW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuICAgdW5pZm9ybSBmbG9hdCBhbHBoYVRlc3Q7XG4gICB1bmlmb3JtIGZsb2F0IGJsZW5kO1xuICAgdm9pZCBtYWluKCkge1xuICAgICB2ZWM0IHNhbXBsZWREaWZmdXNlQ29sb3IgPSB0ZXh0dXJlMkQobWFwLCB2VXYpO1xuICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yICogc2FtcGxlZERpZmZ1c2VDb2xvci5yICogYmxlbmQsIG1heCgwLjAsICgxLjAgLSAoc2FtcGxlZERpZmZ1c2VDb2xvci5yICsgc2FtcGxlZERpZmZ1c2VDb2xvci5nICsgc2FtcGxlZERpZmZ1c2VDb2xvci5iKSAvIGFscGhhVGVzdCkpICogb3BhY2l0eSk7XG4gICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cbiAgICAgI2luY2x1ZGUgPCR7dmVyc2lvbiA+PSAxNTQgPyAnY29sb3JzcGFjZV9mcmFnbWVudCcgOiAnZW5jb2RpbmdzX2ZyYWdtZW50J30+XG4gICB9YCk7XG5jb25zdCBBY2N1bXVsYXRpdmVTaGFkb3dzID0gLyogQF9fUFVSRV9fICovUmVhY3QuZm9yd2FyZFJlZigoe1xuICBjaGlsZHJlbixcbiAgdGVtcG9yYWwsXG4gIGZyYW1lcyA9IDQwLFxuICBsaW1pdCA9IEluZmluaXR5LFxuICBibGVuZCA9IDIwLFxuICBzY2FsZSA9IDEwLFxuICBvcGFjaXR5ID0gMSxcbiAgYWxwaGFUZXN0ID0gMC43NSxcbiAgY29sb3IgPSAnYmxhY2snLFxuICBjb2xvckJsZW5kID0gMixcbiAgcmVzb2x1dGlvbiA9IDEwMjQsXG4gIHRvbmVNYXBwZWQgPSB0cnVlLFxuICAuLi5wcm9wc1xufSwgZm9yd2FyZFJlZikgPT4ge1xuICBleHRlbmQoe1xuICAgIFNvZnRTaGFkb3dNYXRlcmlhbFxuICB9KTtcbiAgY29uc3QgZ2wgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5nbCk7XG4gIGNvbnN0IHNjZW5lID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuc2NlbmUpO1xuICBjb25zdCBjYW1lcmEgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5jYW1lcmEpO1xuICBjb25zdCBpbnZhbGlkYXRlID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuaW52YWxpZGF0ZSk7XG4gIGNvbnN0IGdQbGFuZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgZ0xpZ2h0cyA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgW3BsbV0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBuZXcgUHJvZ3Jlc3NpdmVMaWdodE1hcChnbCwgc2NlbmUsIHJlc29sdXRpb24pKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBwbG0uY29uZmlndXJlKGdQbGFuZS5jdXJyZW50KTtcbiAgfSwgW10pO1xuICBjb25zdCBhcGkgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgbGlnaHRzOiBuZXcgTWFwKCksXG4gICAgdGVtcG9yYWw6ICEhdGVtcG9yYWwsXG4gICAgZnJhbWVzOiBNYXRoLm1heCgyLCBmcmFtZXMpLFxuICAgIGJsZW5kOiBNYXRoLm1heCgyLCBmcmFtZXMgPT09IEluZmluaXR5ID8gYmxlbmQgOiBmcmFtZXMpLFxuICAgIGNvdW50OiAwLFxuICAgIGdldE1lc2g6ICgpID0+IGdQbGFuZS5jdXJyZW50LFxuICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICAvLyBDbGVhciBidWZmZXJzLCByZXNldCBvcGFjaXRpZXMsIHNldCBmcmFtZSBjb3VudCB0byAwXG4gICAgICBwbG0uY2xlYXIoKTtcbiAgICAgIGNvbnN0IG1hdGVyaWFsID0gZ1BsYW5lLmN1cnJlbnQubWF0ZXJpYWw7XG4gICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gMDtcbiAgICAgIG1hdGVyaWFsLmFscGhhVGVzdCA9IDA7XG4gICAgICBhcGkuY291bnQgPSAwO1xuICAgIH0sXG4gICAgdXBkYXRlOiAoZnJhbWVzID0gMSkgPT4ge1xuICAgICAgLy8gQWRhcHQgdGhlIG9wYWNpdHktYmxlbmQgcmF0aW8gdG8gdGhlIG51bWJlciBvZiBmcmFtZXNcbiAgICAgIGNvbnN0IG1hdGVyaWFsID0gZ1BsYW5lLmN1cnJlbnQubWF0ZXJpYWw7XG4gICAgICBpZiAoIWFwaS50ZW1wb3JhbCkge1xuICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgbWF0ZXJpYWwuYWxwaGFUZXN0ID0gYWxwaGFUZXN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IE1hdGgubWluKG9wYWNpdHksIG1hdGVyaWFsLm9wYWNpdHkgKyBvcGFjaXR5IC8gYXBpLmJsZW5kKTtcbiAgICAgICAgbWF0ZXJpYWwuYWxwaGFUZXN0ID0gTWF0aC5taW4oYWxwaGFUZXN0LCBtYXRlcmlhbC5hbHBoYVRlc3QgKyBhbHBoYVRlc3QgLyBhcGkuYmxlbmQpO1xuICAgICAgfVxuXG4gICAgICAvLyBTd2l0Y2ggYWNjdW11bGF0aXZlIGxpZ2h0cyBvblxuICAgICAgZ0xpZ2h0cy5jdXJyZW50LnZpc2libGUgPSB0cnVlO1xuICAgICAgLy8gQ29sbGVjdCBzY2VuZSBsaWdodHMgYW5kIG1lc2hlc1xuICAgICAgcGxtLnByZXBhcmUoKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBsaWdodG1hcCBhbmQgdGhlIGFjY3VtdWxhdGl2ZSBsaWdodHNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVzOyBpKyspIHtcbiAgICAgICAgYXBpLmxpZ2h0cy5mb3JFYWNoKGxpZ2h0ID0+IGxpZ2h0LnVwZGF0ZSgpKTtcbiAgICAgICAgcGxtLnVwZGF0ZShjYW1lcmEsIGFwaS5ibGVuZCk7XG4gICAgICB9XG4gICAgICAvLyBTd2l0Y2ggbGlnaHRzIG9mZlxuICAgICAgZ0xpZ2h0cy5jdXJyZW50LnZpc2libGUgPSBmYWxzZTtcbiAgICAgIC8vIFJlc3RvcmUgbGlnaHRzIGFuZCBtZXNoZXNcbiAgICAgIHBsbS5maW5pc2goKTtcbiAgICB9XG4gIH0pLCBbcGxtLCBjYW1lcmEsIHNjZW5lLCB0ZW1wb3JhbCwgZnJhbWVzLCBibGVuZCwgb3BhY2l0eSwgYWxwaGFUZXN0XSk7XG4gIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgLy8gUmVzZXQgaW50ZXJuYWxzLCBidWZmZXJzLCAuLi5cbiAgICBhcGkucmVzZXQoKTtcbiAgICAvLyBVcGRhdGUgbGlnaHRtYXBcbiAgICBpZiAoIWFwaS50ZW1wb3JhbCAmJiBhcGkuZnJhbWVzICE9PSBJbmZpbml0eSkgYXBpLnVwZGF0ZShhcGkuYmxlbmQpO1xuICB9KTtcblxuICAvLyBFeHBvc2UgYXBpLCBhbGxvdyBjaGlsZHJlbiB0byBzZXQgaXRzZWxmIGFzIHRoZSBtYWluIGxpZ2h0IHNvdXJjZVxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKGZvcndhcmRSZWYsICgpID0+IGFwaSwgW2FwaV0pO1xuICB1c2VGcmFtZSgoKSA9PiB7XG4gICAgaWYgKChhcGkudGVtcG9yYWwgfHwgYXBpLmZyYW1lcyA9PT0gSW5maW5pdHkpICYmIGFwaS5jb3VudCA8IGFwaS5mcmFtZXMgJiYgYXBpLmNvdW50IDwgbGltaXQpIHtcbiAgICAgIGludmFsaWRhdGUoKTtcbiAgICAgIGFwaS51cGRhdGUoKTtcbiAgICAgIGFwaS5jb3VudCsrO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsIHByb3BzLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsIHtcbiAgICB0cmF2ZXJzZTogKCkgPT4gbnVsbCxcbiAgICByZWY6IGdMaWdodHNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoYWNjdW11bGF0aXZlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBhcGlcbiAgfSwgY2hpbGRyZW4pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsIHtcbiAgICByZWNlaXZlU2hhZG93OiB0cnVlLFxuICAgIHJlZjogZ1BsYW5lLFxuICAgIHNjYWxlOiBzY2FsZSxcbiAgICByb3RhdGlvbjogWy1NYXRoLlBJIC8gMiwgMCwgMF1cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwbGFuZUdlb21ldHJ5XCIsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNvZnRTaGFkb3dNYXRlcmlhbFwiLCB7XG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgZGVwdGhXcml0ZTogZmFsc2UsXG4gICAgdG9uZU1hcHBlZDogdG9uZU1hcHBlZCxcbiAgICBjb2xvcjogY29sb3IsXG4gICAgYmxlbmQ6IGNvbG9yQmxlbmQsXG4gICAgbWFwOiBwbG0ucHJvZ3Jlc3NpdmVMaWdodE1hcDIudGV4dHVyZVxuICB9KSkpO1xufSk7XG5jb25zdCBSYW5kb21pemVkTGlnaHQgPSAvKiBAX19QVVJFX18gKi9SZWFjdC5mb3J3YXJkUmVmKCh7XG4gIGNhc3RTaGFkb3cgPSB0cnVlLFxuICBiaWFzID0gMC4wMDEsXG4gIG1hcFNpemUgPSA1MTIsXG4gIHNpemUgPSA1LFxuICBuZWFyID0gMC41LFxuICBmYXIgPSA1MDAsXG4gIGZyYW1lcyA9IDEsXG4gIHBvc2l0aW9uID0gWzAsIDAsIDBdLFxuICByYWRpdXMgPSAxLFxuICBhbW91bnQgPSA4LFxuICBpbnRlbnNpdHkgPSB2ZXJzaW9uID49IDE1NSA/IE1hdGguUEkgOiAxLFxuICBhbWJpZW50ID0gMC41LFxuICAuLi5wcm9wc1xufSwgZm9yd2FyZFJlZikgPT4ge1xuICBjb25zdCBnTGlnaHRzID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBsZW5ndGggPSBuZXcgVEhSRUUuVmVjdG9yMyguLi5wb3NpdGlvbikubGVuZ3RoKCk7XG4gIGNvbnN0IHBhcmVudCA9IFJlYWN0LnVzZUNvbnRleHQoYWNjdW11bGF0aXZlQ29udGV4dCk7XG4gIGNvbnN0IHVwZGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBsZXQgbGlnaHQ7XG4gICAgaWYgKGdMaWdodHMuY3VycmVudCkge1xuICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCBnTGlnaHRzLmN1cnJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgbGlnaHQgPSBnTGlnaHRzLmN1cnJlbnQuY2hpbGRyZW5bbF07XG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gYW1iaWVudCkge1xuICAgICAgICAgIGxpZ2h0LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSArIFRIUkVFLk1hdGhVdGlscy5yYW5kRmxvYXRTcHJlYWQocmFkaXVzKSwgcG9zaXRpb25bMV0gKyBUSFJFRS5NYXRoVXRpbHMucmFuZEZsb2F0U3ByZWFkKHJhZGl1cyksIHBvc2l0aW9uWzJdICsgVEhSRUUuTWF0aFV0aWxzLnJhbmRGbG9hdFNwcmVhZChyYWRpdXMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgbGFtYmRhID0gTWF0aC5hY29zKDIgKiBNYXRoLnJhbmRvbSgpIC0gMSkgLSBNYXRoLlBJIC8gMi4wO1xuICAgICAgICAgIGxldCBwaGkgPSAyICogTWF0aC5QSSAqIE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgbGlnaHQucG9zaXRpb24uc2V0KE1hdGguY29zKGxhbWJkYSkgKiBNYXRoLmNvcyhwaGkpICogbGVuZ3RoLCBNYXRoLmFicyhNYXRoLmNvcyhsYW1iZGEpICogTWF0aC5zaW4ocGhpKSAqIGxlbmd0aCksIE1hdGguc2luKGxhbWJkYSkgKiBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbcmFkaXVzLCBhbWJpZW50LCBsZW5ndGgsIC4uLnBvc2l0aW9uXSk7XG4gIGNvbnN0IGFwaSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICB1cGRhdGVcbiAgfSksIFt1cGRhdGVdKTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShmb3J3YXJkUmVmLCAoKSA9PiBhcGksIFthcGldKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICB2YXIgX3BhcmVudCRsaWdodHM7XG4gICAgY29uc3QgZ3JvdXAgPSBnTGlnaHRzLmN1cnJlbnQ7XG4gICAgaWYgKHBhcmVudCkgKF9wYXJlbnQkbGlnaHRzID0gcGFyZW50LmxpZ2h0cykgPT0gbnVsbCB8fCBfcGFyZW50JGxpZ2h0cy5zZXQoZ3JvdXAudXVpZCwgYXBpKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdmFyIF9wYXJlbnQkbGlnaHRzMjtcbiAgICAgIHJldHVybiB2b2lkIChwYXJlbnQgPT0gbnVsbCB8fCAoX3BhcmVudCRsaWdodHMyID0gcGFyZW50LmxpZ2h0cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJlbnQkbGlnaHRzMi5kZWxldGUoZ3JvdXAudXVpZCkpO1xuICAgIH07XG4gIH0sIFtwYXJlbnQsIGFwaV0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBnTGlnaHRzXG4gIH0sIHByb3BzKSwgQXJyYXkuZnJvbSh7XG4gICAgbGVuZ3RoOiBhbW91bnRcbiAgfSwgKF8sIGluZGV4KSA9PiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpcmVjdGlvbmFsTGlnaHRcIiwge1xuICAgIGtleTogaW5kZXgsXG4gICAgY2FzdFNoYWRvdzogY2FzdFNoYWRvdyxcbiAgICBcInNoYWRvdy1iaWFzXCI6IGJpYXMsXG4gICAgXCJzaGFkb3ctbWFwU2l6ZVwiOiBbbWFwU2l6ZSwgbWFwU2l6ZV0sXG4gICAgaW50ZW5zaXR5OiBpbnRlbnNpdHkgLyBhbW91bnRcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvcnRob2dyYXBoaWNDYW1lcmFcIiwge1xuICAgIGF0dGFjaDogXCJzaGFkb3ctY2FtZXJhXCIsXG4gICAgYXJnczogWy1zaXplLCBzaXplLCBzaXplLCAtc2l6ZSwgbmVhciwgZmFyXVxuICB9KSkpKTtcbn0pO1xuXG4vLyBCYXNlZCBvbiBcIlByb2dyZXNzaXZlIExpZ2h0IE1hcCBBY2N1bXVsYXRvclwiLCBieSBbemFsb10oaHR0cHM6Ly9naXRodWIuY29tL3phbG8vKVxuY2xhc3MgUHJvZ3Jlc3NpdmVMaWdodE1hcCB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBzY2VuZSwgcmVzID0gMTAyNCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnJlcyA9IHJlcztcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgdGhpcy5idWZmZXIxQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5saWdodHMgPSBbXTtcbiAgICB0aGlzLm1lc2hlcyA9IFtdO1xuICAgIHRoaXMub2JqZWN0ID0gbnVsbDtcbiAgICB0aGlzLmNsZWFyQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICB0aGlzLmNsZWFyQWxwaGEgPSAwO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBQcm9ncmVzc2l2ZSBMaWdodE1hcCBUZXh0dXJlXG4gICAgY29uc3QgdGV4dHVyZVBhcmFtcyA9IHtcbiAgICAgIHR5cGU6IFRIUkVFLkhhbGZGbG9hdFR5cGUsXG4gICAgICBtYWdGaWx0ZXI6IFRIUkVFLk5lYXJlc3RGaWx0ZXIsXG4gICAgICBtaW5GaWx0ZXI6IFRIUkVFLk5lYXJlc3RGaWx0ZXJcbiAgICB9O1xuICAgIHRoaXMucHJvZ3Jlc3NpdmVMaWdodE1hcDEgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQodGhpcy5yZXMsIHRoaXMucmVzLCB0ZXh0dXJlUGFyYW1zKTtcbiAgICB0aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0KHRoaXMucmVzLCB0aGlzLnJlcywgdGV4dHVyZVBhcmFtcyk7XG5cbiAgICAvLyBJbmplY3Qgc29tZSBzcGljeSBuZXcgbG9naWMgaW50byBhIHN0YW5kYXJkIHBob25nIG1hdGVyaWFsXG4gICAgdGhpcy5kaXNjYXJkTWF0ID0gbmV3IERpc2NhcmRNYXRlcmlhbCgpO1xuICAgIHRoaXMudGFyZ2V0TWF0ID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe1xuICAgICAgZm9nOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMucHJldmlvdXNTaGFkb3dNYXAgPSB7XG4gICAgICB2YWx1ZTogdGhpcy5wcm9ncmVzc2l2ZUxpZ2h0TWFwMS50ZXh0dXJlXG4gICAgfTtcbiAgICB0aGlzLmF2ZXJhZ2luZ1dpbmRvdyA9IHtcbiAgICAgIHZhbHVlOiAxMDBcbiAgICB9O1xuICAgIHRoaXMudGFyZ2V0TWF0Lm9uQmVmb3JlQ29tcGlsZSA9IHNoYWRlciA9PiB7XG4gICAgICAvLyBWZXJ0ZXggU2hhZGVyOiBTZXQgVmVydGV4IFBvc2l0aW9ucyB0byB0aGUgVW53cmFwcGVkIFVWIFBvc2l0aW9uc1xuICAgICAgc2hhZGVyLnZlcnRleFNoYWRlciA9ICd2YXJ5aW5nIHZlYzIgdlV2O1xcbicgKyBzaGFkZXIudmVydGV4U2hhZGVyLnNsaWNlKDAsIC0xKSArICd2VXYgPSB1djsgZ2xfUG9zaXRpb24gPSB2ZWM0KCh1diAtIDAuNSkgKiAyLjAsIDEuMCwgMS4wKTsgfSc7XG5cbiAgICAgIC8vIEZyYWdtZW50IFNoYWRlcjogU2V0IFBpeGVscyB0byBhdmVyYWdlIGluIHRoZSBQcmV2aW91cyBmcmFtZSdzIFNoYWRvd3NcbiAgICAgIGNvbnN0IGJvZHlTdGFydCA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5pbmRleE9mKCd2b2lkIG1haW4oKSB7Jyk7XG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSAndmFyeWluZyB2ZWMyIHZVdjtcXG4nICsgc2hhZGVyLmZyYWdtZW50U2hhZGVyLnNsaWNlKDAsIGJvZHlTdGFydCkgKyAndW5pZm9ybSBzYW1wbGVyMkQgcHJldmlvdXNTaGFkb3dNYXA7XFxuXHR1bmlmb3JtIGZsb2F0IGF2ZXJhZ2luZ1dpbmRvdztcXG4nICsgc2hhZGVyLmZyYWdtZW50U2hhZGVyLnNsaWNlKGJvZHlTdGFydCAtIDEsIC0xKSArIGBcXG52ZWMzIHRleGVsT2xkID0gdGV4dHVyZTJEKHByZXZpb3VzU2hhZG93TWFwLCB2VXYpLnJnYjtcbiAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiA9IG1peCh0ZXhlbE9sZCwgZ2xfRnJhZ0NvbG9yLnJnYiwgMS4wLyBhdmVyYWdpbmdXaW5kb3cpO1xuICAgICAgfWA7XG5cbiAgICAgIC8vIFNldCB0aGUgUHJldmlvdXMgRnJhbWUncyBUZXh0dXJlIEJ1ZmZlciBhbmQgQXZlcmFnaW5nIFdpbmRvd1xuICAgICAgc2hhZGVyLnVuaWZvcm1zLnByZXZpb3VzU2hhZG93TWFwID0gdGhpcy5wcmV2aW91c1NoYWRvd01hcDtcbiAgICAgIHNoYWRlci51bmlmb3Jtcy5hdmVyYWdpbmdXaW5kb3cgPSB0aGlzLmF2ZXJhZ2luZ1dpbmRvdztcbiAgICB9O1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMucmVuZGVyZXIuZ2V0Q2xlYXJDb2xvcih0aGlzLmNsZWFyQ29sb3IpO1xuICAgIHRoaXMuY2xlYXJBbHBoYSA9IHRoaXMucmVuZGVyZXIuZ2V0Q2xlYXJBbHBoYSgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcignYmxhY2snLCAxKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFJlbmRlclRhcmdldCh0aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAxKTtcbiAgICB0aGlzLnJlbmRlcmVyLmNsZWFyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQodGhpcy5wcm9ncmVzc2l2ZUxpZ2h0TWFwMik7XG4gICAgdGhpcy5yZW5kZXJlci5jbGVhcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG51bGwpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLmNsZWFyQ29sb3IsIHRoaXMuY2xlYXJBbHBoYSk7XG4gICAgdGhpcy5saWdodHMgPSBbXTtcbiAgICB0aGlzLm1lc2hlcyA9IFtdO1xuICAgIHRoaXMuc2NlbmUudHJhdmVyc2Uob2JqZWN0ID0+IHtcbiAgICAgIGlmIChpc0dlb21ldHJ5KG9iamVjdCkpIHtcbiAgICAgICAgdGhpcy5tZXNoZXMucHVzaCh7XG4gICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgIG1hdGVyaWFsOiBvYmplY3QubWF0ZXJpYWxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTGlnaHQob2JqZWN0KSkge1xuICAgICAgICB0aGlzLmxpZ2h0cy5wdXNoKHtcbiAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgaW50ZW5zaXR5OiBvYmplY3QuaW50ZW5zaXR5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHByZXBhcmUoKSB7XG4gICAgdGhpcy5saWdodHMuZm9yRWFjaChsaWdodCA9PiBsaWdodC5vYmplY3QuaW50ZW5zaXR5ID0gMCk7XG4gICAgdGhpcy5tZXNoZXMuZm9yRWFjaChtZXNoID0+IG1lc2gub2JqZWN0Lm1hdGVyaWFsID0gdGhpcy5kaXNjYXJkTWF0KTtcbiAgfVxuICBmaW5pc2goKSB7XG4gICAgdGhpcy5saWdodHMuZm9yRWFjaChsaWdodCA9PiBsaWdodC5vYmplY3QuaW50ZW5zaXR5ID0gbGlnaHQuaW50ZW5zaXR5KTtcbiAgICB0aGlzLm1lc2hlcy5mb3JFYWNoKG1lc2ggPT4gbWVzaC5vYmplY3QubWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsKTtcbiAgfVxuICBjb25maWd1cmUob2JqZWN0KSB7XG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gIH1cbiAgdXBkYXRlKGNhbWVyYSwgYmxlbmRXaW5kb3cgPSAxMDApIHtcbiAgICBpZiAoIXRoaXMub2JqZWN0KSByZXR1cm47XG4gICAgLy8gU2V0IGVhY2ggb2JqZWN0J3MgbWF0ZXJpYWwgdG8gdGhlIFVWIFVud3JhcHBlZCBTdXJmYWNlIE1hcHBpbmcgVmVyc2lvblxuICAgIHRoaXMuYXZlcmFnaW5nV2luZG93LnZhbHVlID0gYmxlbmRXaW5kb3c7XG4gICAgdGhpcy5vYmplY3QubWF0ZXJpYWwgPSB0aGlzLnRhcmdldE1hdDtcbiAgICAvLyBQaW5nLXBvbmcgdHdvIHN1cmZhY2UgYnVmZmVycyBmb3IgcmVhZGluZy93cml0aW5nXG4gICAgY29uc3QgYWN0aXZlTWFwID0gdGhpcy5idWZmZXIxQWN0aXZlID8gdGhpcy5wcm9ncmVzc2l2ZUxpZ2h0TWFwMSA6IHRoaXMucHJvZ3Jlc3NpdmVMaWdodE1hcDI7XG4gICAgY29uc3QgaW5hY3RpdmVNYXAgPSB0aGlzLmJ1ZmZlcjFBY3RpdmUgPyB0aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAyIDogdGhpcy5wcm9ncmVzc2l2ZUxpZ2h0TWFwMTtcbiAgICAvLyBSZW5kZXIgdGhlIG9iamVjdCdzIHN1cmZhY2UgbWFwc1xuICAgIGNvbnN0IG9sZEJnID0gdGhpcy5zY2VuZS5iYWNrZ3JvdW5kO1xuICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoYWN0aXZlTWFwKTtcbiAgICB0aGlzLnByZXZpb3VzU2hhZG93TWFwLnZhbHVlID0gaW5hY3RpdmVNYXAudGV4dHVyZTtcbiAgICB0aGlzLmJ1ZmZlcjFBY3RpdmUgPSAhdGhpcy5idWZmZXIxQWN0aXZlO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIGNhbWVyYSk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQobnVsbCk7XG4gICAgdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gb2xkQmc7XG4gIH1cbn1cblxuZXhwb3J0IHsgQWNjdW11bGF0aXZlU2hhZG93cywgUmFuZG9taXplZExpZ2h0LCBhY2N1bXVsYXRpdmVDb250ZXh0IH07XG4iXSwibmFtZXMiOlsiX2V4dGVuZHMiLCJUSFJFRSIsIlJlYWN0IiwiZXh0ZW5kIiwidXNlVGhyZWUiLCJ1c2VGcmFtZSIsInNoYWRlck1hdGVyaWFsIiwiRGlzY2FyZE1hdGVyaWFsIiwidmVyc2lvbiIsImlzTGlnaHQiLCJvYmplY3QiLCJpc0dlb21ldHJ5IiwiZ2VvbWV0cnkiLCJhY2N1bXVsYXRpdmVDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsIlNvZnRTaGFkb3dNYXRlcmlhbCIsImNvbG9yIiwiQ29sb3IiLCJibGVuZCIsImFscGhhVGVzdCIsIm9wYWNpdHkiLCJtYXAiLCJBY2N1bXVsYXRpdmVTaGFkb3dzIiwiZm9yd2FyZFJlZiIsImNoaWxkcmVuIiwidGVtcG9yYWwiLCJmcmFtZXMiLCJsaW1pdCIsIkluZmluaXR5Iiwic2NhbGUiLCJjb2xvckJsZW5kIiwicmVzb2x1dGlvbiIsInRvbmVNYXBwZWQiLCJwcm9wcyIsImdsIiwic3RhdGUiLCJzY2VuZSIsImNhbWVyYSIsImludmFsaWRhdGUiLCJnUGxhbmUiLCJ1c2VSZWYiLCJnTGlnaHRzIiwicGxtIiwidXNlU3RhdGUiLCJQcm9ncmVzc2l2ZUxpZ2h0TWFwIiwidXNlTGF5b3V0RWZmZWN0IiwiY29uZmlndXJlIiwiY3VycmVudCIsImFwaSIsInVzZU1lbW8iLCJsaWdodHMiLCJNYXAiLCJNYXRoIiwibWF4IiwiY291bnQiLCJnZXRNZXNoIiwicmVzZXQiLCJjbGVhciIsIm1hdGVyaWFsIiwidXBkYXRlIiwibWluIiwidmlzaWJsZSIsInByZXBhcmUiLCJpIiwiZm9yRWFjaCIsImxpZ2h0IiwiZmluaXNoIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImNyZWF0ZUVsZW1lbnQiLCJ0cmF2ZXJzZSIsInJlZiIsIlByb3ZpZGVyIiwidmFsdWUiLCJyZWNlaXZlU2hhZG93Iiwicm90YXRpb24iLCJQSSIsInRyYW5zcGFyZW50IiwiZGVwdGhXcml0ZSIsInByb2dyZXNzaXZlTGlnaHRNYXAyIiwidGV4dHVyZSIsIlJhbmRvbWl6ZWRMaWdodCIsImNhc3RTaGFkb3ciLCJiaWFzIiwibWFwU2l6ZSIsInNpemUiLCJuZWFyIiwiZmFyIiwicG9zaXRpb24iLCJyYWRpdXMiLCJhbW91bnQiLCJpbnRlbnNpdHkiLCJhbWJpZW50IiwibGVuZ3RoIiwiVmVjdG9yMyIsInBhcmVudCIsInVzZUNvbnRleHQiLCJ1c2VDYWxsYmFjayIsImwiLCJyYW5kb20iLCJzZXQiLCJNYXRoVXRpbHMiLCJyYW5kRmxvYXRTcHJlYWQiLCJsYW1iZGEiLCJhY29zIiwicGhpIiwiY29zIiwiYWJzIiwic2luIiwiX3BhcmVudCRsaWdodHMiLCJncm91cCIsInV1aWQiLCJfcGFyZW50JGxpZ2h0czIiLCJkZWxldGUiLCJBcnJheSIsImZyb20iLCJfIiwiaW5kZXgiLCJrZXkiLCJhdHRhY2giLCJhcmdzIiwiY29uc3RydWN0b3IiLCJyZW5kZXJlciIsInJlcyIsImJ1ZmZlcjFBY3RpdmUiLCJtZXNoZXMiLCJjbGVhckNvbG9yIiwiY2xlYXJBbHBoYSIsInRleHR1cmVQYXJhbXMiLCJ0eXBlIiwiSGFsZkZsb2F0VHlwZSIsIm1hZ0ZpbHRlciIsIk5lYXJlc3RGaWx0ZXIiLCJtaW5GaWx0ZXIiLCJwcm9ncmVzc2l2ZUxpZ2h0TWFwMSIsIldlYkdMUmVuZGVyVGFyZ2V0IiwiZGlzY2FyZE1hdCIsInRhcmdldE1hdCIsIk1lc2hMYW1iZXJ0TWF0ZXJpYWwiLCJmb2ciLCJwcmV2aW91c1NoYWRvd01hcCIsImF2ZXJhZ2luZ1dpbmRvdyIsIm9uQmVmb3JlQ29tcGlsZSIsInNoYWRlciIsInZlcnRleFNoYWRlciIsInNsaWNlIiwiYm9keVN0YXJ0IiwiZnJhZ21lbnRTaGFkZXIiLCJpbmRleE9mIiwidW5pZm9ybXMiLCJnZXRDbGVhckNvbG9yIiwiZ2V0Q2xlYXJBbHBoYSIsInNldENsZWFyQ29sb3IiLCJzZXRSZW5kZXJUYXJnZXQiLCJwdXNoIiwibWVzaCIsImJsZW5kV2luZG93IiwiYWN0aXZlTWFwIiwiaW5hY3RpdmVNYXAiLCJvbGRCZyIsImJhY2tncm91bmQiLCJyZW5kZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/AccumulativeShadows.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/Environment.js":
/*!************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/Environment.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Environment: () => (/* binding */ Environment),\n/* harmony export */   EnvironmentCube: () => (/* binding */ EnvironmentCube),\n/* harmony export */   EnvironmentMap: () => (/* binding */ EnvironmentMap),\n/* harmony export */   EnvironmentPortal: () => (/* binding */ EnvironmentPortal)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/objects/GroundProjectedEnv.js\");\n/* harmony import */ var _useEnvironment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useEnvironment.js */ \"(ssr)/./node_modules/@react-three/drei/core/useEnvironment.js\");\n\n\n\n\n\n\nconst isRef = (obj)=>obj.current && obj.current.isScene;\nconst resolveScene = (scene)=>isRef(scene) ? scene.current : scene;\nfunction setEnvProps(background, scene, defaultScene, texture, sceneProps = {}) {\n    var _target$backgroundRot, _target$backgroundRot2, _target$environmentRo, _target$environmentRo2;\n    // defaults\n    sceneProps = {\n        backgroundBlurriness: 0,\n        backgroundIntensity: 1,\n        backgroundRotation: [\n            0,\n            0,\n            0\n        ],\n        environmentIntensity: 1,\n        environmentRotation: [\n            0,\n            0,\n            0\n        ],\n        ...sceneProps\n    };\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    const oldSceneProps = {\n        // @ts-ignore\n        backgroundBlurriness: target.backgroundBlurriness,\n        // @ts-ignore\n        backgroundIntensity: target.backgroundIntensity,\n        // @ts-ignore\n        backgroundRotation: (_target$backgroundRot = (_target$backgroundRot2 = target.backgroundRotation) == null || _target$backgroundRot2.clone == null ? void 0 : _target$backgroundRot2.clone()) !== null && _target$backgroundRot !== void 0 ? _target$backgroundRot : [\n            0,\n            0,\n            0\n        ],\n        // @ts-ignore\n        environmentIntensity: target.environmentIntensity,\n        // @ts-ignore\n        environmentRotation: (_target$environmentRo = (_target$environmentRo2 = target.environmentRotation) == null || _target$environmentRo2.clone == null ? void 0 : _target$environmentRo2.clone()) !== null && _target$environmentRo !== void 0 ? _target$environmentRo : [\n            0,\n            0,\n            0\n        ]\n    };\n    if (background !== \"only\") target.environment = texture;\n    if (background) target.background = texture;\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.k)(target, sceneProps);\n    return ()=>{\n        if (background !== \"only\") target.environment = oldenv;\n        if (background) target.background = oldbg;\n        (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.k)(target, oldSceneProps);\n    };\n}\nfunction EnvironmentMap({ scene, background = false, map, ...config }) {\n    const defaultScene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.scene);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        if (map) return setEnvProps(background, scene, defaultScene, map, config);\n    });\n    return null;\n}\nfunction EnvironmentCube({ background = false, scene, blur, backgroundBlurriness, backgroundIntensity, backgroundRotation, environmentIntensity, environmentRotation, ...rest }) {\n    const texture = (0,_useEnvironment_js__WEBPACK_IMPORTED_MODULE_3__.useEnvironment)(rest);\n    const defaultScene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.scene);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        return setEnvProps(background, scene, defaultScene, texture, {\n            backgroundBlurriness: blur !== null && blur !== void 0 ? blur : backgroundBlurriness,\n            backgroundIntensity,\n            backgroundRotation,\n            environmentIntensity,\n            environmentRotation\n        });\n    });\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        return ()=>{\n            texture.dispose();\n        };\n    }, [\n        texture\n    ]);\n    return null;\n}\nfunction EnvironmentPortal({ children, near = 0.1, far = 1000, resolution = 256, frames = 1, map, background = false, blur, backgroundBlurriness, backgroundIntensity, backgroundRotation, environmentIntensity, environmentRotation, scene, files, path, preset = undefined, extensions }) {\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.gl);\n    const defaultScene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.scene);\n    const camera = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const [virtualScene] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Scene());\n    const fbo = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{\n        const fbo = new three__WEBPACK_IMPORTED_MODULE_4__.WebGLCubeRenderTarget(resolution);\n        fbo.texture.type = three__WEBPACK_IMPORTED_MODULE_4__.HalfFloatType;\n        return fbo;\n    }, [\n        resolution\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        return ()=>{\n            fbo.dispose();\n        };\n    }, [\n        fbo\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        if (frames === 1) {\n            const autoClear = gl.autoClear;\n            gl.autoClear = true;\n            camera.current.update(gl, virtualScene);\n            gl.autoClear = autoClear;\n        }\n        return setEnvProps(background, scene, defaultScene, fbo.texture, {\n            backgroundBlurriness: blur !== null && blur !== void 0 ? blur : backgroundBlurriness,\n            backgroundIntensity,\n            backgroundRotation,\n            environmentIntensity,\n            environmentRotation\n        });\n    }, [\n        children,\n        virtualScene,\n        fbo.texture,\n        scene,\n        defaultScene,\n        background,\n        frames,\n        gl\n    ]);\n    let count = 1;\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.F)(()=>{\n        if (frames === Infinity || count < frames) {\n            const autoClear = gl.autoClear;\n            gl.autoClear = true;\n            camera.current.update(gl, virtualScene);\n            gl.autoClear = autoClear;\n            count++;\n        }\n    });\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.h)(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, children, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"cubeCamera\", {\n        ref: camera,\n        args: [\n            near,\n            far,\n            fbo\n        ]\n    }), files || preset ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentCube, {\n        background: true,\n        files: files,\n        preset: preset,\n        path: path,\n        extensions: extensions\n    }) : map ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentMap, {\n        background: true,\n        map: map,\n        extensions: extensions\n    }) : null), virtualScene));\n}\nfunction EnvironmentGround(props) {\n    var _props$ground, _props$ground2, _scale, _props$ground3;\n    const textureDefault = (0,_useEnvironment_js__WEBPACK_IMPORTED_MODULE_3__.useEnvironment)(props);\n    const texture = props.map || textureDefault;\n    react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.e)({\n            GroundProjectedEnvImpl: three_stdlib__WEBPACK_IMPORTED_MODULE_5__.GroundProjectedEnv\n        }), []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        return ()=>{\n            textureDefault.dispose();\n        };\n    }, [\n        textureDefault\n    ]);\n    const args = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>[\n            texture\n        ], [\n        texture\n    ]);\n    const height = (_props$ground = props.ground) == null ? void 0 : _props$ground.height;\n    const radius = (_props$ground2 = props.ground) == null ? void 0 : _props$ground2.radius;\n    const scale = (_scale = (_props$ground3 = props.ground) == null ? void 0 : _props$ground3.scale) !== null && _scale !== void 0 ? _scale : 1000;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentMap, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n        map: texture\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"groundProjectedEnvImpl\", {\n        args: args,\n        scale: scale,\n        height: height,\n        radius: radius\n    }));\n}\nfunction Environment(props) {\n    return props.ground ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentGround, props) : props.map ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentMap, props) : props.children ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentPortal, props) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentCube, props);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9FbnZpcm9ubWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEwRDtBQUMzQjtBQUMyRDtBQUN0QjtBQUNsQjtBQUNHO0FBRXJELE1BQU1ZLFFBQVFDLENBQUFBLE1BQU9BLElBQUlDLE9BQU8sSUFBSUQsSUFBSUMsT0FBTyxDQUFDQyxPQUFPO0FBQ3ZELE1BQU1DLGVBQWVDLENBQUFBLFFBQVNMLE1BQU1LLFNBQVNBLE1BQU1ILE9BQU8sR0FBR0c7QUFDN0QsU0FBU0MsWUFBWUMsVUFBVSxFQUFFRixLQUFLLEVBQUVHLFlBQVksRUFBRUMsT0FBTyxFQUFFQyxhQUFhLENBQUMsQ0FBQztJQUM1RSxJQUFJQyx1QkFBdUJDLHdCQUF3QkMsdUJBQXVCQztJQUMxRSxXQUFXO0lBQ1hKLGFBQWE7UUFDWEssc0JBQXNCO1FBQ3RCQyxxQkFBcUI7UUFDckJDLG9CQUFvQjtZQUFDO1lBQUc7WUFBRztTQUFFO1FBQzdCQyxzQkFBc0I7UUFDdEJDLHFCQUFxQjtZQUFDO1lBQUc7WUFBRztTQUFFO1FBQzlCLEdBQUdULFVBQVU7SUFDZjtJQUNBLE1BQU1VLFNBQVNoQixhQUFhQyxTQUFTRztJQUNyQyxNQUFNYSxRQUFRRCxPQUFPYixVQUFVO0lBQy9CLE1BQU1lLFNBQVNGLE9BQU9HLFdBQVc7SUFDakMsTUFBTUMsZ0JBQWdCO1FBQ3BCLGFBQWE7UUFDYlQsc0JBQXNCSyxPQUFPTCxvQkFBb0I7UUFDakQsYUFBYTtRQUNiQyxxQkFBcUJJLE9BQU9KLG1CQUFtQjtRQUMvQyxhQUFhO1FBQ2JDLG9CQUFvQixDQUFDTix3QkFBd0IsQ0FBQ0MseUJBQXlCUSxPQUFPSCxrQkFBa0IsS0FBSyxRQUFRTCx1QkFBdUJhLEtBQUssSUFBSSxPQUFPLEtBQUssSUFBSWIsdUJBQXVCYSxLQUFLLEVBQUMsTUFBTyxRQUFRZCwwQkFBMEIsS0FBSyxJQUFJQSx3QkFBd0I7WUFBQztZQUFHO1lBQUc7U0FB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bEI7SUFDUCxLQUFLLFdBQVcsR0FBRXBCLGdEQUFtQixDQUFDLDBCQUEwQjtRQUM5RHlFLE1BQU1BO1FBQ05ZLE9BQU9BO1FBQ1BILFFBQVFBO1FBQ1JFLFFBQVFBO0lBQ1Y7QUFDRjtBQUNBLFNBQVNFLFlBQVlYLEtBQUs7SUFDeEIsT0FBT0EsTUFBTVEsTUFBTSxHQUFHLFdBQVcsR0FBRW5GLGdEQUFtQixDQUFDMEUsbUJBQW1CQyxTQUFTQSxNQUFNckMsR0FBRyxHQUFHLFdBQVcsR0FBRXRDLGdEQUFtQixDQUFDcUMsZ0JBQWdCc0MsU0FBU0EsTUFBTTNCLFFBQVEsR0FBRyxXQUFXLEdBQUVoRCxnREFBbUIsQ0FBQytDLG1CQUFtQjRCLFNBQVMsV0FBVyxHQUFFM0UsZ0RBQW1CLENBQUMwQyxpQkFBaUJpQztBQUMzUjtBQUUyRSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9FbnZpcm9ubWVudC5qcz82MDQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRocmVlLCB1c2VGcmFtZSwgY3JlYXRlUG9ydGFsLCBhcHBseVByb3BzLCBleHRlbmQgfSBmcm9tICdAcmVhY3QtdGhyZWUvZmliZXInO1xuaW1wb3J0IHsgU2NlbmUsIFdlYkdMQ3ViZVJlbmRlclRhcmdldCwgSGFsZkZsb2F0VHlwZSB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdyb3VuZFByb2plY3RlZEVudiB9IGZyb20gJ3RocmVlLXN0ZGxpYic7XG5pbXBvcnQgeyB1c2VFbnZpcm9ubWVudCB9IGZyb20gJy4vdXNlRW52aXJvbm1lbnQuanMnO1xuXG5jb25zdCBpc1JlZiA9IG9iaiA9PiBvYmouY3VycmVudCAmJiBvYmouY3VycmVudC5pc1NjZW5lO1xuY29uc3QgcmVzb2x2ZVNjZW5lID0gc2NlbmUgPT4gaXNSZWYoc2NlbmUpID8gc2NlbmUuY3VycmVudCA6IHNjZW5lO1xuZnVuY3Rpb24gc2V0RW52UHJvcHMoYmFja2dyb3VuZCwgc2NlbmUsIGRlZmF1bHRTY2VuZSwgdGV4dHVyZSwgc2NlbmVQcm9wcyA9IHt9KSB7XG4gIHZhciBfdGFyZ2V0JGJhY2tncm91bmRSb3QsIF90YXJnZXQkYmFja2dyb3VuZFJvdDIsIF90YXJnZXQkZW52aXJvbm1lbnRSbywgX3RhcmdldCRlbnZpcm9ubWVudFJvMjtcbiAgLy8gZGVmYXVsdHNcbiAgc2NlbmVQcm9wcyA9IHtcbiAgICBiYWNrZ3JvdW5kQmx1cnJpbmVzczogMCxcbiAgICBiYWNrZ3JvdW5kSW50ZW5zaXR5OiAxLFxuICAgIGJhY2tncm91bmRSb3RhdGlvbjogWzAsIDAsIDBdLFxuICAgIGVudmlyb25tZW50SW50ZW5zaXR5OiAxLFxuICAgIGVudmlyb25tZW50Um90YXRpb246IFswLCAwLCAwXSxcbiAgICAuLi5zY2VuZVByb3BzXG4gIH07XG4gIGNvbnN0IHRhcmdldCA9IHJlc29sdmVTY2VuZShzY2VuZSB8fCBkZWZhdWx0U2NlbmUpO1xuICBjb25zdCBvbGRiZyA9IHRhcmdldC5iYWNrZ3JvdW5kO1xuICBjb25zdCBvbGRlbnYgPSB0YXJnZXQuZW52aXJvbm1lbnQ7XG4gIGNvbnN0IG9sZFNjZW5lUHJvcHMgPSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGJhY2tncm91bmRCbHVycmluZXNzOiB0YXJnZXQuYmFja2dyb3VuZEJsdXJyaW5lc3MsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGJhY2tncm91bmRJbnRlbnNpdHk6IHRhcmdldC5iYWNrZ3JvdW5kSW50ZW5zaXR5LFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBiYWNrZ3JvdW5kUm90YXRpb246IChfdGFyZ2V0JGJhY2tncm91bmRSb3QgPSAoX3RhcmdldCRiYWNrZ3JvdW5kUm90MiA9IHRhcmdldC5iYWNrZ3JvdW5kUm90YXRpb24pID09IG51bGwgfHwgX3RhcmdldCRiYWNrZ3JvdW5kUm90Mi5jbG9uZSA9PSBudWxsID8gdm9pZCAwIDogX3RhcmdldCRiYWNrZ3JvdW5kUm90Mi5jbG9uZSgpKSAhPT0gbnVsbCAmJiBfdGFyZ2V0JGJhY2tncm91bmRSb3QgIT09IHZvaWQgMCA/IF90YXJnZXQkYmFja2dyb3VuZFJvdCA6IFswLCAwLCAwXSxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZW52aXJvbm1lbnRJbnRlbnNpdHk6IHRhcmdldC5lbnZpcm9ubWVudEludGVuc2l0eSxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZW52aXJvbm1lbnRSb3RhdGlvbjogKF90YXJnZXQkZW52aXJvbm1lbnRSbyA9IChfdGFyZ2V0JGVudmlyb25tZW50Um8yID0gdGFyZ2V0LmVudmlyb25tZW50Um90YXRpb24pID09IG51bGwgfHwgX3RhcmdldCRlbnZpcm9ubWVudFJvMi5jbG9uZSA9PSBudWxsID8gdm9pZCAwIDogX3RhcmdldCRlbnZpcm9ubWVudFJvMi5jbG9uZSgpKSAhPT0gbnVsbCAmJiBfdGFyZ2V0JGVudmlyb25tZW50Um8gIT09IHZvaWQgMCA/IF90YXJnZXQkZW52aXJvbm1lbnRSbyA6IFswLCAwLCAwXVxuICB9O1xuICBpZiAoYmFja2dyb3VuZCAhPT0gJ29ubHknKSB0YXJnZXQuZW52aXJvbm1lbnQgPSB0ZXh0dXJlO1xuICBpZiAoYmFja2dyb3VuZCkgdGFyZ2V0LmJhY2tncm91bmQgPSB0ZXh0dXJlO1xuICBhcHBseVByb3BzKHRhcmdldCwgc2NlbmVQcm9wcyk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKGJhY2tncm91bmQgIT09ICdvbmx5JykgdGFyZ2V0LmVudmlyb25tZW50ID0gb2xkZW52O1xuICAgIGlmIChiYWNrZ3JvdW5kKSB0YXJnZXQuYmFja2dyb3VuZCA9IG9sZGJnO1xuICAgIGFwcGx5UHJvcHModGFyZ2V0LCBvbGRTY2VuZVByb3BzKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIEVudmlyb25tZW50TWFwKHtcbiAgc2NlbmUsXG4gIGJhY2tncm91bmQgPSBmYWxzZSxcbiAgbWFwLFxuICAuLi5jb25maWdcbn0pIHtcbiAgY29uc3QgZGVmYXVsdFNjZW5lID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuc2NlbmUpO1xuICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYXApIHJldHVybiBzZXRFbnZQcm9wcyhiYWNrZ3JvdW5kLCBzY2VuZSwgZGVmYXVsdFNjZW5lLCBtYXAsIGNvbmZpZyk7XG4gIH0pO1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIEVudmlyb25tZW50Q3ViZSh7XG4gIGJhY2tncm91bmQgPSBmYWxzZSxcbiAgc2NlbmUsXG4gIGJsdXIsXG4gIGJhY2tncm91bmRCbHVycmluZXNzLFxuICBiYWNrZ3JvdW5kSW50ZW5zaXR5LFxuICBiYWNrZ3JvdW5kUm90YXRpb24sXG4gIGVudmlyb25tZW50SW50ZW5zaXR5LFxuICBlbnZpcm9ubWVudFJvdGF0aW9uLFxuICAuLi5yZXN0XG59KSB7XG4gIGNvbnN0IHRleHR1cmUgPSB1c2VFbnZpcm9ubWVudChyZXN0KTtcbiAgY29uc3QgZGVmYXVsdFNjZW5lID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuc2NlbmUpO1xuICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBzZXRFbnZQcm9wcyhiYWNrZ3JvdW5kLCBzY2VuZSwgZGVmYXVsdFNjZW5lLCB0ZXh0dXJlLCB7XG4gICAgICBiYWNrZ3JvdW5kQmx1cnJpbmVzczogYmx1ciAhPT0gbnVsbCAmJiBibHVyICE9PSB2b2lkIDAgPyBibHVyIDogYmFja2dyb3VuZEJsdXJyaW5lc3MsXG4gICAgICBiYWNrZ3JvdW5kSW50ZW5zaXR5LFxuICAgICAgYmFja2dyb3VuZFJvdGF0aW9uLFxuICAgICAgZW52aXJvbm1lbnRJbnRlbnNpdHksXG4gICAgICBlbnZpcm9ubWVudFJvdGF0aW9uXG4gICAgfSk7XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0ZXh0dXJlLmRpc3Bvc2UoKTtcbiAgICB9O1xuICB9LCBbdGV4dHVyZV0pO1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIEVudmlyb25tZW50UG9ydGFsKHtcbiAgY2hpbGRyZW4sXG4gIG5lYXIgPSAwLjEsXG4gIGZhciA9IDEwMDAsXG4gIHJlc29sdXRpb24gPSAyNTYsXG4gIGZyYW1lcyA9IDEsXG4gIG1hcCxcbiAgYmFja2dyb3VuZCA9IGZhbHNlLFxuICBibHVyLFxuICBiYWNrZ3JvdW5kQmx1cnJpbmVzcyxcbiAgYmFja2dyb3VuZEludGVuc2l0eSxcbiAgYmFja2dyb3VuZFJvdGF0aW9uLFxuICBlbnZpcm9ubWVudEludGVuc2l0eSxcbiAgZW52aXJvbm1lbnRSb3RhdGlvbixcbiAgc2NlbmUsXG4gIGZpbGVzLFxuICBwYXRoLFxuICBwcmVzZXQgPSB1bmRlZmluZWQsXG4gIGV4dGVuc2lvbnNcbn0pIHtcbiAgY29uc3QgZ2wgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5nbCk7XG4gIGNvbnN0IGRlZmF1bHRTY2VuZSA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLnNjZW5lKTtcbiAgY29uc3QgY2FtZXJhID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBbdmlydHVhbFNjZW5lXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IG5ldyBTY2VuZSgpKTtcbiAgY29uc3QgZmJvID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZmJvID0gbmV3IFdlYkdMQ3ViZVJlbmRlclRhcmdldChyZXNvbHV0aW9uKTtcbiAgICBmYm8udGV4dHVyZS50eXBlID0gSGFsZkZsb2F0VHlwZTtcbiAgICByZXR1cm4gZmJvO1xuICB9LCBbcmVzb2x1dGlvbl0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmYm8uZGlzcG9zZSgpO1xuICAgIH07XG4gIH0sIFtmYm9dKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZnJhbWVzID09PSAxKSB7XG4gICAgICBjb25zdCBhdXRvQ2xlYXIgPSBnbC5hdXRvQ2xlYXI7XG4gICAgICBnbC5hdXRvQ2xlYXIgPSB0cnVlO1xuICAgICAgY2FtZXJhLmN1cnJlbnQudXBkYXRlKGdsLCB2aXJ0dWFsU2NlbmUpO1xuICAgICAgZ2wuYXV0b0NsZWFyID0gYXV0b0NsZWFyO1xuICAgIH1cbiAgICByZXR1cm4gc2V0RW52UHJvcHMoYmFja2dyb3VuZCwgc2NlbmUsIGRlZmF1bHRTY2VuZSwgZmJvLnRleHR1cmUsIHtcbiAgICAgIGJhY2tncm91bmRCbHVycmluZXNzOiBibHVyICE9PSBudWxsICYmIGJsdXIgIT09IHZvaWQgMCA/IGJsdXIgOiBiYWNrZ3JvdW5kQmx1cnJpbmVzcyxcbiAgICAgIGJhY2tncm91bmRJbnRlbnNpdHksXG4gICAgICBiYWNrZ3JvdW5kUm90YXRpb24sXG4gICAgICBlbnZpcm9ubWVudEludGVuc2l0eSxcbiAgICAgIGVudmlyb25tZW50Um90YXRpb25cbiAgICB9KTtcbiAgfSwgW2NoaWxkcmVuLCB2aXJ0dWFsU2NlbmUsIGZiby50ZXh0dXJlLCBzY2VuZSwgZGVmYXVsdFNjZW5lLCBiYWNrZ3JvdW5kLCBmcmFtZXMsIGdsXSk7XG4gIGxldCBjb3VudCA9IDE7XG4gIHVzZUZyYW1lKCgpID0+IHtcbiAgICBpZiAoZnJhbWVzID09PSBJbmZpbml0eSB8fCBjb3VudCA8IGZyYW1lcykge1xuICAgICAgY29uc3QgYXV0b0NsZWFyID0gZ2wuYXV0b0NsZWFyO1xuICAgICAgZ2wuYXV0b0NsZWFyID0gdHJ1ZTtcbiAgICAgIGNhbWVyYS5jdXJyZW50LnVwZGF0ZShnbCwgdmlydHVhbFNjZW5lKTtcbiAgICAgIGdsLmF1dG9DbGVhciA9IGF1dG9DbGVhcjtcbiAgICAgIGNvdW50Kys7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjcmVhdGVQb3J0YWwoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImN1YmVDYW1lcmFcIiwge1xuICAgIHJlZjogY2FtZXJhLFxuICAgIGFyZ3M6IFtuZWFyLCBmYXIsIGZib11cbiAgfSksIGZpbGVzIHx8IHByZXNldCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVudmlyb25tZW50Q3ViZSwge1xuICAgIGJhY2tncm91bmQ6IHRydWUsXG4gICAgZmlsZXM6IGZpbGVzLFxuICAgIHByZXNldDogcHJlc2V0LFxuICAgIHBhdGg6IHBhdGgsXG4gICAgZXh0ZW5zaW9uczogZXh0ZW5zaW9uc1xuICB9KSA6IG1hcCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVudmlyb25tZW50TWFwLCB7XG4gICAgYmFja2dyb3VuZDogdHJ1ZSxcbiAgICBtYXA6IG1hcCxcbiAgICBleHRlbnNpb25zOiBleHRlbnNpb25zXG4gIH0pIDogbnVsbCksIHZpcnR1YWxTY2VuZSkpO1xufVxuZnVuY3Rpb24gRW52aXJvbm1lbnRHcm91bmQocHJvcHMpIHtcbiAgdmFyIF9wcm9wcyRncm91bmQsIF9wcm9wcyRncm91bmQyLCBfc2NhbGUsIF9wcm9wcyRncm91bmQzO1xuICBjb25zdCB0ZXh0dXJlRGVmYXVsdCA9IHVzZUVudmlyb25tZW50KHByb3BzKTtcbiAgY29uc3QgdGV4dHVyZSA9IHByb3BzLm1hcCB8fCB0ZXh0dXJlRGVmYXVsdDtcbiAgUmVhY3QudXNlTWVtbygoKSA9PiBleHRlbmQoe1xuICAgIEdyb3VuZFByb2plY3RlZEVudkltcGw6IEdyb3VuZFByb2plY3RlZEVudlxuICB9KSwgW10pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0ZXh0dXJlRGVmYXVsdC5kaXNwb3NlKCk7XG4gICAgfTtcbiAgfSwgW3RleHR1cmVEZWZhdWx0XSk7XG4gIGNvbnN0IGFyZ3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IFt0ZXh0dXJlXSwgW3RleHR1cmVdKTtcbiAgY29uc3QgaGVpZ2h0ID0gKF9wcm9wcyRncm91bmQgPSBwcm9wcy5ncm91bmQpID09IG51bGwgPyB2b2lkIDAgOiBfcHJvcHMkZ3JvdW5kLmhlaWdodDtcbiAgY29uc3QgcmFkaXVzID0gKF9wcm9wcyRncm91bmQyID0gcHJvcHMuZ3JvdW5kKSA9PSBudWxsID8gdm9pZCAwIDogX3Byb3BzJGdyb3VuZDIucmFkaXVzO1xuICBjb25zdCBzY2FsZSA9IChfc2NhbGUgPSAoX3Byb3BzJGdyb3VuZDMgPSBwcm9wcy5ncm91bmQpID09IG51bGwgPyB2b2lkIDAgOiBfcHJvcHMkZ3JvdW5kMy5zY2FsZSkgIT09IG51bGwgJiYgX3NjYWxlICE9PSB2b2lkIDAgPyBfc2NhbGUgOiAxMDAwO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVudmlyb25tZW50TWFwLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICBtYXA6IHRleHR1cmVcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdyb3VuZFByb2plY3RlZEVudkltcGxcIiwge1xuICAgIGFyZ3M6IGFyZ3MsXG4gICAgc2NhbGU6IHNjYWxlLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHJhZGl1czogcmFkaXVzXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIEVudmlyb25tZW50KHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5ncm91bmQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFbnZpcm9ubWVudEdyb3VuZCwgcHJvcHMpIDogcHJvcHMubWFwID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRW52aXJvbm1lbnRNYXAsIHByb3BzKSA6IHByb3BzLmNoaWxkcmVuID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRW52aXJvbm1lbnRQb3J0YWwsIHByb3BzKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVudmlyb25tZW50Q3ViZSwgcHJvcHMpO1xufVxuXG5leHBvcnQgeyBFbnZpcm9ubWVudCwgRW52aXJvbm1lbnRDdWJlLCBFbnZpcm9ubWVudE1hcCwgRW52aXJvbm1lbnRQb3J0YWwgfTtcbiJdLCJuYW1lcyI6WyJfZXh0ZW5kcyIsIlJlYWN0IiwidXNlVGhyZWUiLCJ1c2VGcmFtZSIsImNyZWF0ZVBvcnRhbCIsImFwcGx5UHJvcHMiLCJleHRlbmQiLCJTY2VuZSIsIldlYkdMQ3ViZVJlbmRlclRhcmdldCIsIkhhbGZGbG9hdFR5cGUiLCJHcm91bmRQcm9qZWN0ZWRFbnYiLCJ1c2VFbnZpcm9ubWVudCIsImlzUmVmIiwib2JqIiwiY3VycmVudCIsImlzU2NlbmUiLCJyZXNvbHZlU2NlbmUiLCJzY2VuZSIsInNldEVudlByb3BzIiwiYmFja2dyb3VuZCIsImRlZmF1bHRTY2VuZSIsInRleHR1cmUiLCJzY2VuZVByb3BzIiwiX3RhcmdldCRiYWNrZ3JvdW5kUm90IiwiX3RhcmdldCRiYWNrZ3JvdW5kUm90MiIsIl90YXJnZXQkZW52aXJvbm1lbnRSbyIsIl90YXJnZXQkZW52aXJvbm1lbnRSbzIiLCJiYWNrZ3JvdW5kQmx1cnJpbmVzcyIsImJhY2tncm91bmRJbnRlbnNpdHkiLCJiYWNrZ3JvdW5kUm90YXRpb24iLCJlbnZpcm9ubWVudEludGVuc2l0eSIsImVudmlyb25tZW50Um90YXRpb24iLCJ0YXJnZXQiLCJvbGRiZyIsIm9sZGVudiIsImVudmlyb25tZW50Iiwib2xkU2NlbmVQcm9wcyIsImNsb25lIiwiRW52aXJvbm1lbnRNYXAiLCJtYXAiLCJjb25maWciLCJzdGF0ZSIsInVzZUxheW91dEVmZmVjdCIsIkVudmlyb25tZW50Q3ViZSIsImJsdXIiLCJyZXN0IiwidXNlRWZmZWN0IiwiZGlzcG9zZSIsIkVudmlyb25tZW50UG9ydGFsIiwiY2hpbGRyZW4iLCJuZWFyIiwiZmFyIiwicmVzb2x1dGlvbiIsImZyYW1lcyIsImZpbGVzIiwicGF0aCIsInByZXNldCIsInVuZGVmaW5lZCIsImV4dGVuc2lvbnMiLCJnbCIsImNhbWVyYSIsInVzZVJlZiIsInZpcnR1YWxTY2VuZSIsInVzZVN0YXRlIiwiZmJvIiwidXNlTWVtbyIsInR5cGUiLCJhdXRvQ2xlYXIiLCJ1cGRhdGUiLCJjb3VudCIsIkluZmluaXR5IiwiY3JlYXRlRWxlbWVudCIsIkZyYWdtZW50IiwicmVmIiwiYXJncyIsIkVudmlyb25tZW50R3JvdW5kIiwicHJvcHMiLCJfcHJvcHMkZ3JvdW5kIiwiX3Byb3BzJGdyb3VuZDIiLCJfc2NhbGUiLCJfcHJvcHMkZ3JvdW5kMyIsInRleHR1cmVEZWZhdWx0IiwiR3JvdW5kUHJvamVjdGVkRW52SW1wbCIsImhlaWdodCIsImdyb3VuZCIsInJhZGl1cyIsInNjYWxlIiwiRW52aXJvbm1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/Environment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/MeshReflectorMaterial.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/MeshReflectorMaterial.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeshReflectorMaterial: () => (/* binding */ MeshReflectorMaterial)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var _materials_BlurPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../materials/BlurPass.js */ \"(ssr)/./node_modules/@react-three/drei/materials/BlurPass.js\");\n/* harmony import */ var _materials_MeshReflectorMaterial_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../materials/MeshReflectorMaterial.js */ \"(ssr)/./node_modules/@react-three/drei/materials/MeshReflectorMaterial.js\");\n\n\n\n\n\n\nconst MeshReflectorMaterial = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ mixBlur = 0, mixStrength = 1, resolution = 256, blur = [\n    0,\n    0\n], minDepthThreshold = 0.9, maxDepthThreshold = 1, depthScale = 0, depthToBlurRatioBias = 0.25, mirror = 0, distortion = 1, mixContrast = 1, distortionMap, reflectorOffset = 0, ...props }, ref)=>{\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.e)({\n        MeshReflectorMaterialImpl: _materials_MeshReflectorMaterial_js__WEBPACK_IMPORTED_MODULE_3__.MeshReflectorMaterial\n    });\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)(({ gl })=>gl);\n    const camera = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)(({ camera })=>camera);\n    const scene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)(({ scene })=>scene);\n    blur = Array.isArray(blur) ? blur : [\n        blur,\n        blur\n    ];\n    const hasBlur = blur[0] + blur[1] > 0;\n    const materialRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(ref, ()=>materialRef.current, []);\n    const [reflectorPlane] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Plane());\n    const [normal] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector3());\n    const [reflectorWorldPosition] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector3());\n    const [cameraWorldPosition] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector3());\n    const [rotationMatrix] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Matrix4());\n    const [lookAtPosition] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, -1));\n    const [clipPlane] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector4());\n    const [view] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector3());\n    const [target] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector3());\n    const [q] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Vector4());\n    const [textureMatrix] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.Matrix4());\n    const [virtualCamera] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_4__.PerspectiveCamera());\n    const beforeRender = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{\n        var _materialRef$current;\n        // TODO: As of R3f 7-8 this should be __r3f.parent\n        const parent = materialRef.current.parent || ((_materialRef$current = materialRef.current) == null ? void 0 : _materialRef$current.__r3f.parent);\n        if (!parent) return;\n        reflectorWorldPosition.setFromMatrixPosition(parent.matrixWorld);\n        cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n        rotationMatrix.extractRotation(parent.matrixWorld);\n        normal.set(0, 0, 1);\n        normal.applyMatrix4(rotationMatrix);\n        reflectorWorldPosition.addScaledVector(normal, reflectorOffset);\n        view.subVectors(reflectorWorldPosition, cameraWorldPosition);\n        // Avoid rendering when reflector is facing away\n        if (view.dot(normal) > 0) return;\n        view.reflect(normal).negate();\n        view.add(reflectorWorldPosition);\n        rotationMatrix.extractRotation(camera.matrixWorld);\n        lookAtPosition.set(0, 0, -1);\n        lookAtPosition.applyMatrix4(rotationMatrix);\n        lookAtPosition.add(cameraWorldPosition);\n        target.subVectors(reflectorWorldPosition, lookAtPosition);\n        target.reflect(normal).negate();\n        target.add(reflectorWorldPosition);\n        virtualCamera.position.copy(view);\n        virtualCamera.up.set(0, 1, 0);\n        virtualCamera.up.applyMatrix4(rotationMatrix);\n        virtualCamera.up.reflect(normal);\n        virtualCamera.lookAt(target);\n        virtualCamera.far = camera.far; // Used in WebGLBackground\n        virtualCamera.updateMatrixWorld();\n        virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n        // Update the texture matrix\n        textureMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n        textureMatrix.multiply(virtualCamera.projectionMatrix);\n        textureMatrix.multiply(virtualCamera.matrixWorldInverse);\n        textureMatrix.multiply(parent.matrixWorld);\n        // Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n        // Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n        reflectorPlane.setFromNormalAndCoplanarPoint(normal, reflectorWorldPosition);\n        reflectorPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n        clipPlane.set(reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant);\n        const projectionMatrix = virtualCamera.projectionMatrix;\n        q.x = (Math.sign(clipPlane.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n        q.y = (Math.sign(clipPlane.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n        q.z = -1.0;\n        q.w = (1.0 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n        // Calculate the scaled plane vector\n        clipPlane.multiplyScalar(2.0 / clipPlane.dot(q));\n        // Replacing the third row of the projection matrix\n        projectionMatrix.elements[2] = clipPlane.x;\n        projectionMatrix.elements[6] = clipPlane.y;\n        projectionMatrix.elements[10] = clipPlane.z + 1.0;\n        projectionMatrix.elements[14] = clipPlane.w;\n    }, [\n        camera,\n        reflectorOffset\n    ]);\n    const [fbo1, fbo2, blurpass, reflectorProps] = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{\n        const parameters = {\n            minFilter: three__WEBPACK_IMPORTED_MODULE_4__.LinearFilter,\n            magFilter: three__WEBPACK_IMPORTED_MODULE_4__.LinearFilter,\n            type: three__WEBPACK_IMPORTED_MODULE_4__.HalfFloatType\n        };\n        const fbo1 = new three__WEBPACK_IMPORTED_MODULE_4__.WebGLRenderTarget(resolution, resolution, parameters);\n        fbo1.depthBuffer = true;\n        fbo1.depthTexture = new three__WEBPACK_IMPORTED_MODULE_4__.DepthTexture(resolution, resolution);\n        fbo1.depthTexture.format = three__WEBPACK_IMPORTED_MODULE_4__.DepthFormat;\n        fbo1.depthTexture.type = three__WEBPACK_IMPORTED_MODULE_4__.UnsignedShortType;\n        const fbo2 = new three__WEBPACK_IMPORTED_MODULE_4__.WebGLRenderTarget(resolution, resolution, parameters);\n        const blurpass = new _materials_BlurPass_js__WEBPACK_IMPORTED_MODULE_5__.BlurPass({\n            gl,\n            resolution,\n            width: blur[0],\n            height: blur[1],\n            minDepthThreshold,\n            maxDepthThreshold,\n            depthScale,\n            depthToBlurRatioBias\n        });\n        const reflectorProps = {\n            mirror,\n            textureMatrix,\n            mixBlur,\n            tDiffuse: fbo1.texture,\n            tDepth: fbo1.depthTexture,\n            tDiffuseBlur: fbo2.texture,\n            hasBlur,\n            mixStrength,\n            minDepthThreshold,\n            maxDepthThreshold,\n            depthScale,\n            depthToBlurRatioBias,\n            distortion,\n            distortionMap,\n            mixContrast,\n            \"defines-USE_BLUR\": hasBlur ? \"\" : undefined,\n            \"defines-USE_DEPTH\": depthScale > 0 ? \"\" : undefined,\n            \"defines-USE_DISTORTION\": distortionMap ? \"\" : undefined\n        };\n        return [\n            fbo1,\n            fbo2,\n            blurpass,\n            reflectorProps\n        ];\n    }, [\n        gl,\n        blur,\n        textureMatrix,\n        resolution,\n        mirror,\n        hasBlur,\n        mixBlur,\n        mixStrength,\n        minDepthThreshold,\n        maxDepthThreshold,\n        depthScale,\n        depthToBlurRatioBias,\n        distortion,\n        distortionMap,\n        mixContrast\n    ]);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.F)(()=>{\n        var _materialRef$current2;\n        // TODO: As of R3f 7-8 this should be __r3f.parent\n        const parent = materialRef.current.parent || ((_materialRef$current2 = materialRef.current) == null ? void 0 : _materialRef$current2.__r3f.parent);\n        if (!parent) return;\n        parent.visible = false;\n        const currentXrEnabled = gl.xr.enabled;\n        const currentShadowAutoUpdate = gl.shadowMap.autoUpdate;\n        beforeRender();\n        gl.xr.enabled = false;\n        gl.shadowMap.autoUpdate = false;\n        gl.setRenderTarget(fbo1);\n        gl.state.buffers.depth.setMask(true);\n        if (!gl.autoClear) gl.clear();\n        gl.render(scene, virtualCamera);\n        if (hasBlur) blurpass.render(gl, fbo1, fbo2);\n        gl.xr.enabled = currentXrEnabled;\n        gl.shadowMap.autoUpdate = currentShadowAutoUpdate;\n        parent.visible = true;\n        gl.setRenderTarget(null);\n    });\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"meshReflectorMaterialImpl\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        attach: \"material\",\n        key: \"key\" + reflectorProps[\"defines-USE_BLUR\"] + reflectorProps[\"defines-USE_DEPTH\"] + reflectorProps[\"defines-USE_DISTORTION\"],\n        ref: materialRef\n    }, reflectorProps, props));\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9NZXNoUmVmbGVjdG9yTWF0ZXJpYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDM0I7QUFDMkk7QUFDMUc7QUFDWjtBQUNxRDtBQUV6RyxNQUFNaUIsd0JBQXdCLGFBQWEsaUJBQUVoQiw2Q0FBZ0IsQ0FBQyxDQUFDLEVBQzdEbUIsVUFBVSxDQUFDLEVBQ1hDLGNBQWMsQ0FBQyxFQUNmQyxhQUFhLEdBQUcsRUFDaEJDLE9BQU87SUFBQztJQUFHO0NBQUUsRUFDYkMsb0JBQW9CLEdBQUcsRUFDdkJDLG9CQUFvQixDQUFDLEVBQ3JCQyxhQUFhLENBQUMsRUFDZEMsdUJBQXVCLElBQUksRUFDM0JDLFNBQVMsQ0FBQyxFQUNWQyxhQUFhLENBQUMsRUFDZEMsY0FBYyxDQUFDLEVBQ2ZDLGFBQWEsRUFDYkMsa0JBQWtCLENBQUMsRUFDbkIsR0FBR0MsT0FDSixFQUFFQztJQUNEckIscURBQU1BLENBQUM7UUFDTHNCLDJCQUEyQmpCLHNGQUF1QkE7SUFDcEQ7SUFDQSxNQUFNa0IsS0FBS3RCLHFEQUFRQSxDQUFDLENBQUMsRUFDbkJzQixFQUFFLEVBQ0gsR0FBS0E7SUFDTixNQUFNQyxTQUFTdkIscURBQVFBLENBQUMsQ0FBQyxFQUN2QnVCLE1BQU0sRUFDUCxHQUFLQTtJQUNOLE1BQU1DLFFBQVF4QixxREFBUUEsQ0FBQyxDQUFDLEVBQ3RCd0IsS0FBSyxFQUNOLEdBQUtBO0lBQ05mLE9BQU9nQixNQUFNQyxPQUFPLENBQUNqQixRQUFRQSxPQUFPO1FBQUNBO1FBQU1BO0tBQUs7SUFDaEQsTUFBTWtCLFVBQVVsQixJQUFJLENBQUMsRUFBRSxHQUFHQSxJQUFJLENBQUMsRUFBRSxHQUFHO0lBQ3BDLE1BQU1tQixjQUFjekMseUNBQVksQ0FBQztJQUNqQ0Esc0RBQXlCLENBQUNpQyxLQUFLLElBQU1RLFlBQVlHLE9BQU8sRUFBRSxFQUFFO0lBQzVELE1BQU0sQ0FBQ0MsZUFB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LE1BQU0sQ0FBQzVGLElBQUkwRCxNQUFNQztRQUN2QzNELEdBQUdnRixFQUFFLENBQUNDLE9BQU8sR0FBR0Y7UUFDaEIvRSxHQUFHbUYsU0FBUyxDQUFDQyxVQUFVLEdBQUdGO1FBQzFCeEQsT0FBT29ELE9BQU8sR0FBRztRQUNqQjlFLEdBQUdxRixlQUFlLENBQUM7SUFDckI7SUFDQSxPQUFPLFdBQVcsR0FBRXhILGdEQUFtQixDQUFDLDZCQUE2QkQsOEVBQVFBLENBQUM7UUFDNUVrSSxRQUFRO1FBR1JDLEtBQUssUUFBUWxDLGNBQWMsQ0FBQyxtQkFBbUIsR0FBR0EsY0FBYyxDQUFDLG9CQUFvQixHQUFHQSxjQUFjLENBQUMseUJBQXlCO1FBQ2hJL0QsS0FBS1E7SUFDUCxHQUFHdUQsZ0JBQWdCaEU7QUFDckI7QUFFaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2NvcmUvTWVzaFJlZmxlY3Rvck1hdGVyaWFsLmpzPzllM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGxhbmUsIFZlY3RvcjMsIE1hdHJpeDQsIFZlY3RvcjQsIFBlcnNwZWN0aXZlQ2FtZXJhLCBXZWJHTFJlbmRlclRhcmdldCwgRGVwdGhUZXh0dXJlLCBEZXB0aEZvcm1hdCwgVW5zaWduZWRTaG9ydFR5cGUsIExpbmVhckZpbHRlciwgSGFsZkZsb2F0VHlwZSB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IGV4dGVuZCwgdXNlVGhyZWUsIHVzZUZyYW1lIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCB7IEJsdXJQYXNzIH0gZnJvbSAnLi4vbWF0ZXJpYWxzL0JsdXJQYXNzLmpzJztcbmltcG9ydCB7IE1lc2hSZWZsZWN0b3JNYXRlcmlhbCBhcyBNZXNoUmVmbGVjdG9yTWF0ZXJpYWwkMSB9IGZyb20gJy4uL21hdGVyaWFscy9NZXNoUmVmbGVjdG9yTWF0ZXJpYWwuanMnO1xuXG5jb25zdCBNZXNoUmVmbGVjdG9yTWF0ZXJpYWwgPSAvKiBAX19QVVJFX18gKi9SZWFjdC5mb3J3YXJkUmVmKCh7XG4gIG1peEJsdXIgPSAwLFxuICBtaXhTdHJlbmd0aCA9IDEsXG4gIHJlc29sdXRpb24gPSAyNTYsXG4gIGJsdXIgPSBbMCwgMF0sXG4gIG1pbkRlcHRoVGhyZXNob2xkID0gMC45LFxuICBtYXhEZXB0aFRocmVzaG9sZCA9IDEsXG4gIGRlcHRoU2NhbGUgPSAwLFxuICBkZXB0aFRvQmx1clJhdGlvQmlhcyA9IDAuMjUsXG4gIG1pcnJvciA9IDAsXG4gIGRpc3RvcnRpb24gPSAxLFxuICBtaXhDb250cmFzdCA9IDEsXG4gIGRpc3RvcnRpb25NYXAsXG4gIHJlZmxlY3Rvck9mZnNldCA9IDAsXG4gIC4uLnByb3BzXG59LCByZWYpID0+IHtcbiAgZXh0ZW5kKHtcbiAgICBNZXNoUmVmbGVjdG9yTWF0ZXJpYWxJbXBsOiBNZXNoUmVmbGVjdG9yTWF0ZXJpYWwkMVxuICB9KTtcbiAgY29uc3QgZ2wgPSB1c2VUaHJlZSgoe1xuICAgIGdsXG4gIH0pID0+IGdsKTtcbiAgY29uc3QgY2FtZXJhID0gdXNlVGhyZWUoKHtcbiAgICBjYW1lcmFcbiAgfSkgPT4gY2FtZXJhKTtcbiAgY29uc3Qgc2NlbmUgPSB1c2VUaHJlZSgoe1xuICAgIHNjZW5lXG4gIH0pID0+IHNjZW5lKTtcbiAgYmx1ciA9IEFycmF5LmlzQXJyYXkoYmx1cikgPyBibHVyIDogW2JsdXIsIGJsdXJdO1xuICBjb25zdCBoYXNCbHVyID0gYmx1clswXSArIGJsdXJbMV0gPiAwO1xuICBjb25zdCBtYXRlcmlhbFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IG1hdGVyaWFsUmVmLmN1cnJlbnQsIFtdKTtcbiAgY29uc3QgW3JlZmxlY3RvclBsYW5lXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IG5ldyBQbGFuZSgpKTtcbiAgY29uc3QgW25vcm1hbF0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBuZXcgVmVjdG9yMygpKTtcbiAgY29uc3QgW3JlZmxlY3RvcldvcmxkUG9zaXRpb25dID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IFZlY3RvcjMoKSk7XG4gIGNvbnN0IFtjYW1lcmFXb3JsZFBvc2l0aW9uXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IG5ldyBWZWN0b3IzKCkpO1xuICBjb25zdCBbcm90YXRpb25NYXRyaXhdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IE1hdHJpeDQoKSk7XG4gIGNvbnN0IFtsb29rQXRQb3NpdGlvbl0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBuZXcgVmVjdG9yMygwLCAwLCAtMSkpO1xuICBjb25zdCBbY2xpcFBsYW5lXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IG5ldyBWZWN0b3I0KCkpO1xuICBjb25zdCBbdmlld10gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBuZXcgVmVjdG9yMygpKTtcbiAgY29uc3QgW3RhcmdldF0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBuZXcgVmVjdG9yMygpKTtcbiAgY29uc3QgW3FdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IFZlY3RvcjQoKSk7XG4gIGNvbnN0IFt0ZXh0dXJlTWF0cml4XSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IG5ldyBNYXRyaXg0KCkpO1xuICBjb25zdCBbdmlydHVhbENhbWVyYV0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoKSk7XG4gIGNvbnN0IGJlZm9yZVJlbmRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICB2YXIgX21hdGVyaWFsUmVmJGN1cnJlbnQ7XG4gICAgLy8gVE9ETzogQXMgb2YgUjNmIDctOCB0aGlzIHNob3VsZCBiZSBfX3IzZi5wYXJlbnRcbiAgICBjb25zdCBwYXJlbnQgPSBtYXRlcmlhbFJlZi5jdXJyZW50LnBhcmVudCB8fCAoKF9tYXRlcmlhbFJlZiRjdXJyZW50ID0gbWF0ZXJpYWxSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tYXRlcmlhbFJlZiRjdXJyZW50Ll9fcjNmLnBhcmVudCk7XG4gICAgaWYgKCFwYXJlbnQpIHJldHVybjtcbiAgICByZWZsZWN0b3JXb3JsZFBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihwYXJlbnQubWF0cml4V29ybGQpO1xuICAgIGNhbWVyYVdvcmxkUG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGNhbWVyYS5tYXRyaXhXb3JsZCk7XG4gICAgcm90YXRpb25NYXRyaXguZXh0cmFjdFJvdGF0aW9uKHBhcmVudC5tYXRyaXhXb3JsZCk7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBub3JtYWwuYXBwbHlNYXRyaXg0KHJvdGF0aW9uTWF0cml4KTtcbiAgICByZWZsZWN0b3JXb3JsZFBvc2l0aW9uLmFkZFNjYWxlZFZlY3Rvcihub3JtYWwsIHJlZmxlY3Rvck9mZnNldCk7XG4gICAgdmlldy5zdWJWZWN0b3JzKHJlZmxlY3RvcldvcmxkUG9zaXRpb24sIGNhbWVyYVdvcmxkUG9zaXRpb24pO1xuICAgIC8vIEF2b2lkIHJlbmRlcmluZyB3aGVuIHJlZmxlY3RvciBpcyBmYWNpbmcgYXdheVxuICAgIGlmICh2aWV3LmRvdChub3JtYWwpID4gMCkgcmV0dXJuO1xuICAgIHZpZXcucmVmbGVjdChub3JtYWwpLm5lZ2F0ZSgpO1xuICAgIHZpZXcuYWRkKHJlZmxlY3RvcldvcmxkUG9zaXRpb24pO1xuICAgIHJvdGF0aW9uTWF0cml4LmV4dHJhY3RSb3RhdGlvbihjYW1lcmEubWF0cml4V29ybGQpO1xuICAgIGxvb2tBdFBvc2l0aW9uLnNldCgwLCAwLCAtMSk7XG4gICAgbG9va0F0UG9zaXRpb24uYXBwbHlNYXRyaXg0KHJvdGF0aW9uTWF0cml4KTtcbiAgICBsb29rQXRQb3NpdGlvbi5hZGQoY2FtZXJhV29ybGRQb3NpdGlvbik7XG4gICAgdGFyZ2V0LnN1YlZlY3RvcnMocmVmbGVjdG9yV29ybGRQb3NpdGlvbiwgbG9va0F0UG9zaXRpb24pO1xuICAgIHRhcmdldC5yZWZsZWN0KG5vcm1hbCkubmVnYXRlKCk7XG4gICAgdGFyZ2V0LmFkZChyZWZsZWN0b3JXb3JsZFBvc2l0aW9uKTtcbiAgICB2aXJ0dWFsQ2FtZXJhLnBvc2l0aW9uLmNvcHkodmlldyk7XG4gICAgdmlydHVhbENhbWVyYS51cC5zZXQoMCwgMSwgMCk7XG4gICAgdmlydHVhbENhbWVyYS51cC5hcHBseU1hdHJpeDQocm90YXRpb25NYXRyaXgpO1xuICAgIHZpcnR1YWxDYW1lcmEudXAucmVmbGVjdChub3JtYWwpO1xuICAgIHZpcnR1YWxDYW1lcmEubG9va0F0KHRhcmdldCk7XG4gICAgdmlydHVhbENhbWVyYS5mYXIgPSBjYW1lcmEuZmFyOyAvLyBVc2VkIGluIFdlYkdMQmFja2dyb3VuZFxuICAgIHZpcnR1YWxDYW1lcmEudXBkYXRlTWF0cml4V29ybGQoKTtcbiAgICB2aXJ0dWFsQ2FtZXJhLnByb2plY3Rpb25NYXRyaXguY29weShjYW1lcmEucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgLy8gVXBkYXRlIHRoZSB0ZXh0dXJlIG1hdHJpeFxuICAgIHRleHR1cmVNYXRyaXguc2V0KDAuNSwgMC4wLCAwLjAsIDAuNSwgMC4wLCAwLjUsIDAuMCwgMC41LCAwLjAsIDAuMCwgMC41LCAwLjUsIDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgdGV4dHVyZU1hdHJpeC5tdWx0aXBseSh2aXJ0dWFsQ2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO1xuICAgIHRleHR1cmVNYXRyaXgubXVsdGlwbHkodmlydHVhbENhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UpO1xuICAgIHRleHR1cmVNYXRyaXgubXVsdGlwbHkocGFyZW50Lm1hdHJpeFdvcmxkKTtcbiAgICAvLyBOb3cgdXBkYXRlIHByb2plY3Rpb24gbWF0cml4IHdpdGggbmV3IGNsaXAgcGxhbmUsIGltcGxlbWVudGluZyBjb2RlIGZyb206IGh0dHA6Ly93d3cudGVyYXRob24uY29tL2NvZGUvb2JsaXF1ZS5odG1sXG4gICAgLy8gUGFwZXIgZXhwbGFpbmluZyB0aGlzIHRlY2huaXF1ZTogaHR0cDovL3d3dy50ZXJhdGhvbi5jb20vbGVuZ3llbC9MZW5neWVsLU9ibGlxdWUucGRmXG4gICAgcmVmbGVjdG9yUGxhbmUuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQobm9ybWFsLCByZWZsZWN0b3JXb3JsZFBvc2l0aW9uKTtcbiAgICByZWZsZWN0b3JQbGFuZS5hcHBseU1hdHJpeDQodmlydHVhbENhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UpO1xuICAgIGNsaXBQbGFuZS5zZXQocmVmbGVjdG9yUGxhbmUubm9ybWFsLngsIHJlZmxlY3RvclBsYW5lLm5vcm1hbC55LCByZWZsZWN0b3JQbGFuZS5ub3JtYWwueiwgcmVmbGVjdG9yUGxhbmUuY29uc3RhbnQpO1xuICAgIGNvbnN0IHByb2plY3Rpb25NYXRyaXggPSB2aXJ0dWFsQ2FtZXJhLnByb2plY3Rpb25NYXRyaXg7XG4gICAgcS54ID0gKE1hdGguc2lnbihjbGlwUGxhbmUueCkgKyBwcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzhdKSAvIHByb2plY3Rpb25NYXRyaXguZWxlbWVudHNbMF07XG4gICAgcS55ID0gKE1hdGguc2lnbihjbGlwUGxhbmUueSkgKyBwcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzldKSAvIHByb2plY3Rpb25NYXRyaXguZWxlbWVudHNbNV07XG4gICAgcS56ID0gLTEuMDtcbiAgICBxLncgPSAoMS4wICsgcHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1sxMF0pIC8gcHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1sxNF07XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzY2FsZWQgcGxhbmUgdmVjdG9yXG4gICAgY2xpcFBsYW5lLm11bHRpcGx5U2NhbGFyKDIuMCAvIGNsaXBQbGFuZS5kb3QocSkpO1xuICAgIC8vIFJlcGxhY2luZyB0aGUgdGhpcmQgcm93IG9mIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgIHByb2plY3Rpb25NYXRyaXguZWxlbWVudHNbMl0gPSBjbGlwUGxhbmUueDtcbiAgICBwcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzZdID0gY2xpcFBsYW5lLnk7XG4gICAgcHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1sxMF0gPSBjbGlwUGxhbmUueiArIDEuMDtcbiAgICBwcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzE0XSA9IGNsaXBQbGFuZS53O1xuICB9LCBbY2FtZXJhLCByZWZsZWN0b3JPZmZzZXRdKTtcbiAgY29uc3QgW2ZibzEsIGZibzIsIGJsdXJwYXNzLCByZWZsZWN0b3JQcm9wc10gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0ge1xuICAgICAgbWluRmlsdGVyOiBMaW5lYXJGaWx0ZXIsXG4gICAgICBtYWdGaWx0ZXI6IExpbmVhckZpbHRlcixcbiAgICAgIHR5cGU6IEhhbGZGbG9hdFR5cGVcbiAgICB9O1xuICAgIGNvbnN0IGZibzEgPSBuZXcgV2ViR0xSZW5kZXJUYXJnZXQocmVzb2x1dGlvbiwgcmVzb2x1dGlvbiwgcGFyYW1ldGVycyk7XG4gICAgZmJvMS5kZXB0aEJ1ZmZlciA9IHRydWU7XG4gICAgZmJvMS5kZXB0aFRleHR1cmUgPSBuZXcgRGVwdGhUZXh0dXJlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIGZibzEuZGVwdGhUZXh0dXJlLmZvcm1hdCA9IERlcHRoRm9ybWF0O1xuICAgIGZibzEuZGVwdGhUZXh0dXJlLnR5cGUgPSBVbnNpZ25lZFNob3J0VHlwZTtcbiAgICBjb25zdCBmYm8yID0gbmV3IFdlYkdMUmVuZGVyVGFyZ2V0KHJlc29sdXRpb24sIHJlc29sdXRpb24sIHBhcmFtZXRlcnMpO1xuICAgIGNvbnN0IGJsdXJwYXNzID0gbmV3IEJsdXJQYXNzKHtcbiAgICAgIGdsLFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIHdpZHRoOiBibHVyWzBdLFxuICAgICAgaGVpZ2h0OiBibHVyWzFdLFxuICAgICAgbWluRGVwdGhUaHJlc2hvbGQsXG4gICAgICBtYXhEZXB0aFRocmVzaG9sZCxcbiAgICAgIGRlcHRoU2NhbGUsXG4gICAgICBkZXB0aFRvQmx1clJhdGlvQmlhc1xuICAgIH0pO1xuICAgIGNvbnN0IHJlZmxlY3RvclByb3BzID0ge1xuICAgICAgbWlycm9yLFxuICAgICAgdGV4dHVyZU1hdHJpeCxcbiAgICAgIG1peEJsdXIsXG4gICAgICB0RGlmZnVzZTogZmJvMS50ZXh0dXJlLFxuICAgICAgdERlcHRoOiBmYm8xLmRlcHRoVGV4dHVyZSxcbiAgICAgIHREaWZmdXNlQmx1cjogZmJvMi50ZXh0dXJlLFxuICAgICAgaGFzQmx1cixcbiAgICAgIG1peFN0cmVuZ3RoLFxuICAgICAgbWluRGVwdGhUaHJlc2hvbGQsXG4gICAgICBtYXhEZXB0aFRocmVzaG9sZCxcbiAgICAgIGRlcHRoU2NhbGUsXG4gICAgICBkZXB0aFRvQmx1clJhdGlvQmlhcyxcbiAgICAgIGRpc3RvcnRpb24sXG4gICAgICBkaXN0b3J0aW9uTWFwLFxuICAgICAgbWl4Q29udHJhc3QsXG4gICAgICAnZGVmaW5lcy1VU0VfQkxVUic6IGhhc0JsdXIgPyAnJyA6IHVuZGVmaW5lZCxcbiAgICAgICdkZWZpbmVzLVVTRV9ERVBUSCc6IGRlcHRoU2NhbGUgPiAwID8gJycgOiB1bmRlZmluZWQsXG4gICAgICAnZGVmaW5lcy1VU0VfRElTVE9SVElPTic6IGRpc3RvcnRpb25NYXAgPyAnJyA6IHVuZGVmaW5lZFxuICAgIH07XG4gICAgcmV0dXJuIFtmYm8xLCBmYm8yLCBibHVycGFzcywgcmVmbGVjdG9yUHJvcHNdO1xuICB9LCBbZ2wsIGJsdXIsIHRleHR1cmVNYXRyaXgsIHJlc29sdXRpb24sIG1pcnJvciwgaGFzQmx1ciwgbWl4Qmx1ciwgbWl4U3RyZW5ndGgsIG1pbkRlcHRoVGhyZXNob2xkLCBtYXhEZXB0aFRocmVzaG9sZCwgZGVwdGhTY2FsZSwgZGVwdGhUb0JsdXJSYXRpb0JpYXMsIGRpc3RvcnRpb24sIGRpc3RvcnRpb25NYXAsIG1peENvbnRyYXN0XSk7XG4gIHVzZUZyYW1lKCgpID0+IHtcbiAgICB2YXIgX21hdGVyaWFsUmVmJGN1cnJlbnQyO1xuICAgIC8vIFRPRE86IEFzIG9mIFIzZiA3LTggdGhpcyBzaG91bGQgYmUgX19yM2YucGFyZW50XG4gICAgY29uc3QgcGFyZW50ID0gbWF0ZXJpYWxSZWYuY3VycmVudC5wYXJlbnQgfHwgKChfbWF0ZXJpYWxSZWYkY3VycmVudDIgPSBtYXRlcmlhbFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX21hdGVyaWFsUmVmJGN1cnJlbnQyLl9fcjNmLnBhcmVudCk7XG4gICAgaWYgKCFwYXJlbnQpIHJldHVybjtcbiAgICBwYXJlbnQudmlzaWJsZSA9IGZhbHNlO1xuICAgIGNvbnN0IGN1cnJlbnRYckVuYWJsZWQgPSBnbC54ci5lbmFibGVkO1xuICAgIGNvbnN0IGN1cnJlbnRTaGFkb3dBdXRvVXBkYXRlID0gZ2wuc2hhZG93TWFwLmF1dG9VcGRhdGU7XG4gICAgYmVmb3JlUmVuZGVyKCk7XG4gICAgZ2wueHIuZW5hYmxlZCA9IGZhbHNlO1xuICAgIGdsLnNoYWRvd01hcC5hdXRvVXBkYXRlID0gZmFsc2U7XG4gICAgZ2wuc2V0UmVuZGVyVGFyZ2V0KGZibzEpO1xuICAgIGdsLnN0YXRlLmJ1ZmZlcnMuZGVwdGguc2V0TWFzayh0cnVlKTtcbiAgICBpZiAoIWdsLmF1dG9DbGVhcikgZ2wuY2xlYXIoKTtcbiAgICBnbC5yZW5kZXIoc2NlbmUsIHZpcnR1YWxDYW1lcmEpO1xuICAgIGlmIChoYXNCbHVyKSBibHVycGFzcy5yZW5kZXIoZ2wsIGZibzEsIGZibzIpO1xuICAgIGdsLnhyLmVuYWJsZWQgPSBjdXJyZW50WHJFbmFibGVkO1xuICAgIGdsLnNoYWRvd01hcC5hdXRvVXBkYXRlID0gY3VycmVudFNoYWRvd0F1dG9VcGRhdGU7XG4gICAgcGFyZW50LnZpc2libGUgPSB0cnVlO1xuICAgIGdsLnNldFJlbmRlclRhcmdldChudWxsKTtcbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm1lc2hSZWZsZWN0b3JNYXRlcmlhbEltcGxcIiwgX2V4dGVuZHMoe1xuICAgIGF0dGFjaDogXCJtYXRlcmlhbFwiXG4gICAgLy8gRGVmaW5lcyBjYW4ndCBiZSB1cGRhdGVkIGR5bmFtaWNhbGx5LCBzbyB3ZSBuZWVkIHRvIHJlY3JlYXRlIHRoZSBtYXRlcmlhbFxuICAgICxcbiAgICBrZXk6ICdrZXknICsgcmVmbGVjdG9yUHJvcHNbJ2RlZmluZXMtVVNFX0JMVVInXSArIHJlZmxlY3RvclByb3BzWydkZWZpbmVzLVVTRV9ERVBUSCddICsgcmVmbGVjdG9yUHJvcHNbJ2RlZmluZXMtVVNFX0RJU1RPUlRJT04nXSxcbiAgICByZWY6IG1hdGVyaWFsUmVmXG4gIH0sIHJlZmxlY3RvclByb3BzLCBwcm9wcykpO1xufSk7XG5cbmV4cG9ydCB7IE1lc2hSZWZsZWN0b3JNYXRlcmlhbCB9O1xuIl0sIm5hbWVzIjpbIl9leHRlbmRzIiwiUmVhY3QiLCJQbGFuZSIsIlZlY3RvcjMiLCJNYXRyaXg0IiwiVmVjdG9yNCIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiV2ViR0xSZW5kZXJUYXJnZXQiLCJEZXB0aFRleHR1cmUiLCJEZXB0aEZvcm1hdCIsIlVuc2lnbmVkU2hvcnRUeXBlIiwiTGluZWFyRmlsdGVyIiwiSGFsZkZsb2F0VHlwZSIsImV4dGVuZCIsInVzZVRocmVlIiwidXNlRnJhbWUiLCJCbHVyUGFzcyIsIk1lc2hSZWZsZWN0b3JNYXRlcmlhbCIsIk1lc2hSZWZsZWN0b3JNYXRlcmlhbCQxIiwiZm9yd2FyZFJlZiIsIm1peEJsdXIiLCJtaXhTdHJlbmd0aCIsInJlc29sdXRpb24iLCJibHVyIiwibWluRGVwdGhUaHJlc2hvbGQiLCJtYXhEZXB0aFRocmVzaG9sZCIsImRlcHRoU2NhbGUiLCJkZXB0aFRvQmx1clJhdGlvQmlhcyIsIm1pcnJvciIsImRpc3RvcnRpb24iLCJtaXhDb250cmFzdCIsImRpc3RvcnRpb25NYXAiLCJyZWZsZWN0b3JPZmZzZXQiLCJwcm9wcyIsInJlZiIsIk1lc2hSZWZsZWN0b3JNYXRlcmlhbEltcGwiLCJnbCIsImNhbWVyYSIsInNjZW5lIiwiQXJyYXkiLCJpc0FycmF5IiwiaGFzQmx1ciIsIm1hdGVyaWFsUmVmIiwidXNlUmVmIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImN1cnJlbnQiLCJyZWZsZWN0b3JQbGFuZSIsInVzZVN0YXRlIiwibm9ybWFsIiwicmVmbGVjdG9yV29ybGRQb3NpdGlvbiIsImNhbWVyYVdvcmxkUG9zaXRpb24iLCJyb3RhdGlvbk1hdHJpeCIsImxvb2tBdFBvc2l0aW9uIiwiY2xpcFBsYW5lIiwidmlldyIsInRhcmdldCIsInEiLCJ0ZXh0dXJlTWF0cml4IiwidmlydHVhbENhbWVyYSIsImJlZm9yZVJlbmRlciIsInVzZUNhbGxiYWNrIiwiX21hdGVyaWFsUmVmJGN1cnJlbnQiLCJwYXJlbnQiLCJfX3IzZiIsInNldEZyb21NYXRyaXhQb3NpdGlvbiIsIm1hdHJpeFdvcmxkIiwiZXh0cmFjdFJvdGF0aW9uIiwic2V0IiwiYXBwbHlNYXRyaXg0IiwiYWRkU2NhbGVkVmVjdG9yIiwic3ViVmVjdG9ycyIsImRvdCIsInJlZmxlY3QiLCJuZWdhdGUiLCJhZGQiLCJwb3NpdGlvbiIsImNvcHkiLCJ1cCIsImxvb2tBdCIsImZhciIsInVwZGF0ZU1hdHJpeFdvcmxkIiwicHJvamVjdGlvbk1hdHJpeCIsIm11bHRpcGx5IiwibWF0cml4V29ybGRJbnZlcnNlIiwic2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQiLCJ4IiwieSIsInoiLCJjb25zdGFudCIsIk1hdGgiLCJzaWduIiwiZWxlbWVudHMiLCJ3IiwibXVsdGlwbHlTY2FsYXIiLCJmYm8xIiwiZmJvMiIsImJsdXJwYXNzIiwicmVmbGVjdG9yUHJvcHMiLCJ1c2VNZW1vIiwicGFyYW1ldGVycyIsIm1pbkZpbHRlciIsIm1hZ0ZpbHRlciIsInR5cGUiLCJkZXB0aEJ1ZmZlciIsImRlcHRoVGV4dHVyZSIsImZvcm1hdCIsIndpZHRoIiwiaGVpZ2h0IiwidERpZmZ1c2UiLCJ0ZXh0dXJlIiwidERlcHRoIiwidERpZmZ1c2VCbHVyIiwidW5kZWZpbmVkIiwiX21hdGVyaWFsUmVmJGN1cnJlbnQyIiwidmlzaWJsZSIsImN1cnJlbnRYckVuYWJsZWQiLCJ4ciIsImVuYWJsZWQiLCJjdXJyZW50U2hhZG93QXV0b1VwZGF0ZSIsInNoYWRvd01hcCIsImF1dG9VcGRhdGUiLCJzZXRSZW5kZXJUYXJnZXQiLCJzdGF0ZSIsImJ1ZmZlcnMiLCJkZXB0aCIsInNldE1hc2siLCJhdXRvQ2xlYXIiLCJjbGVhciIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJhdHRhY2giLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/MeshReflectorMaterial.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/OrbitControls.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/OrbitControls.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OrbitControls: () => (/* binding */ OrbitControls)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/controls/OrbitControls.js\");\n\n\n\n\nconst OrbitControls = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ makeDefault, camera, regress, domElement, enableDamping = true, keyEvents = false, onChange, onStart, onEnd, ...restProps }, ref)=>{\n    const invalidate = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.invalidate);\n    const defaultCamera = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.camera);\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.gl);\n    const events = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.events);\n    const setEvents = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.setEvents);\n    const set = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.set);\n    const get = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.get);\n    const performance = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.performance);\n    const explCamera = camera || defaultCamera;\n    const explDomElement = domElement || events.connected || gl.domElement;\n    const controls = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>new three_stdlib__WEBPACK_IMPORTED_MODULE_3__.OrbitControls(explCamera), [\n        explCamera\n    ]);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.F)(()=>{\n        if (controls.enabled) controls.update();\n    }, -1);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        if (keyEvents) {\n            controls.connect(keyEvents === true ? explDomElement : keyEvents);\n        }\n        controls.connect(explDomElement);\n        return ()=>void controls.dispose();\n    }, [\n        keyEvents,\n        explDomElement,\n        regress,\n        controls,\n        invalidate\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        const callback = (e)=>{\n            invalidate();\n            if (regress) performance.regress();\n            if (onChange) onChange(e);\n        };\n        const onStartCb = (e)=>{\n            if (onStart) onStart(e);\n        };\n        const onEndCb = (e)=>{\n            if (onEnd) onEnd(e);\n        };\n        controls.addEventListener(\"change\", callback);\n        controls.addEventListener(\"start\", onStartCb);\n        controls.addEventListener(\"end\", onEndCb);\n        return ()=>{\n            controls.removeEventListener(\"start\", onStartCb);\n            controls.removeEventListener(\"end\", onEndCb);\n            controls.removeEventListener(\"change\", callback);\n        };\n    }, [\n        onChange,\n        onStart,\n        onEnd,\n        controls,\n        invalidate,\n        setEvents\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        if (makeDefault) {\n            const old = get().controls;\n            // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n            set({\n                controls\n            });\n            return ()=>set({\n                    controls: old\n                });\n        }\n    }, [\n        makeDefault,\n        controls\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"primitive\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        ref: ref,\n        object: controls,\n        enableDamping: enableDamping\n    }, restProps));\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9PcmJpdENvbnRyb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwRDtBQUNGO0FBQ3pCO0FBQ2lDO0FBRWhFLE1BQU1JLGdCQUFnQixhQUFhLGlCQUFFRCw2Q0FBZ0IsQ0FBQyxDQUFDLEVBQ3JESSxXQUFXLEVBQ1hDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxVQUFVLEVBQ1ZDLGdCQUFnQixJQUFJLEVBQ3BCQyxZQUFZLEtBQUssRUFDakJDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxLQUFLLEVBQ0wsR0FBR0MsV0FDSixFQUFFQztJQUNELE1BQU1DLGFBQWFqQixxREFBUUEsQ0FBQ2tCLENBQUFBLFFBQVNBLE1BQU1ELFVBQVU7SUFDckQsTUFBTUUsZ0JBQWdCbkIscURBQVFBLENBQUNrQixDQUFBQSxRQUFTQSxNQUFNWCxNQUFNO0lBQ3BELE1BQU1hLEtBQUtwQixxREFBUUEsQ0FBQ2tCLENBQUFBLFFBQVNBLE1BQU1FLEVBQUU7SUFDckMsTUFBTUMsU0FBU3JCLHFEQUFRQSxDQUFDa0IsQ0FBQUEsUUFBU0EsTUFBTUcsTUFBTTtJQUM3QyxNQUFNQyxZQUFZdEIscURBQVFBLENBQUNrQixDQUFBQSxRQUFTQSxNQUFNSSxTQUFTO0lBQ25ELE1BQU1DLE1BQU12QixxREFBUUEsQ0FBQ2tCLENBQUFBLFFBQVNBLE1BQU1LLEdBQUc7SUFDdkMsTUFBTUMsTUFBTXhCLHFEQUFRQSxDQUFDa0IsQ0FBQUEsUUFBU0EsTUFBTU0sR0FBRztJQUN2QyxNQUFNQyxjQUFjekIscURBQVFBLENBQUNrQixDQUFBQSxRQUFTQSxNQUFNTyxXQUFXO0lBQ3ZELE1BQU1DLGFBQWFuQixVQUFVWTtJQUM3QixNQUFNUSxpQkFBaUJsQixjQUFjWSxPQUFPTyxTQUFTLElBQUlSLEdBQUdYLFVBQVU7SUFDdEUsTUFBTW9CLFdBQVczQiwwQ0FBYSxDQUFDLElBQU0sSUFBSUUsdURBQWVBLENBQUNzQixhQUFhO1FBQUNBO0tBQVc7SUFDbEZ6QixxREFBUUEsQ0FBQztRQUNQLElBQUk0QixTQUFTRSxPQUFPLEVBQUVGLFNBQVNHLE1BQU07SUFDdkMsR0FBRyxDQUFDO0lBQ0o5Qiw0Q0FBZSxDQUFDO1FBQ2QsSUFBSVMsV0FBVztZQUNia0IsU0FBU0ssT0FBTyxDQUFDdkIsY0FBYyxPQUFPZ0IsaUJBQWlCaEI7UUFDekQ7UUFDQWtCLFNBQVNLLE9BQU8sQ0FBQ1A7UUFDakIsT0FBTyxJQUFNLEtBQUtFLFNBQVNNLE9BQU87SUFDcEMsR0FBRztRQUFDeEI7UUFBV2dCO1FBQWdCbkI7UUFBU3FCO1FBQVVaO0tBQVc7SUFDN0RmLDRDQUFlLENBQUM7UUFDZCxNQUFNa0MsV0FBV0MsQ0FBQUE7WUFDZnBCO1lBQ0EsSUFBSVQsU0FBU2lCLFlBQVlqQixPQUFPO1lBQ2hDLElBQUlJLFVBQVVBLFNBQVN5QjtRQUN6QjtRQUNBLE1BQU1DLFlBQVlELENBQUFBO1lBQ2hCLElBQUl4QixTQUFTQSxRQUFRd0I7UUFDdkI7UUFDQSxNQUFNRSxVQUFVRixDQUFBQTtZQUNkLElBQUl2QixPQUFPQSxNQUFNdUI7UUFDbkI7UUFDQVIsU0FBU1csZ0JBQWdCLENBQUMsVUFBVUo7UUFDcENQLFNBQVNXLGdCQUFnQixDQUFDLFNBQVNGO1FBQ25DVCxTQUFTVyxnQkFBZ0IsQ0FBQyxPQUFPRDtRQUNqQyxPQUFPO1lBQ0xWLFNBQVNZLG1CQUFtQixDQUFDLFNBQVNIO1lBQ3RDVCxTQUFTWSxtQkFBbUIsQ0FBQyxPQUFPRjtZQUNwQ1YsU0FBU1ksbUJBQW1CLENBQUMsVUFBVUw7UUFDekM7SUFDRixHQUFHO1FBQUN4QjtRQUFVQztRQUFTQztRQUFPZTtRQUFVWjtRQUFZSztLQUFVO0lBQzlEcEIsNENBQWUsQ0FBQztRQUNkLElBQUlJLGFBQWE7WUFDZixNQUFNb0MsTUFBTWxCLE1BQU1LLFFBQVE7WUFDMUIscUVBQXFFO1lBQ3JFTixJQUFJO2dCQUNGTTtZQUNGO1lBQ0EsT0FBTyxJQUFNTixJQUFJO29CQUNmTSxVQUFVYTtnQkFDWjtRQUNGO0lBQ0YsR0FBRztRQUFDcEM7UUFBYXVCO0tBQVM7SUFDMUIsT0FBTyxXQUFXLEdBQUUzQixnREFBbUIsQ0FBQyxhQUFhSCw4RUFBUUEsQ0FBQztRQUM1RGlCLEtBQUtBO1FBQ0w0QixRQUFRZjtRQUNSbkIsZUFBZUE7SUFDakIsR0FBR0s7QUFDTDtBQUV5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9PcmJpdENvbnRyb2xzLmpzP2M4ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHsgdXNlVGhyZWUsIHVzZUZyYW1lIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgYXMgT3JiaXRDb250cm9scyQxIH0gZnJvbSAndGhyZWUtc3RkbGliJztcblxuY29uc3QgT3JiaXRDb250cm9scyA9IC8qIEBfX1BVUkVfXyAqL1JlYWN0LmZvcndhcmRSZWYoKHtcbiAgbWFrZURlZmF1bHQsXG4gIGNhbWVyYSxcbiAgcmVncmVzcyxcbiAgZG9tRWxlbWVudCxcbiAgZW5hYmxlRGFtcGluZyA9IHRydWUsXG4gIGtleUV2ZW50cyA9IGZhbHNlLFxuICBvbkNoYW5nZSxcbiAgb25TdGFydCxcbiAgb25FbmQsXG4gIC4uLnJlc3RQcm9wc1xufSwgcmVmKSA9PiB7XG4gIGNvbnN0IGludmFsaWRhdGUgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5pbnZhbGlkYXRlKTtcbiAgY29uc3QgZGVmYXVsdENhbWVyYSA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLmNhbWVyYSk7XG4gIGNvbnN0IGdsID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuZ2wpO1xuICBjb25zdCBldmVudHMgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5ldmVudHMpO1xuICBjb25zdCBzZXRFdmVudHMgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5zZXRFdmVudHMpO1xuICBjb25zdCBzZXQgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5zZXQpO1xuICBjb25zdCBnZXQgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5nZXQpO1xuICBjb25zdCBwZXJmb3JtYW5jZSA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLnBlcmZvcm1hbmNlKTtcbiAgY29uc3QgZXhwbENhbWVyYSA9IGNhbWVyYSB8fCBkZWZhdWx0Q2FtZXJhO1xuICBjb25zdCBleHBsRG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgfHwgZXZlbnRzLmNvbm5lY3RlZCB8fCBnbC5kb21FbGVtZW50O1xuICBjb25zdCBjb250cm9scyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gbmV3IE9yYml0Q29udHJvbHMkMShleHBsQ2FtZXJhKSwgW2V4cGxDYW1lcmFdKTtcbiAgdXNlRnJhbWUoKCkgPT4ge1xuICAgIGlmIChjb250cm9scy5lbmFibGVkKSBjb250cm9scy51cGRhdGUoKTtcbiAgfSwgLTEpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChrZXlFdmVudHMpIHtcbiAgICAgIGNvbnRyb2xzLmNvbm5lY3Qoa2V5RXZlbnRzID09PSB0cnVlID8gZXhwbERvbUVsZW1lbnQgOiBrZXlFdmVudHMpO1xuICAgIH1cbiAgICBjb250cm9scy5jb25uZWN0KGV4cGxEb21FbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4gdm9pZCBjb250cm9scy5kaXNwb3NlKCk7XG4gIH0sIFtrZXlFdmVudHMsIGV4cGxEb21FbGVtZW50LCByZWdyZXNzLCBjb250cm9scywgaW52YWxpZGF0ZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gZSA9PiB7XG4gICAgICBpbnZhbGlkYXRlKCk7XG4gICAgICBpZiAocmVncmVzcykgcGVyZm9ybWFuY2UucmVncmVzcygpO1xuICAgICAgaWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShlKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uU3RhcnRDYiA9IGUgPT4ge1xuICAgICAgaWYgKG9uU3RhcnQpIG9uU3RhcnQoZSk7XG4gICAgfTtcbiAgICBjb25zdCBvbkVuZENiID0gZSA9PiB7XG4gICAgICBpZiAob25FbmQpIG9uRW5kKGUpO1xuICAgIH07XG4gICAgY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2FsbGJhY2spO1xuICAgIGNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ3N0YXJ0Jywgb25TdGFydENiKTtcbiAgICBjb250cm9scy5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBvbkVuZENiKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29udHJvbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RhcnQnLCBvblN0YXJ0Q2IpO1xuICAgICAgY29udHJvbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kJywgb25FbmRDYik7XG4gICAgICBjb250cm9scy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgfSwgW29uQ2hhbmdlLCBvblN0YXJ0LCBvbkVuZCwgY29udHJvbHMsIGludmFsaWRhdGUsIHNldEV2ZW50c10pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYWtlRGVmYXVsdCkge1xuICAgICAgY29uc3Qgb2xkID0gZ2V0KCkuY29udHJvbHM7XG4gICAgICAvLyBAdHMtaWdub3JlIGh0dHBzOi8vZ2l0aHViLmNvbS90aHJlZS10eXBlcy90aHJlZS10cy10eXBlcy9wdWxsLzEzOThcbiAgICAgIHNldCh7XG4gICAgICAgIGNvbnRyb2xzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBzZXQoe1xuICAgICAgICBjb250cm9sczogb2xkXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFttYWtlRGVmYXVsdCwgY29udHJvbHNdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBvYmplY3Q6IGNvbnRyb2xzLFxuICAgIGVuYWJsZURhbXBpbmc6IGVuYWJsZURhbXBpbmdcbiAgfSwgcmVzdFByb3BzKSk7XG59KTtcblxuZXhwb3J0IHsgT3JiaXRDb250cm9scyB9O1xuIl0sIm5hbWVzIjpbIl9leHRlbmRzIiwidXNlVGhyZWUiLCJ1c2VGcmFtZSIsIlJlYWN0IiwiT3JiaXRDb250cm9scyIsIk9yYml0Q29udHJvbHMkMSIsImZvcndhcmRSZWYiLCJtYWtlRGVmYXVsdCIsImNhbWVyYSIsInJlZ3Jlc3MiLCJkb21FbGVtZW50IiwiZW5hYmxlRGFtcGluZyIsImtleUV2ZW50cyIsIm9uQ2hhbmdlIiwib25TdGFydCIsIm9uRW5kIiwicmVzdFByb3BzIiwicmVmIiwiaW52YWxpZGF0ZSIsInN0YXRlIiwiZGVmYXVsdENhbWVyYSIsImdsIiwiZXZlbnRzIiwic2V0RXZlbnRzIiwic2V0IiwiZ2V0IiwicGVyZm9ybWFuY2UiLCJleHBsQ2FtZXJhIiwiZXhwbERvbUVsZW1lbnQiLCJjb25uZWN0ZWQiLCJjb250cm9scyIsInVzZU1lbW8iLCJlbmFibGVkIiwidXBkYXRlIiwidXNlRWZmZWN0IiwiY29ubmVjdCIsImRpc3Bvc2UiLCJjYWxsYmFjayIsImUiLCJvblN0YXJ0Q2IiLCJvbkVuZENiIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbGQiLCJjcmVhdGVFbGVtZW50Iiwib2JqZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/OrbitControls.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/Stats.js":
/*!******************************************************!*\
  !*** ./node_modules/@react-three/drei/core/Stats.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Stats: () => (/* binding */ Stats)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var stats_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! stats.js */ \"(ssr)/./node_modules/stats.js/build/stats.min.js\");\n/* harmony import */ var stats_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(stats_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _helpers_useEffectfulState_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/useEffectfulState.js */ \"(ssr)/./node_modules/@react-three/drei/helpers/useEffectfulState.js\");\n\n\n\n\nfunction Stats({ showPanel = 0, className, parent }) {\n    const stats = (0,_helpers_useEffectfulState_js__WEBPACK_IMPORTED_MODULE_2__.useEffectfulState)(()=>new (stats_js__WEBPACK_IMPORTED_MODULE_1___default())(), []);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (stats) {\n            const node = parent && parent.current || document.body;\n            stats.showPanel(showPanel);\n            node == null || node.appendChild(stats.dom);\n            const classNames = (className !== null && className !== void 0 ? className : \"\").split(\" \").filter((cls)=>cls);\n            if (classNames.length) stats.dom.classList.add(...classNames);\n            const begin = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_3__.o)(()=>stats.begin());\n            const end = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_3__.p)(()=>stats.end());\n            return ()=>{\n                if (classNames.length) stats.dom.classList.remove(...classNames);\n                node == null || node.removeChild(stats.dom);\n                begin();\n                end();\n            };\n        }\n    }, [\n        parent,\n        stats,\n        className,\n        showPanel\n    ]);\n    return null;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9TdGF0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStCO0FBQ2dDO0FBQzlCO0FBQ21DO0FBRXBFLFNBQVNLLE1BQU0sRUFDYkMsWUFBWSxDQUFDLEVBQ2JDLFNBQVMsRUFDVEMsTUFBTSxFQUNQO0lBQ0MsTUFBTUMsUUFBUUwsZ0ZBQWlCQSxDQUFDLElBQU0sSUFBSUQsaURBQVNBLElBQUksRUFBRTtJQUN6REgsNENBQWUsQ0FBQztRQUNkLElBQUlTLE9BQU87WUFDVCxNQUFNRSxPQUFPSCxVQUFVQSxPQUFPSSxPQUFPLElBQUlDLFNBQVNDLElBQUk7WUFDdERMLE1BQU1ILFNBQVMsQ0FBQ0E7WUFDaEJLLFFBQVEsUUFBUUEsS0FBS0ksV0FBVyxDQUFDTixNQUFNTyxHQUFHO1lBQzFDLE1BQU1DLGFBQWEsQ0FBQ1YsY0FBYyxRQUFRQSxjQUFjLEtBQUssSUFBSUEsWUFBWSxFQUFDLEVBQUdXLEtBQUssQ0FBQyxLQUFLQyxNQUFNLENBQUNDLENBQUFBLE1BQU9BO1lBQzFHLElBQUlILFdBQVdJLE1BQU0sRUFBRVosTUFBTU8sR0FBRyxDQUFDTSxTQUFTLENBQUNDLEdBQUcsSUFBSU47WUFDbEQsTUFBTU8sUUFBUXZCLHFEQUFTQSxDQUFDLElBQU1RLE1BQU1lLEtBQUs7WUFDekMsTUFBTUMsTUFBTXZCLHFEQUFjQSxDQUFDLElBQU1PLE1BQU1nQixHQUFHO1lBQzFDLE9BQU87Z0JBQ0wsSUFBSVIsV0FBV0ksTUFBTSxFQUFFWixNQUFNTyxHQUFHLENBQUNNLFNBQVMsQ0FBQ0ksTUFBTSxJQUFJVDtnQkFDckROLFFBQVEsUUFBUUEsS0FBS2dCLFdBQVcsQ0FBQ2xCLE1BQU1PLEdBQUc7Z0JBQzFDUTtnQkFDQUM7WUFDRjtRQUNGO0lBQ0YsR0FBRztRQUFDakI7UUFBUUM7UUFBT0Y7UUFBV0Q7S0FBVTtJQUN4QyxPQUFPO0FBQ1Q7QUFFaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2NvcmUvU3RhdHMuanM/ZDVlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBhZGRFZmZlY3QsIGFkZEFmdGVyRWZmZWN0IH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCBTdGF0c0ltcGwgZnJvbSAnc3RhdHMuanMnO1xuaW1wb3J0IHsgdXNlRWZmZWN0ZnVsU3RhdGUgfSBmcm9tICcuLi9oZWxwZXJzL3VzZUVmZmVjdGZ1bFN0YXRlLmpzJztcblxuZnVuY3Rpb24gU3RhdHMoe1xuICBzaG93UGFuZWwgPSAwLFxuICBjbGFzc05hbWUsXG4gIHBhcmVudFxufSkge1xuICBjb25zdCBzdGF0cyA9IHVzZUVmZmVjdGZ1bFN0YXRlKCgpID0+IG5ldyBTdGF0c0ltcGwoKSwgW10pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzdGF0cykge1xuICAgICAgY29uc3Qgbm9kZSA9IHBhcmVudCAmJiBwYXJlbnQuY3VycmVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgc3RhdHMuc2hvd1BhbmVsKHNob3dQYW5lbCk7XG4gICAgICBub2RlID09IG51bGwgfHwgbm9kZS5hcHBlbmRDaGlsZChzdGF0cy5kb20pO1xuICAgICAgY29uc3QgY2xhc3NOYW1lcyA9IChjbGFzc05hbWUgIT09IG51bGwgJiYgY2xhc3NOYW1lICE9PSB2b2lkIDAgPyBjbGFzc05hbWUgOiAnJykuc3BsaXQoJyAnKS5maWx0ZXIoY2xzID0+IGNscyk7XG4gICAgICBpZiAoY2xhc3NOYW1lcy5sZW5ndGgpIHN0YXRzLmRvbS5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMpO1xuICAgICAgY29uc3QgYmVnaW4gPSBhZGRFZmZlY3QoKCkgPT4gc3RhdHMuYmVnaW4oKSk7XG4gICAgICBjb25zdCBlbmQgPSBhZGRBZnRlckVmZmVjdCgoKSA9PiBzdGF0cy5lbmQoKSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoY2xhc3NOYW1lcy5sZW5ndGgpIHN0YXRzLmRvbS5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzTmFtZXMpO1xuICAgICAgICBub2RlID09IG51bGwgfHwgbm9kZS5yZW1vdmVDaGlsZChzdGF0cy5kb20pO1xuICAgICAgICBiZWdpbigpO1xuICAgICAgICBlbmQoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbcGFyZW50LCBzdGF0cywgY2xhc3NOYW1lLCBzaG93UGFuZWxdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCB7IFN0YXRzIH07XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJhZGRFZmZlY3QiLCJhZGRBZnRlckVmZmVjdCIsIlN0YXRzSW1wbCIsInVzZUVmZmVjdGZ1bFN0YXRlIiwiU3RhdHMiLCJzaG93UGFuZWwiLCJjbGFzc05hbWUiLCJwYXJlbnQiLCJzdGF0cyIsInVzZUVmZmVjdCIsIm5vZGUiLCJjdXJyZW50IiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkb20iLCJjbGFzc05hbWVzIiwic3BsaXQiLCJmaWx0ZXIiLCJjbHMiLCJsZW5ndGgiLCJjbGFzc0xpc3QiLCJhZGQiLCJiZWdpbiIsImVuZCIsInJlbW92ZSIsInJlbW92ZUNoaWxkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/Stats.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/Text.js":
/*!*****************************************************!*\
  !*** ./node_modules/@react-three/drei/core/Text.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Text: () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var troika_three_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! troika-three-text */ \"(ssr)/./node_modules/troika-three-text/dist/troika-three-text.esm.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var suspend_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! suspend-react */ \"(ssr)/./node_modules/suspend-react/index.js\");\n\n\n\n\n\nconst Text = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ sdfGlyphSize = 64, anchorX = \"center\", anchorY = \"middle\", font, fontSize = 1, children, characters, onSync, ...props }, ref)=>{\n    const invalidate = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)(({ invalidate })=>invalidate);\n    const [troikaMesh] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>new troika_three_text__WEBPACK_IMPORTED_MODULE_3__.Text());\n    const [nodes, text] = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{\n        const n = [];\n        let t = \"\";\n        react__WEBPACK_IMPORTED_MODULE_1__.Children.forEach(children, (child)=>{\n            if (typeof child === \"string\" || typeof child === \"number\") {\n                t += child;\n            } else {\n                n.push(child);\n            }\n        });\n        return [\n            n,\n            t\n        ];\n    }, [\n        children\n    ]);\n    (0,suspend_react__WEBPACK_IMPORTED_MODULE_4__.suspend)(()=>new Promise((res)=>(0,troika_three_text__WEBPACK_IMPORTED_MODULE_3__.preloadFont)({\n                font,\n                characters\n            }, res)), [\n        \"troika-text\",\n        font,\n        characters\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>void troikaMesh.sync(()=>{\n            invalidate();\n            if (onSync) onSync(troikaMesh);\n        }));\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        return ()=>troikaMesh.dispose();\n    }, [\n        troikaMesh\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"primitive\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        object: troikaMesh,\n        ref: ref,\n        font: font,\n        text: text,\n        anchorX: anchorX,\n        anchorY: anchorY,\n        fontSize: fontSize,\n        sdfGlyphSize: sdfGlyphSize\n    }, props), nodes);\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9UZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEQ7QUFDM0I7QUFDaUM7QUFDbEI7QUFDTjtBQUV4QyxNQUFNRSxPQUFPLGFBQWEsaUJBQUVELDZDQUFnQixDQUFDLENBQUMsRUFDNUNPLGVBQWUsRUFBRSxFQUNqQkMsVUFBVSxRQUFRLEVBQ2xCQyxVQUFVLFFBQVEsRUFDbEJDLElBQUksRUFDSkMsV0FBVyxDQUFDLEVBQ1pDLFFBQVEsRUFDUkMsVUFBVSxFQUNWQyxNQUFNLEVBQ04sR0FBR0MsT0FDSixFQUFFQztJQUNELE1BQU1DLGFBQWFiLHFEQUFRQSxDQUFDLENBQUMsRUFDM0JhLFVBQVUsRUFDWCxHQUFLQTtJQUNOLE1BQU0sQ0FBQ0MsV0FBVyxHQUFHbEIsMkNBQWMsQ0FBQyxJQUFNLElBQUlFLG1EQUFNQTtJQUNwRCxNQUFNLENBQUNrQixPQUFPQyxLQUFLLEdBQUdyQiwwQ0FBYSxDQUFDO1FBQ2xDLE1BQU11QixJQUFJLEVBQUU7UUFDWixJQUFJQyxJQUFJO1FBQ1J4QiwyQ0FBYyxDQUFDMEIsT0FBTyxDQUFDZCxVQUFVZSxDQUFBQTtZQUMvQixJQUFJLE9BQU9BLFVBQVUsWUFBWSxPQUFPQSxVQUFVLFVBQVU7Z0JBQzFESCxLQUFLRztZQUNQLE9BQU87Z0JBQ0xKLEVBQUVLLElBQUksQ0FBQ0Q7WUFDVDtRQUNGO1FBQ0EsT0FBTztZQUFDSjtZQUFHQztTQUFFO0lBQ2YsR0FBRztRQUFDWjtLQUFTO0lBQ2JQLHNEQUFPQSxDQUFDLElBQU0sSUFBSXdCLFFBQVFDLENBQUFBLE1BQU8zQiw4REFBV0EsQ0FBQztnQkFDM0NPO2dCQUNBRztZQUNGLEdBQUdpQixPQUFPO1FBQUM7UUFBZXBCO1FBQU1HO0tBQVc7SUFDM0NiLGtEQUFxQixDQUFDLElBQU0sS0FBS2tCLFdBQVdjLElBQUksQ0FBQztZQUMvQ2Y7WUFDQSxJQUFJSCxRQUFRQSxPQUFPSTtRQUNyQjtJQUNBbEIsNENBQWUsQ0FBQztRQUNkLE9BQU8sSUFBTWtCLFdBQVdnQixPQUFPO0lBQ2pDLEdBQUc7UUFBQ2hCO0tBQVc7SUFDZixPQUFPLFdBQVcsR0FBRWxCLGdEQUFtQixDQUFDLGFBQWFELDhFQUFRQSxDQUFDO1FBQzVEcUMsUUFBUWxCO1FBQ1JGLEtBQUtBO1FBQ0xOLE1BQU1BO1FBQ05XLE1BQU1BO1FBQ05iLFNBQVNBO1FBQ1RDLFNBQVNBO1FBQ1RFLFVBQVVBO1FBQ1ZKLGNBQWNBO0lBQ2hCLEdBQUdRLFFBQVFLO0FBQ2I7QUFFZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2NvcmUvVGV4dC5qcz9jYzllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRleHQgYXMgVGV4dCQxLCBwcmVsb2FkRm9udCB9IGZyb20gJ3Ryb2lrYS10aHJlZS10ZXh0JztcbmltcG9ydCB7IHVzZVRocmVlIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCB7IHN1c3BlbmQgfSBmcm9tICdzdXNwZW5kLXJlYWN0JztcblxuY29uc3QgVGV4dCA9IC8qIEBfX1BVUkVfXyAqL1JlYWN0LmZvcndhcmRSZWYoKHtcbiAgc2RmR2x5cGhTaXplID0gNjQsXG4gIGFuY2hvclggPSAnY2VudGVyJyxcbiAgYW5jaG9yWSA9ICdtaWRkbGUnLFxuICBmb250LFxuICBmb250U2l6ZSA9IDEsXG4gIGNoaWxkcmVuLFxuICBjaGFyYWN0ZXJzLFxuICBvblN5bmMsXG4gIC4uLnByb3BzXG59LCByZWYpID0+IHtcbiAgY29uc3QgaW52YWxpZGF0ZSA9IHVzZVRocmVlKCh7XG4gICAgaW52YWxpZGF0ZVxuICB9KSA9PiBpbnZhbGlkYXRlKTtcbiAgY29uc3QgW3Ryb2lrYU1lc2hdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IFRleHQkMSgpKTtcbiAgY29uc3QgW25vZGVzLCB0ZXh0XSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG4gPSBbXTtcbiAgICBsZXQgdCA9ICcnO1xuICAgIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdCArPSBjaGlsZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4ucHVzaChjaGlsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtuLCB0XTtcbiAgfSwgW2NoaWxkcmVuXSk7XG4gIHN1c3BlbmQoKCkgPT4gbmV3IFByb21pc2UocmVzID0+IHByZWxvYWRGb250KHtcbiAgICBmb250LFxuICAgIGNoYXJhY3RlcnNcbiAgfSwgcmVzKSksIFsndHJvaWthLXRleHQnLCBmb250LCBjaGFyYWN0ZXJzXSk7XG4gIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB2b2lkIHRyb2lrYU1lc2guc3luYygoKSA9PiB7XG4gICAgaW52YWxpZGF0ZSgpO1xuICAgIGlmIChvblN5bmMpIG9uU3luYyh0cm9pa2FNZXNoKTtcbiAgfSkpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB0cm9pa2FNZXNoLmRpc3Bvc2UoKTtcbiAgfSwgW3Ryb2lrYU1lc2hdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsIF9leHRlbmRzKHtcbiAgICBvYmplY3Q6IHRyb2lrYU1lc2gsXG4gICAgcmVmOiByZWYsXG4gICAgZm9udDogZm9udCxcbiAgICB0ZXh0OiB0ZXh0LFxuICAgIGFuY2hvclg6IGFuY2hvclgsXG4gICAgYW5jaG9yWTogYW5jaG9yWSxcbiAgICBmb250U2l6ZTogZm9udFNpemUsXG4gICAgc2RmR2x5cGhTaXplOiBzZGZHbHlwaFNpemVcbiAgfSwgcHJvcHMpLCBub2Rlcyk7XG59KTtcblxuZXhwb3J0IHsgVGV4dCB9O1xuIl0sIm5hbWVzIjpbIl9leHRlbmRzIiwiUmVhY3QiLCJUZXh0IiwiVGV4dCQxIiwicHJlbG9hZEZvbnQiLCJ1c2VUaHJlZSIsInN1c3BlbmQiLCJmb3J3YXJkUmVmIiwic2RmR2x5cGhTaXplIiwiYW5jaG9yWCIsImFuY2hvclkiLCJmb250IiwiZm9udFNpemUiLCJjaGlsZHJlbiIsImNoYXJhY3RlcnMiLCJvblN5bmMiLCJwcm9wcyIsInJlZiIsImludmFsaWRhdGUiLCJ0cm9pa2FNZXNoIiwidXNlU3RhdGUiLCJub2RlcyIsInRleHQiLCJ1c2VNZW1vIiwibiIsInQiLCJDaGlsZHJlbiIsImZvckVhY2giLCJjaGlsZCIsInB1c2giLCJQcm9taXNlIiwicmVzIiwidXNlTGF5b3V0RWZmZWN0Iiwic3luYyIsInVzZUVmZmVjdCIsImRpc3Bvc2UiLCJjcmVhdGVFbGVtZW50Iiwib2JqZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/Text.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/shaderMaterial.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/shaderMaterial.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shaderMaterial: () => (/* binding */ shaderMaterial)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n    const material = class material extends three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial {\n        constructor(parameters = {}){\n            const entries = Object.entries(uniforms);\n            // Create unforms and shaders\n            super({\n                uniforms: entries.reduce((acc, [name, value])=>{\n                    const uniform = three__WEBPACK_IMPORTED_MODULE_0__.UniformsUtils.clone({\n                        [name]: {\n                            value\n                        }\n                    });\n                    return {\n                        ...acc,\n                        ...uniform\n                    };\n                }, {}),\n                vertexShader,\n                fragmentShader\n            });\n            // Create getter/setters\n            this.key = \"\";\n            entries.forEach(([name])=>Object.defineProperty(this, name, {\n                    get: ()=>this.uniforms[name].value,\n                    set: (v)=>this.uniforms[name].value = v\n                }));\n            // Assign parameters, this might include uniforms\n            Object.assign(this, parameters);\n            // Call onInit\n            if (onInit) onInit(this);\n        }\n    };\n    material.key = three__WEBPACK_IMPORTED_MODULE_0__.MathUtils.generateUUID();\n    return material;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9zaGFkZXJNYXRlcmlhbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQjtBQUUvQixTQUFTQyxlQUFlQyxRQUFRLEVBQUVDLFlBQVksRUFBRUMsY0FBYyxFQUFFQyxNQUFNO0lBQ3BFLE1BQU1DLFdBQVcsTUFBTUEsaUJBQWlCTixpREFBb0I7UUFDMURRLFlBQVlDLGFBQWEsQ0FBQyxDQUFDLENBQUU7WUFDM0IsTUFBTUMsVUFBVUMsT0FBT0QsT0FBTyxDQUFDUjtZQUMvQiw2QkFBNkI7WUFDN0IsS0FBSyxDQUFDO2dCQUNKQSxVQUFVUSxRQUFRRSxNQUFNLENBQUMsQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNQyxNQUFNO29CQUMxQyxNQUFNQyxVQUFVaEIsZ0RBQW1CLENBQUNrQixLQUFLLENBQUM7d0JBQ3hDLENBQUNKLEtBQUssRUFBRTs0QkFDTkM7d0JBQ0Y7b0JBQ0Y7b0JBQ0EsT0FBTzt3QkFDTCxHQUFHRixHQUFHO3dCQUNOLEdBQUdHLE9BQU87b0JBQ1o7Z0JBQ0YsR0FBRyxDQUFDO2dCQUNKYjtnQkFDQUM7WUFDRjtZQUNBLHdCQUF3QjtZQUN4QixJQUFJLENBQUNlLEdBQUcsR0FBRztZQUNYVCxRQUFRVSxPQUFPLENBQUMsQ0FBQyxDQUFDTixLQUFLLEdBQUtILE9BQU9VLGNBQWMsQ0FBQyxJQUFJLEVBQUVQLE1BQU07b0JBQzVEUSxLQUFLLElBQU0sSUFBSSxDQUFDcEIsUUFBUSxDQUFDWSxLQUFLLENBQUNDLEtBQUs7b0JBQ3BDUSxLQUFLQyxDQUFBQSxJQUFLLElBQUksQ0FBQ3RCLFFBQVEsQ0FBQ1ksS0FBSyxDQUFDQyxLQUFLLEdBQUdTO2dCQUN4QztZQUVBLGlEQUFpRDtZQUNqRGIsT0FBT2MsTUFBTSxDQUFDLElBQUksRUFBRWhCO1lBQ3BCLGNBQWM7WUFDZCxJQUFJSixRQUFRQSxPQUFPLElBQUk7UUFDekI7SUFDRjtJQUNBQyxTQUFTYSxHQUFHLEdBQUduQiw0Q0FBZSxDQUFDMkIsWUFBWTtJQUMzQyxPQUFPckI7QUFDVDtBQUUwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9zaGFkZXJNYXRlcmlhbC5qcz83NzgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuZnVuY3Rpb24gc2hhZGVyTWF0ZXJpYWwodW5pZm9ybXMsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIG9uSW5pdCkge1xuICBjb25zdCBtYXRlcmlhbCA9IGNsYXNzIG1hdGVyaWFsIGV4dGVuZHMgVEhSRUUuU2hhZGVyTWF0ZXJpYWwge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB7fSkge1xuICAgICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHVuaWZvcm1zKTtcbiAgICAgIC8vIENyZWF0ZSB1bmZvcm1zIGFuZCBzaGFkZXJzXG4gICAgICBzdXBlcih7XG4gICAgICAgIHVuaWZvcm1zOiBlbnRyaWVzLnJlZHVjZSgoYWNjLCBbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgY29uc3QgdW5pZm9ybSA9IFRIUkVFLlVuaWZvcm1zVXRpbHMuY2xvbmUoe1xuICAgICAgICAgICAgW25hbWVdOiB7XG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgIC4uLnVuaWZvcm1cbiAgICAgICAgICB9O1xuICAgICAgICB9LCB7fSksXG4gICAgICAgIHZlcnRleFNoYWRlcixcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJcbiAgICAgIH0pO1xuICAgICAgLy8gQ3JlYXRlIGdldHRlci9zZXR0ZXJzXG4gICAgICB0aGlzLmtleSA9ICcnO1xuICAgICAgZW50cmllcy5mb3JFYWNoKChbbmFtZV0pID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCB7XG4gICAgICAgIGdldDogKCkgPT4gdGhpcy51bmlmb3Jtc1tuYW1lXS52YWx1ZSxcbiAgICAgICAgc2V0OiB2ID0+IHRoaXMudW5pZm9ybXNbbmFtZV0udmFsdWUgPSB2XG4gICAgICB9KSk7XG5cbiAgICAgIC8vIEFzc2lnbiBwYXJhbWV0ZXJzLCB0aGlzIG1pZ2h0IGluY2x1ZGUgdW5pZm9ybXNcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgcGFyYW1ldGVycyk7XG4gICAgICAvLyBDYWxsIG9uSW5pdFxuICAgICAgaWYgKG9uSW5pdCkgb25Jbml0KHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgbWF0ZXJpYWwua2V5ID0gVEhSRUUuTWF0aFV0aWxzLmdlbmVyYXRlVVVJRCgpO1xuICByZXR1cm4gbWF0ZXJpYWw7XG59XG5cbmV4cG9ydCB7IHNoYWRlck1hdGVyaWFsIH07XG4iXSwibmFtZXMiOlsiVEhSRUUiLCJzaGFkZXJNYXRlcmlhbCIsInVuaWZvcm1zIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJvbkluaXQiLCJtYXRlcmlhbCIsIlNoYWRlck1hdGVyaWFsIiwiY29uc3RydWN0b3IiLCJwYXJhbWV0ZXJzIiwiZW50cmllcyIsIk9iamVjdCIsInJlZHVjZSIsImFjYyIsIm5hbWUiLCJ2YWx1ZSIsInVuaWZvcm0iLCJVbmlmb3Jtc1V0aWxzIiwiY2xvbmUiLCJrZXkiLCJmb3JFYWNoIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJzZXQiLCJ2IiwiYXNzaWduIiwiTWF0aFV0aWxzIiwiZ2VuZXJhdGVVVUlEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/shaderMaterial.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/useEnvironment.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/useEnvironment.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useEnvironment: () => (/* binding */ useEnvironment)\n/* harmony export */ });\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/loaders/RGBELoader.js\");\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/loaders/EXRLoader.js\");\n/* harmony import */ var _monogrid_gainmap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @monogrid/gainmap-js */ \"(ssr)/./node_modules/@monogrid/gainmap-js/dist/decode.js\");\n/* harmony import */ var _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/environment-assets.js */ \"(ssr)/./node_modules/@react-three/drei/helpers/environment-assets.js\");\n/* harmony import */ var _helpers_deprecated_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/deprecated.js */ \"(ssr)/./node_modules/@react-three/drei/helpers/deprecated.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\n\n\n\nconst CUBEMAP_ROOT = \"https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/\";\nconst isArray = (arr)=>Array.isArray(arr);\nconst defaultFiles = [\n    \"/px.png\",\n    \"/nx.png\",\n    \"/py.png\",\n    \"/ny.png\",\n    \"/pz.png\",\n    \"/nz.png\"\n];\nfunction useEnvironment({ files = defaultFiles, path = \"\", preset = undefined, encoding = undefined, extensions } = {}) {\n    let loader = null;\n    let multiFile = false;\n    if (preset) {\n        validatePreset(preset);\n        files = _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj[preset];\n        path = CUBEMAP_ROOT;\n    }\n    // Everything else\n    multiFile = isArray(files);\n    const { extension, isCubemap } = getExtension(files);\n    loader = getLoader(extension);\n    if (!loader) throw new Error(\"useEnvironment: Unrecognized file extension: \" + files);\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.gl);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(()=>{\n        // Only required for gainmap\n        if (extension !== \"webp\" && extension !== \"jpg\" && extension !== \"jpeg\") return;\n        function clearGainmapTexture() {\n            _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.H.clear(// @ts-expect-error\n            loader, multiFile ? [\n                files\n            ] : files);\n        }\n        gl.domElement.addEventListener(\"webglcontextlost\", clearGainmapTexture, {\n            once: true\n        });\n    }, [\n        files,\n        gl.domElement\n    ]);\n    const loaderResult = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.H)(// @ts-expect-error\n    loader, multiFile ? [\n        files\n    ] : files, (loader)=>{\n        // Gainmap requires a renderer\n        if (extension === \"webp\" || extension === \"jpg\" || extension === \"jpeg\") {\n            loader.setRenderer(gl);\n        }\n        loader.setPath == null || loader.setPath(path);\n        if (extensions) extensions(loader);\n    });\n    let texture = multiFile ? // @ts-ignore\n    loaderResult[0] : loaderResult;\n    if (extension === \"jpg\" || extension === \"jpeg\" || extension === \"webp\") {\n        var _renderTarget;\n        texture = (_renderTarget = texture.renderTarget) == null ? void 0 : _renderTarget.texture;\n    }\n    texture.mapping = isCubemap ? three__WEBPACK_IMPORTED_MODULE_3__.CubeReflectionMapping : three__WEBPACK_IMPORTED_MODULE_3__.EquirectangularReflectionMapping;\n    if (\"colorSpace\" in texture) texture.colorSpace = (encoding !== null && encoding !== void 0 ? encoding : isCubemap) ? \"srgb\" : \"srgb-linear\";\n    else texture.encoding = (encoding !== null && encoding !== void 0 ? encoding : isCubemap) ? _helpers_deprecated_js__WEBPACK_IMPORTED_MODULE_4__.sRGBEncoding : _helpers_deprecated_js__WEBPACK_IMPORTED_MODULE_4__.LinearEncoding;\n    return texture;\n}\nconst preloadDefaultOptions = {\n    files: defaultFiles,\n    path: \"\",\n    preset: undefined,\n    extensions: undefined\n};\nuseEnvironment.preload = (preloadOptions)=>{\n    const options = {\n        ...preloadDefaultOptions,\n        ...preloadOptions\n    };\n    let { files, path = \"\" } = options;\n    const { preset, extensions } = options;\n    if (preset) {\n        validatePreset(preset);\n        files = _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj[preset];\n        path = CUBEMAP_ROOT;\n    }\n    const { extension } = getExtension(files);\n    if (extension === \"webp\" || extension === \"jpg\" || extension === \"jpeg\") {\n        throw new Error(\"useEnvironment: Preloading gainmaps is not supported\");\n    }\n    const loader = getLoader(extension);\n    if (!loader) throw new Error(\"useEnvironment: Unrecognized file extension: \" + files);\n    _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.H.preload(// @ts-expect-error\n    loader, isArray(files) ? [\n        files\n    ] : files, (loader)=>{\n        loader.setPath == null || loader.setPath(path);\n        if (extensions) extensions(loader);\n    });\n};\nconst clearDefaultOptins = {\n    files: defaultFiles,\n    preset: undefined\n};\nuseEnvironment.clear = (clearOptions)=>{\n    const options = {\n        ...clearDefaultOptins,\n        ...clearOptions\n    };\n    let { files } = options;\n    const { preset } = options;\n    if (preset) {\n        validatePreset(preset);\n        files = _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj[preset];\n    }\n    const { extension } = getExtension(files);\n    const loader = getLoader(extension);\n    if (!loader) throw new Error(\"useEnvironment: Unrecognized file extension: \" + files);\n    _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.H.clear(// @ts-expect-error\n    loader, isArray(files) ? [\n        files\n    ] : files);\n};\nfunction validatePreset(preset) {\n    if (!(preset in _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj)) throw new Error(\"Preset must be one of: \" + Object.keys(_helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj).join(\", \"));\n}\nfunction getExtension(files) {\n    var _firstEntry$split$pop;\n    const isCubemap = isArray(files) && files.length === 6;\n    const isGainmap = isArray(files) && files.length === 3 && files.some((file)=>file.endsWith(\"json\"));\n    const firstEntry = isArray(files) ? files[0] : files;\n    // Everything else\n    const extension = isCubemap ? \"cube\" : isGainmap ? \"webp\" : firstEntry.startsWith(\"data:application/exr\") ? \"exr\" : firstEntry.startsWith(\"data:application/hdr\") ? \"hdr\" : firstEntry.startsWith(\"data:image/jpeg\") ? \"jpg\" : (_firstEntry$split$pop = firstEntry.split(\".\").pop()) == null || (_firstEntry$split$pop = _firstEntry$split$pop.split(\"?\")) == null || (_firstEntry$split$pop = _firstEntry$split$pop.shift()) == null ? void 0 : _firstEntry$split$pop.toLowerCase();\n    return {\n        extension,\n        isCubemap,\n        isGainmap\n    };\n}\nfunction getLoader(extension) {\n    const loader = extension === \"cube\" ? three__WEBPACK_IMPORTED_MODULE_3__.CubeTextureLoader : extension === \"hdr\" ? three_stdlib__WEBPACK_IMPORTED_MODULE_5__.RGBELoader : extension === \"exr\" ? three_stdlib__WEBPACK_IMPORTED_MODULE_6__.EXRLoader : extension === \"jpg\" || extension === \"jpeg\" ? _monogrid_gainmap_js__WEBPACK_IMPORTED_MODULE_7__.HDRJPGLoader : extension === \"webp\" ? _monogrid_gainmap_js__WEBPACK_IMPORTED_MODULE_7__.GainMapLoader : null;\n    return loader;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS91c2VFbnZpcm9ubWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQzBDO0FBQzlDO0FBQ2M7QUFDTDtBQUNVO0FBQ2hDO0FBRXhDLE1BQU1hLGVBQWU7QUFDckIsTUFBTUMsVUFBVUMsQ0FBQUEsTUFBT0MsTUFBTUYsT0FBTyxDQUFDQztBQUNyQyxNQUFNRSxlQUFlO0lBQUM7SUFBVztJQUFXO0lBQVc7SUFBVztJQUFXO0NBQVU7QUFDdkYsU0FBU0MsZUFBZSxFQUN0QkMsUUFBUUYsWUFBWSxFQUNwQkcsT0FBTyxFQUFFLEVBQ1RDLFNBQVNDLFNBQVMsRUFDbEJDLFdBQVdELFNBQVMsRUFDcEJFLFVBQVUsRUFDWCxHQUFHLENBQUMsQ0FBQztJQUNKLElBQUlDLFNBQVM7SUFDYixJQUFJQyxZQUFZO0lBQ2hCLElBQUlMLFFBQVE7UUFDVk0sZUFBZU47UUFDZkYsUUFBUVYsc0VBQVUsQ0FBQ1ksT0FBTztRQUMxQkQsT0FBT1A7SUFDVDtJQUVBLGtCQUFrQjtJQUNsQmEsWUFBWVosUUFBUUs7SUFDcEIsTUFBTSxFQUNKUyxTQUFTLEVBQ1RDLFNBQVMsRUFDVixHQUFHQyxhQUFhWDtJQUNqQk0sU0FBU00sVUFBVUg7SUFDbkIsSUFBSSxDQUFDSCxRQUFRLE1BQU0sSUFBSU8sTUFBTSxrREFBa0RiO0lBQy9FLE1BQU1jLEtBQUtqQyxxREFBUUEsQ0FBQ2tDLENBQUFBLFFBQVNBLE1BQU1ELEVBQUU7SUFDckNyQixzREFBZUEsQ0FBQztRQUNkLDRCQUE0QjtRQUM1QixJQUFJZ0IsY0FBYyxVQUFVQSxjQUFjLFNBQVNBLGNBQWMsUUFBUTtRQUN6RSxTQUFTTztZQUNQbEMsaURBQVNBLENBQUNtQyxLQUFLLENBQ2YsbUJBQW1CO1lBQ25CWCxRQUFRQyxZQUFZO2dCQUFDUDthQUFNLEdBQUdBO1FBQ2hDO1FBQ0FjLEdBQUdJLFVBQVUsQ0FBQ0MsZ0JBQWdCLENBQUMsb0JB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LG9EQUFpQkEsR0FBR3dCLGNBQWMsUUFBUXZCLG9EQUFVQSxHQUFHdUIsY0FBYyxRQUFRdEIsbURBQVNBLEdBQUdzQixjQUFjLFNBQVNBLGNBQWMsU0FBU3JCLDhEQUFZQSxHQUFHcUIsY0FBYyxTQUFTcEIsK0RBQWFBLEdBQUc7SUFDbk8sT0FBT2lCO0FBQ1Q7QUFFMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2NvcmUvdXNlRW52aXJvbm1lbnQuanM/NzBjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VUaHJlZSwgdXNlTG9hZGVyIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCB7IEN1YmVSZWZsZWN0aW9uTWFwcGluZywgRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmcsIEN1YmVUZXh0dXJlTG9hZGVyIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUkdCRUxvYWRlciwgRVhSTG9hZGVyIH0gZnJvbSAndGhyZWUtc3RkbGliJztcbmltcG9ydCB7IEhEUkpQR0xvYWRlciwgR2Fpbk1hcExvYWRlciB9IGZyb20gJ0Btb25vZ3JpZC9nYWlubWFwLWpzJztcbmltcG9ydCB7IHByZXNldHNPYmogfSBmcm9tICcuLi9oZWxwZXJzL2Vudmlyb25tZW50LWFzc2V0cy5qcyc7XG5pbXBvcnQgeyBzUkdCRW5jb2RpbmcsIExpbmVhckVuY29kaW5nIH0gZnJvbSAnLi4vaGVscGVycy9kZXByZWNhdGVkLmpzJztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgQ1VCRU1BUF9ST09UID0gJ2h0dHBzOi8vcmF3LmdpdGhhY2suY29tL3BtbmRycy9kcmVpLWFzc2V0cy80NTYwNjBhMjZiYmViOGZkZjc5MzI2ZjIyNGI2ZDk5YjhiY2NlNzM2L2hkcmkvJztcbmNvbnN0IGlzQXJyYXkgPSBhcnIgPT4gQXJyYXkuaXNBcnJheShhcnIpO1xuY29uc3QgZGVmYXVsdEZpbGVzID0gWycvcHgucG5nJywgJy9ueC5wbmcnLCAnL3B5LnBuZycsICcvbnkucG5nJywgJy9wei5wbmcnLCAnL256LnBuZyddO1xuZnVuY3Rpb24gdXNlRW52aXJvbm1lbnQoe1xuICBmaWxlcyA9IGRlZmF1bHRGaWxlcyxcbiAgcGF0aCA9ICcnLFxuICBwcmVzZXQgPSB1bmRlZmluZWQsXG4gIGVuY29kaW5nID0gdW5kZWZpbmVkLFxuICBleHRlbnNpb25zXG59ID0ge30pIHtcbiAgbGV0IGxvYWRlciA9IG51bGw7XG4gIGxldCBtdWx0aUZpbGUgPSBmYWxzZTtcbiAgaWYgKHByZXNldCkge1xuICAgIHZhbGlkYXRlUHJlc2V0KHByZXNldCk7XG4gICAgZmlsZXMgPSBwcmVzZXRzT2JqW3ByZXNldF07XG4gICAgcGF0aCA9IENVQkVNQVBfUk9PVDtcbiAgfVxuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZVxuICBtdWx0aUZpbGUgPSBpc0FycmF5KGZpbGVzKTtcbiAgY29uc3Qge1xuICAgIGV4dGVuc2lvbixcbiAgICBpc0N1YmVtYXBcbiAgfSA9IGdldEV4dGVuc2lvbihmaWxlcyk7XG4gIGxvYWRlciA9IGdldExvYWRlcihleHRlbnNpb24pO1xuICBpZiAoIWxvYWRlcikgdGhyb3cgbmV3IEVycm9yKCd1c2VFbnZpcm9ubWVudDogVW5yZWNvZ25pemVkIGZpbGUgZXh0ZW5zaW9uOiAnICsgZmlsZXMpO1xuICBjb25zdCBnbCA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLmdsKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHJlcXVpcmVkIGZvciBnYWlubWFwXG4gICAgaWYgKGV4dGVuc2lvbiAhPT0gJ3dlYnAnICYmIGV4dGVuc2lvbiAhPT0gJ2pwZycgJiYgZXh0ZW5zaW9uICE9PSAnanBlZycpIHJldHVybjtcbiAgICBmdW5jdGlvbiBjbGVhckdhaW5tYXBUZXh0dXJlKCkge1xuICAgICAgdXNlTG9hZGVyLmNsZWFyKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgbG9hZGVyLCBtdWx0aUZpbGUgPyBbZmlsZXNdIDogZmlsZXMpO1xuICAgIH1cbiAgICBnbC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBjbGVhckdhaW5tYXBUZXh0dXJlLCB7XG4gICAgICBvbmNlOiB0cnVlXG4gICAgfSk7XG4gIH0sIFtmaWxlcywgZ2wuZG9tRWxlbWVudF0pO1xuICBjb25zdCBsb2FkZXJSZXN1bHQgPSB1c2VMb2FkZXIoXG4gIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgbG9hZGVyLCBtdWx0aUZpbGUgPyBbZmlsZXNdIDogZmlsZXMsIGxvYWRlciA9PiB7XG4gICAgLy8gR2Fpbm1hcCByZXF1aXJlcyBhIHJlbmRlcmVyXG4gICAgaWYgKGV4dGVuc2lvbiA9PT0gJ3dlYnAnIHx8IGV4dGVuc2lvbiA9PT0gJ2pwZycgfHwgZXh0ZW5zaW9uID09PSAnanBlZycpIHtcbiAgICAgIGxvYWRlci5zZXRSZW5kZXJlcihnbCk7XG4gICAgfVxuICAgIGxvYWRlci5zZXRQYXRoID09IG51bGwgfHwgbG9hZGVyLnNldFBhdGgocGF0aCk7XG4gICAgaWYgKGV4dGVuc2lvbnMpIGV4dGVuc2lvbnMobG9hZGVyKTtcbiAgfSk7XG4gIGxldCB0ZXh0dXJlID0gbXVsdGlGaWxlID9cbiAgLy8gQHRzLWlnbm9yZVxuICBsb2FkZXJSZXN1bHRbMF0gOiBsb2FkZXJSZXN1bHQ7XG4gIGlmIChleHRlbnNpb24gPT09ICdqcGcnIHx8IGV4dGVuc2lvbiA9PT0gJ2pwZWcnIHx8IGV4dGVuc2lvbiA9PT0gJ3dlYnAnKSB7XG4gICAgdmFyIF9yZW5kZXJUYXJnZXQ7XG4gICAgdGV4dHVyZSA9IChfcmVuZGVyVGFyZ2V0ID0gdGV4dHVyZS5yZW5kZXJUYXJnZXQpID09IG51bGwgPyB2b2lkIDAgOiBfcmVuZGVyVGFyZ2V0LnRleHR1cmU7XG4gIH1cbiAgdGV4dHVyZS5tYXBwaW5nID0gaXNDdWJlbWFwID8gQ3ViZVJlZmxlY3Rpb25NYXBwaW5nIDogRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmc7XG4gIGlmICgnY29sb3JTcGFjZScgaW4gdGV4dHVyZSkgdGV4dHVyZS5jb2xvclNwYWNlID0gKGVuY29kaW5nICE9PSBudWxsICYmIGVuY29kaW5nICE9PSB2b2lkIDAgPyBlbmNvZGluZyA6IGlzQ3ViZW1hcCkgPyAnc3JnYicgOiAnc3JnYi1saW5lYXInO2Vsc2UgdGV4dHVyZS5lbmNvZGluZyA9IChlbmNvZGluZyAhPT0gbnVsbCAmJiBlbmNvZGluZyAhPT0gdm9pZCAwID8gZW5jb2RpbmcgOiBpc0N1YmVtYXApID8gc1JHQkVuY29kaW5nIDogTGluZWFyRW5jb2Rpbmc7XG4gIHJldHVybiB0ZXh0dXJlO1xufVxuY29uc3QgcHJlbG9hZERlZmF1bHRPcHRpb25zID0ge1xuICBmaWxlczogZGVmYXVsdEZpbGVzLFxuICBwYXRoOiAnJyxcbiAgcHJlc2V0OiB1bmRlZmluZWQsXG4gIGV4dGVuc2lvbnM6IHVuZGVmaW5lZFxufTtcbnVzZUVudmlyb25tZW50LnByZWxvYWQgPSBwcmVsb2FkT3B0aW9ucyA9PiB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgLi4ucHJlbG9hZERlZmF1bHRPcHRpb25zLFxuICAgIC4uLnByZWxvYWRPcHRpb25zXG4gIH07XG4gIGxldCB7XG4gICAgZmlsZXMsXG4gICAgcGF0aCA9ICcnXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7XG4gICAgcHJlc2V0LFxuICAgIGV4dGVuc2lvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIGlmIChwcmVzZXQpIHtcbiAgICB2YWxpZGF0ZVByZXNldChwcmVzZXQpO1xuICAgIGZpbGVzID0gcHJlc2V0c09ialtwcmVzZXRdO1xuICAgIHBhdGggPSBDVUJFTUFQX1JPT1Q7XG4gIH1cbiAgY29uc3Qge1xuICAgIGV4dGVuc2lvblxuICB9ID0gZ2V0RXh0ZW5zaW9uKGZpbGVzKTtcbiAgaWYgKGV4dGVuc2lvbiA9PT0gJ3dlYnAnIHx8IGV4dGVuc2lvbiA9PT0gJ2pwZycgfHwgZXh0ZW5zaW9uID09PSAnanBlZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUVudmlyb25tZW50OiBQcmVsb2FkaW5nIGdhaW5tYXBzIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgfVxuICBjb25zdCBsb2FkZXIgPSBnZXRMb2FkZXIoZXh0ZW5zaW9uKTtcbiAgaWYgKCFsb2FkZXIpIHRocm93IG5ldyBFcnJvcigndXNlRW52aXJvbm1lbnQ6IFVucmVjb2duaXplZCBmaWxlIGV4dGVuc2lvbjogJyArIGZpbGVzKTtcbiAgdXNlTG9hZGVyLnByZWxvYWQoXG4gIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgbG9hZGVyLCBpc0FycmF5KGZpbGVzKSA/IFtmaWxlc10gOiBmaWxlcywgbG9hZGVyID0+IHtcbiAgICBsb2FkZXIuc2V0UGF0aCA9PSBudWxsIHx8IGxvYWRlci5zZXRQYXRoKHBhdGgpO1xuICAgIGlmIChleHRlbnNpb25zKSBleHRlbnNpb25zKGxvYWRlcik7XG4gIH0pO1xufTtcbmNvbnN0IGNsZWFyRGVmYXVsdE9wdGlucyA9IHtcbiAgZmlsZXM6IGRlZmF1bHRGaWxlcyxcbiAgcHJlc2V0OiB1bmRlZmluZWRcbn07XG51c2VFbnZpcm9ubWVudC5jbGVhciA9IGNsZWFyT3B0aW9ucyA9PiB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgLi4uY2xlYXJEZWZhdWx0T3B0aW5zLFxuICAgIC4uLmNsZWFyT3B0aW9uc1xuICB9O1xuICBsZXQge1xuICAgIGZpbGVzXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7XG4gICAgcHJlc2V0XG4gIH0gPSBvcHRpb25zO1xuICBpZiAocHJlc2V0KSB7XG4gICAgdmFsaWRhdGVQcmVzZXQocHJlc2V0KTtcbiAgICBmaWxlcyA9IHByZXNldHNPYmpbcHJlc2V0XTtcbiAgfVxuICBjb25zdCB7XG4gICAgZXh0ZW5zaW9uXG4gIH0gPSBnZXRFeHRlbnNpb24oZmlsZXMpO1xuICBjb25zdCBsb2FkZXIgPSBnZXRMb2FkZXIoZXh0ZW5zaW9uKTtcbiAgaWYgKCFsb2FkZXIpIHRocm93IG5ldyBFcnJvcigndXNlRW52aXJvbm1lbnQ6IFVucmVjb2duaXplZCBmaWxlIGV4dGVuc2lvbjogJyArIGZpbGVzKTtcbiAgdXNlTG9hZGVyLmNsZWFyKFxuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIGxvYWRlciwgaXNBcnJheShmaWxlcykgPyBbZmlsZXNdIDogZmlsZXMpO1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlUHJlc2V0KHByZXNldCkge1xuICBpZiAoIShwcmVzZXQgaW4gcHJlc2V0c09iaikpIHRocm93IG5ldyBFcnJvcignUHJlc2V0IG11c3QgYmUgb25lIG9mOiAnICsgT2JqZWN0LmtleXMocHJlc2V0c09iaikuam9pbignLCAnKSk7XG59XG5mdW5jdGlvbiBnZXRFeHRlbnNpb24oZmlsZXMpIHtcbiAgdmFyIF9maXJzdEVudHJ5JHNwbGl0JHBvcDtcbiAgY29uc3QgaXNDdWJlbWFwID0gaXNBcnJheShmaWxlcykgJiYgZmlsZXMubGVuZ3RoID09PSA2O1xuICBjb25zdCBpc0dhaW5tYXAgPSBpc0FycmF5KGZpbGVzKSAmJiBmaWxlcy5sZW5ndGggPT09IDMgJiYgZmlsZXMuc29tZShmaWxlID0+IGZpbGUuZW5kc1dpdGgoJ2pzb24nKSk7XG4gIGNvbnN0IGZpcnN0RW50cnkgPSBpc0FycmF5KGZpbGVzKSA/IGZpbGVzWzBdIDogZmlsZXM7XG5cbiAgLy8gRXZlcnl0aGluZyBlbHNlXG4gIGNvbnN0IGV4dGVuc2lvbiA9IGlzQ3ViZW1hcCA/ICdjdWJlJyA6IGlzR2Fpbm1hcCA/ICd3ZWJwJyA6IGZpcnN0RW50cnkuc3RhcnRzV2l0aCgnZGF0YTphcHBsaWNhdGlvbi9leHInKSA/ICdleHInIDogZmlyc3RFbnRyeS5zdGFydHNXaXRoKCdkYXRhOmFwcGxpY2F0aW9uL2hkcicpID8gJ2hkcicgOiBmaXJzdEVudHJ5LnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UvanBlZycpID8gJ2pwZycgOiAoX2ZpcnN0RW50cnkkc3BsaXQkcG9wID0gZmlyc3RFbnRyeS5zcGxpdCgnLicpLnBvcCgpKSA9PSBudWxsIHx8IChfZmlyc3RFbnRyeSRzcGxpdCRwb3AgPSBfZmlyc3RFbnRyeSRzcGxpdCRwb3Auc3BsaXQoJz8nKSkgPT0gbnVsbCB8fCAoX2ZpcnN0RW50cnkkc3BsaXQkcG9wID0gX2ZpcnN0RW50cnkkc3BsaXQkcG9wLnNoaWZ0KCkpID09IG51bGwgPyB2b2lkIDAgOiBfZmlyc3RFbnRyeSRzcGxpdCRwb3AudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIHtcbiAgICBleHRlbnNpb24sXG4gICAgaXNDdWJlbWFwLFxuICAgIGlzR2Fpbm1hcFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0TG9hZGVyKGV4dGVuc2lvbikge1xuICBjb25zdCBsb2FkZXIgPSBleHRlbnNpb24gPT09ICdjdWJlJyA/IEN1YmVUZXh0dXJlTG9hZGVyIDogZXh0ZW5zaW9uID09PSAnaGRyJyA/IFJHQkVMb2FkZXIgOiBleHRlbnNpb24gPT09ICdleHInID8gRVhSTG9hZGVyIDogZXh0ZW5zaW9uID09PSAnanBnJyB8fCBleHRlbnNpb24gPT09ICdqcGVnJyA/IEhEUkpQR0xvYWRlciA6IGV4dGVuc2lvbiA9PT0gJ3dlYnAnID8gR2Fpbk1hcExvYWRlciA6IG51bGw7XG4gIHJldHVybiBsb2FkZXI7XG59XG5cbmV4cG9ydCB7IHVzZUVudmlyb25tZW50IH07XG4iXSwibmFtZXMiOlsidXNlVGhyZWUiLCJ1c2VMb2FkZXIiLCJDdWJlUmVmbGVjdGlvbk1hcHBpbmciLCJFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZyIsIkN1YmVUZXh0dXJlTG9hZGVyIiwiUkdCRUxvYWRlciIsIkVYUkxvYWRlciIsIkhEUkpQR0xvYWRlciIsIkdhaW5NYXBMb2FkZXIiLCJwcmVzZXRzT2JqIiwic1JHQkVuY29kaW5nIiwiTGluZWFyRW5jb2RpbmciLCJ1c2VMYXlvdXRFZmZlY3QiLCJDVUJFTUFQX1JPT1QiLCJpc0FycmF5IiwiYXJyIiwiQXJyYXkiLCJkZWZhdWx0RmlsZXMiLCJ1c2VFbnZpcm9ubWVudCIsImZpbGVzIiwicGF0aCIsInByZXNldCIsInVuZGVmaW5lZCIsImVuY29kaW5nIiwiZXh0ZW5zaW9ucyIsImxvYWRlciIsIm11bHRpRmlsZSIsInZhbGlkYXRlUHJlc2V0IiwiZXh0ZW5zaW9uIiwiaXNDdWJlbWFwIiwiZ2V0RXh0ZW5zaW9uIiwiZ2V0TG9hZGVyIiwiRXJyb3IiLCJnbCIsInN0YXRlIiwiY2xlYXJHYWlubWFwVGV4dHVyZSIsImNsZWFyIiwiZG9tRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIiwibG9hZGVyUmVzdWx0Iiwic2V0UmVuZGVyZXIiLCJzZXRQYXRoIiwidGV4dHVyZSIsIl9yZW5kZXJUYXJnZXQiLCJyZW5kZXJUYXJnZXQiLCJtYXBwaW5nIiwiY29sb3JTcGFjZSIsInByZWxvYWREZWZhdWx0T3B0aW9ucyIsInByZWxvYWQiLCJwcmVsb2FkT3B0aW9ucyIsIm9wdGlvbnMiLCJjbGVhckRlZmF1bHRPcHRpbnMiLCJjbGVhck9wdGlvbnMiLCJPYmplY3QiLCJrZXlzIiwiam9pbiIsIl9maXJzdEVudHJ5JHNwbGl0JHBvcCIsImxlbmd0aCIsImlzR2Fpbm1hcCIsInNvbWUiLCJmaWxlIiwiZW5kc1dpdGgiLCJmaXJzdEVudHJ5Iiwic3RhcnRzV2l0aCIsInNwbGl0IiwicG9wIiwic2hpZnQiLCJ0b0xvd2VyQ2FzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/useEnvironment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/helpers/constants.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-three/drei/helpers/constants.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nconst getVersion = ()=>parseInt(three__WEBPACK_IMPORTED_MODULE_0__.REVISION.replace(/\\D+/g, \"\"));\nconst version = /* @__PURE__ */ getVersion();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUM7QUFFakMsTUFBTUMsYUFBYSxJQUFNQyxTQUFTRiwyQ0FBUUEsQ0FBQ0csT0FBTyxDQUFDLFFBQVE7QUFDM0QsTUFBTUMsVUFBVSxhQUFhLEdBQUVIO0FBRVoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2hlbHBlcnMvY29uc3RhbnRzLmpzPzUwOTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkVWSVNJT04gfSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IGdldFZlcnNpb24gPSAoKSA9PiBwYXJzZUludChSRVZJU0lPTi5yZXBsYWNlKC9cXEQrL2csICcnKSk7XG5jb25zdCB2ZXJzaW9uID0gLyogQF9fUFVSRV9fICovZ2V0VmVyc2lvbigpO1xuXG5leHBvcnQgeyB2ZXJzaW9uIH07XG4iXSwibmFtZXMiOlsiUkVWSVNJT04iLCJnZXRWZXJzaW9uIiwicGFyc2VJbnQiLCJyZXBsYWNlIiwidmVyc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/helpers/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/helpers/deprecated.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-three/drei/helpers/deprecated.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LinearEncoding: () => (/* binding */ LinearEncoding),\n/* harmony export */   sRGBEncoding: () => (/* binding */ sRGBEncoding),\n/* harmony export */   setUpdateRange: () => (/* binding */ setUpdateRange)\n/* harmony export */ });\n/**\n * Sets `BufferAttribute.updateRange` since r159.\n */ const setUpdateRange = (attribute, updateRange)=>{\n    if (\"updateRanges\" in attribute) {\n        // r159\n        // @ts-ignore\n        attribute.updateRanges[0] = updateRange;\n    } else {\n        attribute.updateRange = updateRange;\n    }\n};\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\n/**\n * TextureEncoding was deprecated in r152, and removed in r162.\n */ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy9kZXByZWNhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztDQUVDLEdBQ0QsTUFBTUEsaUJBQWlCLENBQUNDLFdBQVdDO0lBQ2pDLElBQUksa0JBQWtCRCxXQUFXO1FBQy9CLE9BQU87UUFDUCxhQUFhO1FBQ2JBLFVBQVVFLFlBQVksQ0FBQyxFQUFFLEdBQUdEO0lBQzlCLE9BQU87UUFDTEQsVUFBVUMsV0FBVyxHQUFHQTtJQUMxQjtBQUNGO0FBQ0EsTUFBTUUsaUJBQWlCO0FBQ3ZCLE1BQU1DLGVBQWU7QUFFckI7O0NBRUMsR0FFdUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2hlbHBlcnMvZGVwcmVjYXRlZC5qcz9lMDA5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2V0cyBgQnVmZmVyQXR0cmlidXRlLnVwZGF0ZVJhbmdlYCBzaW5jZSByMTU5LlxuICovXG5jb25zdCBzZXRVcGRhdGVSYW5nZSA9IChhdHRyaWJ1dGUsIHVwZGF0ZVJhbmdlKSA9PiB7XG4gIGlmICgndXBkYXRlUmFuZ2VzJyBpbiBhdHRyaWJ1dGUpIHtcbiAgICAvLyByMTU5XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGF0dHJpYnV0ZS51cGRhdGVSYW5nZXNbMF0gPSB1cGRhdGVSYW5nZTtcbiAgfSBlbHNlIHtcbiAgICBhdHRyaWJ1dGUudXBkYXRlUmFuZ2UgPSB1cGRhdGVSYW5nZTtcbiAgfVxufTtcbmNvbnN0IExpbmVhckVuY29kaW5nID0gMzAwMDtcbmNvbnN0IHNSR0JFbmNvZGluZyA9IDMwMDE7XG5cbi8qKlxuICogVGV4dHVyZUVuY29kaW5nIHdhcyBkZXByZWNhdGVkIGluIHIxNTIsIGFuZCByZW1vdmVkIGluIHIxNjIuXG4gKi9cblxuZXhwb3J0IHsgTGluZWFyRW5jb2RpbmcsIHNSR0JFbmNvZGluZywgc2V0VXBkYXRlUmFuZ2UgfTtcbiJdLCJuYW1lcyI6WyJzZXRVcGRhdGVSYW5nZSIsImF0dHJpYnV0ZSIsInVwZGF0ZVJhbmdlIiwidXBkYXRlUmFuZ2VzIiwiTGluZWFyRW5jb2RpbmciLCJzUkdCRW5jb2RpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/helpers/deprecated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/helpers/environment-assets.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@react-three/drei/helpers/environment-assets.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   presetsObj: () => (/* binding */ presetsObj)\n/* harmony export */ });\nconst presetsObj = {\n    apartment: \"lebombo_1k.hdr\",\n    city: \"potsdamer_platz_1k.hdr\",\n    dawn: \"kiara_1_dawn_1k.hdr\",\n    forest: \"forest_slope_1k.hdr\",\n    lobby: \"st_fagans_interior_1k.hdr\",\n    night: \"dikhololo_night_1k.hdr\",\n    park: \"rooitou_park_1k.hdr\",\n    studio: \"studio_small_03_1k.hdr\",\n    sunset: \"venice_sunset_1k.hdr\",\n    warehouse: \"empty_warehouse_01_1k.hdr\"\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy9lbnZpcm9ubWVudC1hc3NldHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLGFBQWE7SUFDakJDLFdBQVc7SUFDWEMsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLFFBQVE7SUFDUkMsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLE1BQU07SUFDTkMsUUFBUTtJQUNSQyxRQUFRO0lBQ1JDLFdBQVc7QUFDYjtBQUVzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy9lbnZpcm9ubWVudC1hc3NldHMuanM/MTY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwcmVzZXRzT2JqID0ge1xuICBhcGFydG1lbnQ6ICdsZWJvbWJvXzFrLmhkcicsXG4gIGNpdHk6ICdwb3RzZGFtZXJfcGxhdHpfMWsuaGRyJyxcbiAgZGF3bjogJ2tpYXJhXzFfZGF3bl8xay5oZHInLFxuICBmb3Jlc3Q6ICdmb3Jlc3Rfc2xvcGVfMWsuaGRyJyxcbiAgbG9iYnk6ICdzdF9mYWdhbnNfaW50ZXJpb3JfMWsuaGRyJyxcbiAgbmlnaHQ6ICdkaWtob2xvbG9fbmlnaHRfMWsuaGRyJyxcbiAgcGFyazogJ3Jvb2l0b3VfcGFya18xay5oZHInLFxuICBzdHVkaW86ICdzdHVkaW9fc21hbGxfMDNfMWsuaGRyJyxcbiAgc3Vuc2V0OiAndmVuaWNlX3N1bnNldF8xay5oZHInLFxuICB3YXJlaG91c2U6ICdlbXB0eV93YXJlaG91c2VfMDFfMWsuaGRyJ1xufTtcblxuZXhwb3J0IHsgcHJlc2V0c09iaiB9O1xuIl0sIm5hbWVzIjpbInByZXNldHNPYmoiLCJhcGFydG1lbnQiLCJjaXR5IiwiZGF3biIsImZvcmVzdCIsImxvYmJ5IiwibmlnaHQiLCJwYXJrIiwic3R1ZGlvIiwic3Vuc2V0Iiwid2FyZWhvdXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/helpers/environment-assets.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/helpers/useEffectfulState.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-three/drei/helpers/useEffectfulState.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useEffectfulState: () => (/* binding */ useEffectfulState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction call(ref, value) {\n    if (typeof ref === \"function\") ref(value);\n    else if (ref != null) ref.current = value;\n}\nfunction useEffectfulState(fn, deps = [], cb) {\n    const [state, set] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(()=>{\n        const value = fn();\n        set(value);\n        call(cb, value);\n        return ()=>call(cb, null);\n    }, deps);\n    return state;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy91c2VFZmZlY3RmdWxTdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0I7QUFFL0IsU0FBU0MsS0FBS0MsR0FBRyxFQUFFQyxLQUFLO0lBQ3RCLElBQUksT0FBT0QsUUFBUSxZQUFZQSxJQUFJQztTQUFZLElBQUlELE9BQU8sTUFBTUEsSUFBSUUsT0FBTyxHQUFHRDtBQUNoRjtBQUNBLFNBQVNFLGtCQUFrQkMsRUFBRSxFQUFFQyxPQUFPLEVBQUUsRUFBRUMsRUFBRTtJQUMxQyxNQUFNLENBQUNDLE9BQU9DLElBQUksR0FBR1YsMkNBQWM7SUFDbkNBLGtEQUFxQixDQUFDO1FBQ3BCLE1BQU1HLFFBQVFHO1FBQ2RJLElBQUlQO1FBQ0pGLEtBQUtPLElBQUlMO1FBQ1QsT0FBTyxJQUFNRixLQUFLTyxJQUFJO0lBQ3hCLEdBQUdEO0lBQ0gsT0FBT0U7QUFDVDtBQUU2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy91c2VFZmZlY3RmdWxTdGF0ZS5qcz9lOTZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gY2FsbChyZWYsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSByZWYodmFsdWUpO2Vsc2UgaWYgKHJlZiAhPSBudWxsKSByZWYuY3VycmVudCA9IHZhbHVlO1xufVxuZnVuY3Rpb24gdXNlRWZmZWN0ZnVsU3RhdGUoZm4sIGRlcHMgPSBbXSwgY2IpIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGZuKCk7XG4gICAgc2V0KHZhbHVlKTtcbiAgICBjYWxsKGNiLCB2YWx1ZSk7XG4gICAgcmV0dXJuICgpID0+IGNhbGwoY2IsIG51bGwpO1xuICB9LCBkZXBzKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgeyB1c2VFZmZlY3RmdWxTdGF0ZSB9O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY2FsbCIsInJlZiIsInZhbHVlIiwiY3VycmVudCIsInVzZUVmZmVjdGZ1bFN0YXRlIiwiZm4iLCJkZXBzIiwiY2IiLCJzdGF0ZSIsInNldCIsInVzZVN0YXRlIiwidXNlTGF5b3V0RWZmZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/helpers/useEffectfulState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/materials/BlurPass.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-three/drei/materials/BlurPass.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlurPass: () => (/* binding */ BlurPass)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _ConvolutionMaterial_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConvolutionMaterial.js */ \"(ssr)/./node_modules/@react-three/drei/materials/ConvolutionMaterial.js\");\n\n\nclass BlurPass {\n    constructor({ gl, resolution, width = 500, height = 500, minDepthThreshold = 0, maxDepthThreshold = 1, depthScale = 0, depthToBlurRatioBias = 0.25 }){\n        this.renderToScreen = false;\n        this.renderTargetA = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget(resolution, resolution, {\n            minFilter: three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter,\n            magFilter: three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter,\n            stencilBuffer: false,\n            depthBuffer: false,\n            type: three__WEBPACK_IMPORTED_MODULE_0__.HalfFloatType\n        });\n        this.renderTargetB = this.renderTargetA.clone();\n        this.convolutionMaterial = new _ConvolutionMaterial_js__WEBPACK_IMPORTED_MODULE_1__.ConvolutionMaterial();\n        this.convolutionMaterial.setTexelSize(1.0 / width, 1.0 / height);\n        this.convolutionMaterial.setResolution(new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(width, height));\n        this.scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();\n        // @ts-expect-error fixed in r154\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__.Camera();\n        this.convolutionMaterial.uniforms.minDepthThreshold.value = minDepthThreshold;\n        this.convolutionMaterial.uniforms.maxDepthThreshold.value = maxDepthThreshold;\n        this.convolutionMaterial.uniforms.depthScale.value = depthScale;\n        this.convolutionMaterial.uniforms.depthToBlurRatioBias.value = depthToBlurRatioBias;\n        this.convolutionMaterial.defines.USE_DEPTH = depthScale > 0;\n        const vertices = new Float32Array([\n            -1,\n            -1,\n            0,\n            3,\n            -1,\n            0,\n            -1,\n            3,\n            0\n        ]);\n        const uvs = new Float32Array([\n            0,\n            0,\n            2,\n            0,\n            0,\n            2\n        ]);\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry();\n        geometry.setAttribute(\"position\", new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(vertices, 3));\n        geometry.setAttribute(\"uv\", new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(uvs, 2));\n        this.screen = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.convolutionMaterial);\n        this.screen.frustumCulled = false;\n        this.scene.add(this.screen);\n    }\n    render(renderer, inputBuffer, outputBuffer) {\n        const scene = this.scene;\n        const camera = this.camera;\n        const renderTargetA = this.renderTargetA;\n        const renderTargetB = this.renderTargetB;\n        let material = this.convolutionMaterial;\n        let uniforms = material.uniforms;\n        uniforms.depthBuffer.value = inputBuffer.depthTexture;\n        const kernel = material.kernel;\n        let lastRT = inputBuffer;\n        let destRT;\n        let i, l;\n        // Apply the multi-pass blur.\n        for(i = 0, l = kernel.length - 1; i < l; ++i){\n            // Alternate between targets.\n            destRT = (i & 1) === 0 ? renderTargetA : renderTargetB;\n            uniforms.kernel.value = kernel[i];\n            uniforms.inputBuffer.value = lastRT.texture;\n            renderer.setRenderTarget(destRT);\n            renderer.render(scene, camera);\n            lastRT = destRT;\n        }\n        uniforms.kernel.value = kernel[i];\n        uniforms.inputBuffer.value = lastRT.texture;\n        renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n        renderer.render(scene, camera);\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbWF0ZXJpYWxzL0JsdXJQYXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzSTtBQUN2RTtBQUUvRCxNQUFNVTtJQUNKQyxZQUFZLEVBQ1ZDLEVBQUUsRUFDRkMsVUFBVSxFQUNWQyxRQUFRLEdBQUcsRUFDWEMsU0FBUyxHQUFHLEVBQ1pDLG9CQUFvQixDQUFDLEVBQ3JCQyxvQkFBb0IsQ0FBQyxFQUNyQkMsYUFBYSxDQUFDLEVBQ2RDLHVCQUF1QixJQUFJLEVBQzVCLENBQUU7UUFDRCxJQUFJLENBQUNDLGNBQWMsR0FBRztRQUN0QixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJckIsb0RBQWlCQSxDQUFDYSxZQUFZQSxZQUFZO1lBQ2pFUyxXQUFXckIsK0NBQVlBO1lBQ3ZCc0IsV0FBV3RCLCtDQUFZQTtZQUN2QnVCLGVBQWU7WUFDZkMsYUFBYTtZQUNiQyxNQUFNeEIsZ0RBQWFBO1FBQ3JCO1FBQ0EsSUFBSSxDQUFDeUIsYUFBYSxHQUFHLElBQUksQ0FBQ04sYUFBYSxDQUFDTyxLQUFLO1FBQzdDLElBQUksQ0FBQ0MsbUJBQW1CLEdBQUcsSUFBSXBCLHdFQUFtQkE7UUFDbEQsSUFBSSxDQUFDb0IsbUJBQW1CLENBQUNDLFlBQVksQ0FBQyxNQUFNaEIsT0FBTyxNQUFNQztRQUN6RCxJQUFJLENBQUNjLG1CQUFtQixDQUFDRSxhQUFhLENBQUMsSUFBSTVCLDBDQUFPQSxDQUFDVyxPQUFPQztRQUMxRCxJQUFJLENBQUNpQixLQUFLLEdBQUcsSUFBSTVCLHdDQUFLQTtRQUN0QixpQ0FBaUM7UUFDakMsSUFBSSxDQUFDNkIsTUFBTSxHQUFHLElBQUk1Qix5Q0FBTUE7UUFDeEIsSUFBSSxDQUFDd0IsbUJBQW1CLENBQUNLLFFBQVEsQ0FBQ2xCLGlCQUFpQixDQUFDbUIsS0FBSyxHQUFHbkI7UUFDNUQsSUFBSSxDQUFDYSxtQkFBbUIsQ0FBQ0ssUUFBUSxDQUFDakIsaUJBQWlCLENBQUNrQixLQUFLLEdBQUdsQjtRQUM1RCxJQUFJLENBQUNZLG1CQUFtQixDQUFDSyxRQUFRLENBQUNoQixVQUFVLENBQUNpQixLQUFLLEdBQUdqQjtRQUNyRCxJQUFJLENBQUNXLG1CQUFtQixDQUFDSyxRQUFRLENBQUNmLG9CQUFvQixDQUFDZ0IsS0FBSyxHQUFHaEI7UUFDL0QsSUFBSSxDQUFDVSxtQkFBbUIsQ0FBQ08sT0FBTyxDQUFDQyxTQUFTLEdBQUduQixhQUFhO1FBQzFELE1BQU1vQixXQUFXLElBQUlDLGFBQWE7WUFBQyxDQUFDO1lBQUcsQ0FBQztZQUFHO1lBQUc7WUFBRyxDQUFDO1lBQUc7WUFBRyxDQUFDO1lBQUc7WUFBRztTQUFFO1FBQ2pFLE1BQU1DLE1BQU0sSUFBSUQsYUFBYTtZQUFDO1lBQUc7WUFBRztZQUFHO1lBQUc7WUFBRztTQUFFO1FBQy9DLE1BQU1FLFdBQVcsSUFBSW5DLGlEQUFjQTtRQUNuQ21DLFNBQVNDLFlBQVksQ0FBQyxZQUFZLElBQUluQyxrREFBZUEsQ0FBQytCLFVBQVU7UUFDaEVHLFNBQVNDLFlBQVksQ0FBQyxNQUFNLElBQUluQyxrREFBZUEsQ0FBQ2lDLEtBQUs7UUFDckQsSUFBSSxDQUFDRyxNQUFNLEdBQUcsSUFBSW5DLHVDQUFJQSxDQUFDaUMsVUFBVSxJQUFJLENBQUNaLG1CQUFtQjtRQUN6RCxJQUFJLENBQUNjLE1BQU0sQ0FBQ0MsYUFBYSxHQUFHO1FBQzVCLElBQUksQ0FBQ1osS0FBSyxDQUFDYSxHQUFHLENBQUMsSUFBSSxDQUFDRixNQUFNO0lBQzVCO0lBQ0FHLE9BQU9DLFFBQVEsRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUU7UUFDMUMsTUFBTWpCLFFBQVEsSUFBSSxDQUFDQSxLQUFLO1FBQ3hCLE1BQU1DLFNBQVMsSUFBSSxDQUFDQSxNQUFNO1FBQzFCLE1BQU1aLGdCQUFnQixJQUFJLENBQUNBLGFBQWE7UUFDeEMsTUFBTU0sZ0JBQWdCLElBQUksQ0FBQ0EsYUFBYTtRQUN4QyxJQUFJdUIsV0FBVyxJQUFJLENBQUNyQixtQkFBbUI7UUFDdkMsSUFBSUssV0FBV2dCLFNBQVNoQixRQUFRO1FBQ2hDQSxTQUFTVCxXQUFXLENBQUNVLEtBQUssR0FBR2EsWUFBWUcsWUFBWTtRQUNyRCxNQUFNQyxTQUFTRixTQUFTRSxNQUFNO1FBQzlCLElBQUlDLFNBQVNMO1FBQ2IsSUFBSU07UUFDSixJQUFJQyxHQUFHQztRQUNQLDZCQUE2QjtRQUM3QixJQUFLRCxJQUFJLEdBQUdDLElBQUlKLE9BQU9LLE1BQU0sR0FBRyxHQUFHRixJQUFJQyxHQUFHLEVBQUVELEVBQUc7WUFDN0MsNkJBQTZCO1lBQzdCRCxTQUFTLENBQUNDLElBQUksT0FBTyxJQUFJbEMsZ0JBQWdCTTtZQUN6Q08sU0FBU2tCLE1BQU0sQ0FBQ2pCLEtBQUssR0FBR2lCLE1BQU0sQ0FBQ0csRUFBRTtZQUNqQ3JCLFNBQVNjLFdBQVcsQ0FBQ2IsS0FBSyxHQUFHa0IsT0FBT0ssT0FBTztZQUMzQ1gsU0FBU1ksZUFBZSxDQUFDTDtZQUN6QlAsU0FBU0QsTUFBTSxDQUFDZCxPQUFPQztZQUN2Qm9CLFNBQVNDO1FBQ1g7UUFDQXBCLFNBQVNrQixNQUFNLENBQUNqQixLQUFLLEdBQUdpQixNQUFNLENBQUNHLEVBQUU7UUFDakNyQixTQUFTYyxXQUFXLENBQUNiLEtBQUssR0FBR2tCLE9BQU9LLE9BQU87UUFDM0NYLFNBQVNZLGVBQWUsQ0FBQyxJQUFJLENBQUN2QyxjQUFjLEdBQUcsT0FBTzZCO1FBQ3RERixTQUFTRCxNQUFNLENBQUNkLE9BQU9DO0lBQ3pCO0FBQ0Y7QUFFb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL21hdGVyaWFscy9CbHVyUGFzcy5qcz81NGZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdlYkdMUmVuZGVyVGFyZ2V0LCBMaW5lYXJGaWx0ZXIsIEhhbGZGbG9hdFR5cGUsIFZlY3RvcjIsIFNjZW5lLCBDYW1lcmEsIEJ1ZmZlckdlb21ldHJ5LCBCdWZmZXJBdHRyaWJ1dGUsIE1lc2ggfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBDb252b2x1dGlvbk1hdGVyaWFsIH0gZnJvbSAnLi9Db252b2x1dGlvbk1hdGVyaWFsLmpzJztcblxuY2xhc3MgQmx1clBhc3Mge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZ2wsXG4gICAgcmVzb2x1dGlvbixcbiAgICB3aWR0aCA9IDUwMCxcbiAgICBoZWlnaHQgPSA1MDAsXG4gICAgbWluRGVwdGhUaHJlc2hvbGQgPSAwLFxuICAgIG1heERlcHRoVGhyZXNob2xkID0gMSxcbiAgICBkZXB0aFNjYWxlID0gMCxcbiAgICBkZXB0aFRvQmx1clJhdGlvQmlhcyA9IDAuMjVcbiAgfSkge1xuICAgIHRoaXMucmVuZGVyVG9TY3JlZW4gPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlclRhcmdldEEgPSBuZXcgV2ViR0xSZW5kZXJUYXJnZXQocmVzb2x1dGlvbiwgcmVzb2x1dGlvbiwge1xuICAgICAgbWluRmlsdGVyOiBMaW5lYXJGaWx0ZXIsXG4gICAgICBtYWdGaWx0ZXI6IExpbmVhckZpbHRlcixcbiAgICAgIHN0ZW5jaWxCdWZmZXI6IGZhbHNlLFxuICAgICAgZGVwdGhCdWZmZXI6IGZhbHNlLFxuICAgICAgdHlwZTogSGFsZkZsb2F0VHlwZVxuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0QiA9IHRoaXMucmVuZGVyVGFyZ2V0QS5jbG9uZSgpO1xuICAgIHRoaXMuY29udm9sdXRpb25NYXRlcmlhbCA9IG5ldyBDb252b2x1dGlvbk1hdGVyaWFsKCk7XG4gICAgdGhpcy5jb252b2x1dGlvbk1hdGVyaWFsLnNldFRleGVsU2l6ZSgxLjAgLyB3aWR0aCwgMS4wIC8gaGVpZ2h0KTtcbiAgICB0aGlzLmNvbnZvbHV0aW9uTWF0ZXJpYWwuc2V0UmVzb2x1dGlvbihuZXcgVmVjdG9yMih3aWR0aCwgaGVpZ2h0KSk7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZml4ZWQgaW4gcjE1NFxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuICAgIHRoaXMuY29udm9sdXRpb25NYXRlcmlhbC51bmlmb3Jtcy5taW5EZXB0aFRocmVzaG9sZC52YWx1ZSA9IG1pbkRlcHRoVGhyZXNob2xkO1xuICAgIHRoaXMuY29udm9sdXRpb25NYXRlcmlhbC51bmlmb3Jtcy5tYXhEZXB0aFRocmVzaG9sZC52YWx1ZSA9IG1heERlcHRoVGhyZXNob2xkO1xuICAgIHRoaXMuY29udm9sdXRpb25NYXRlcmlhbC51bmlmb3Jtcy5kZXB0aFNjYWxlLnZhbHVlID0gZGVwdGhTY2FsZTtcbiAgICB0aGlzLmNvbnZvbHV0aW9uTWF0ZXJpYWwudW5pZm9ybXMuZGVwdGhUb0JsdXJSYXRpb0JpYXMudmFsdWUgPSBkZXB0aFRvQmx1clJhdGlvQmlhcztcbiAgICB0aGlzLmNvbnZvbHV0aW9uTWF0ZXJpYWwuZGVmaW5lcy5VU0VfREVQVEggPSBkZXB0aFNjYWxlID4gMDtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMCwgMywgLTEsIDAsIC0xLCAzLCAwXSk7XG4gICAgY29uc3QgdXZzID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMiwgMCwgMCwgMl0pO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsIDMpKTtcbiAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3V2JywgbmV3IEJ1ZmZlckF0dHJpYnV0ZSh1dnMsIDIpKTtcbiAgICB0aGlzLnNjcmVlbiA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNvbnZvbHV0aW9uTWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NyZWVuLmZydXN0dW1DdWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnNjcmVlbik7XG4gIH1cbiAgcmVuZGVyKHJlbmRlcmVyLCBpbnB1dEJ1ZmZlciwgb3V0cHV0QnVmZmVyKSB7XG4gICAgY29uc3Qgc2NlbmUgPSB0aGlzLnNjZW5lO1xuICAgIGNvbnN0IGNhbWVyYSA9IHRoaXMuY2FtZXJhO1xuICAgIGNvbnN0IHJlbmRlclRhcmdldEEgPSB0aGlzLnJlbmRlclRhcmdldEE7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0QiA9IHRoaXMucmVuZGVyVGFyZ2V0QjtcbiAgICBsZXQgbWF0ZXJpYWwgPSB0aGlzLmNvbnZvbHV0aW9uTWF0ZXJpYWw7XG4gICAgbGV0IHVuaWZvcm1zID0gbWF0ZXJpYWwudW5pZm9ybXM7XG4gICAgdW5pZm9ybXMuZGVwdGhCdWZmZXIudmFsdWUgPSBpbnB1dEJ1ZmZlci5kZXB0aFRleHR1cmU7XG4gICAgY29uc3Qga2VybmVsID0gbWF0ZXJpYWwua2VybmVsO1xuICAgIGxldCBsYXN0UlQgPSBpbnB1dEJ1ZmZlcjtcbiAgICBsZXQgZGVzdFJUO1xuICAgIGxldCBpLCBsO1xuICAgIC8vIEFwcGx5IHRoZSBtdWx0aS1wYXNzIGJsdXIuXG4gICAgZm9yIChpID0gMCwgbCA9IGtlcm5lbC5sZW5ndGggLSAxOyBpIDwgbDsgKytpKSB7XG4gICAgICAvLyBBbHRlcm5hdGUgYmV0d2VlbiB0YXJnZXRzLlxuICAgICAgZGVzdFJUID0gKGkgJiAxKSA9PT0gMCA/IHJlbmRlclRhcmdldEEgOiByZW5kZXJUYXJnZXRCO1xuICAgICAgdW5pZm9ybXMua2VybmVsLnZhbHVlID0ga2VybmVsW2ldO1xuICAgICAgdW5pZm9ybXMuaW5wdXRCdWZmZXIudmFsdWUgPSBsYXN0UlQudGV4dHVyZTtcbiAgICAgIHJlbmRlcmVyLnNldFJlbmRlclRhcmdldChkZXN0UlQpO1xuICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgbGFzdFJUID0gZGVzdFJUO1xuICAgIH1cbiAgICB1bmlmb3Jtcy5rZXJuZWwudmFsdWUgPSBrZXJuZWxbaV07XG4gICAgdW5pZm9ybXMuaW5wdXRCdWZmZXIudmFsdWUgPSBsYXN0UlQudGV4dHVyZTtcbiAgICByZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJUb1NjcmVlbiA/IG51bGwgOiBvdXRwdXRCdWZmZXIpO1xuICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgfVxufVxuXG5leHBvcnQgeyBCbHVyUGFzcyB9O1xuIl0sIm5hbWVzIjpbIldlYkdMUmVuZGVyVGFyZ2V0IiwiTGluZWFyRmlsdGVyIiwiSGFsZkZsb2F0VHlwZSIsIlZlY3RvcjIiLCJTY2VuZSIsIkNhbWVyYSIsIkJ1ZmZlckdlb21ldHJ5IiwiQnVmZmVyQXR0cmlidXRlIiwiTWVzaCIsIkNvbnZvbHV0aW9uTWF0ZXJpYWwiLCJCbHVyUGFzcyIsImNvbnN0cnVjdG9yIiwiZ2wiLCJyZXNvbHV0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJtaW5EZXB0aFRocmVzaG9sZCIsIm1heERlcHRoVGhyZXNob2xkIiwiZGVwdGhTY2FsZSIsImRlcHRoVG9CbHVyUmF0aW9CaWFzIiwicmVuZGVyVG9TY3JlZW4iLCJyZW5kZXJUYXJnZXRBIiwibWluRmlsdGVyIiwibWFnRmlsdGVyIiwic3RlbmNpbEJ1ZmZlciIsImRlcHRoQnVmZmVyIiwidHlwZSIsInJlbmRlclRhcmdldEIiLCJjbG9uZSIsImNvbnZvbHV0aW9uTWF0ZXJpYWwiLCJzZXRUZXhlbFNpemUiLCJzZXRSZXNvbHV0aW9uIiwic2NlbmUiLCJjYW1lcmEiLCJ1bmlmb3JtcyIsInZhbHVlIiwiZGVmaW5lcyIsIlVTRV9ERVBUSCIsInZlcnRpY2VzIiwiRmxvYXQzMkFycmF5IiwidXZzIiwiZ2VvbWV0cnkiLCJzZXRBdHRyaWJ1dGUiLCJzY3JlZW4iLCJmcnVzdHVtQ3VsbGVkIiwiYWRkIiwicmVuZGVyIiwicmVuZGVyZXIiLCJpbnB1dEJ1ZmZlciIsIm91dHB1dEJ1ZmZlciIsIm1hdGVyaWFsIiwiZGVwdGhUZXh0dXJlIiwia2VybmVsIiwibGFzdFJUIiwiZGVzdFJUIiwiaSIsImwiLCJsZW5ndGgiLCJ0ZXh0dXJlIiwic2V0UmVuZGVyVGFyZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/materials/BlurPass.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/materials/ConvolutionMaterial.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@react-three/drei/materials/ConvolutionMaterial.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvolutionMaterial: () => (/* binding */ ConvolutionMaterial)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _helpers_constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/constants.js */ \"(ssr)/./node_modules/@react-three/drei/helpers/constants.js\");\n\n\nclass ConvolutionMaterial extends three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial {\n    constructor(texelSize = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()){\n        super({\n            uniforms: {\n                inputBuffer: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(null),\n                depthBuffer: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(null),\n                resolution: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()),\n                texelSize: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()),\n                halfTexelSize: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()),\n                kernel: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(0.0),\n                scale: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(1.0),\n                cameraNear: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(0.0),\n                cameraFar: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(1.0),\n                minDepthThreshold: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(0.0),\n                maxDepthThreshold: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(1.0),\n                depthScale: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(0.0),\n                depthToBlurRatioBias: new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(0.25)\n            },\n            fragmentShader: `#include <common>\n        #include <dithering_pars_fragment>      \n        uniform sampler2D inputBuffer;\n        uniform sampler2D depthBuffer;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          float depthFactor = 0.0;\n          \n          #ifdef USE_DEPTH\n            vec4 depth = texture2D(depthBuffer, vUv);\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n            depthFactor *= depthScale;\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n          #endif\n          \n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n          gl_FragColor = sum * 0.25 ;\n\n          #include <dithering_fragment>\n          #include <tonemapping_fragment>\n          #include <${_helpers_constants_js__WEBPACK_IMPORTED_MODULE_1__.version >= 154 ? \"colorspace_fragment\" : \"encodings_fragment\"}>\n        }`,\n            vertexShader: `uniform vec2 texelSize;\n        uniform vec2 halfTexelSize;\n        uniform float kernel;\n        uniform float scale;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          vec2 uv = position.xy * 0.5 + 0.5;\n          vUv = uv;\n\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n          gl_Position = vec4(position.xy, 1.0, 1.0);\n        }`,\n            blending: three__WEBPACK_IMPORTED_MODULE_0__.NoBlending,\n            depthWrite: false,\n            depthTest: false\n        });\n        this.toneMapped = false;\n        this.setTexelSize(texelSize.x, texelSize.y);\n        this.kernel = new Float32Array([\n            0.0,\n            1.0,\n            2.0,\n            2.0,\n            3.0\n        ]);\n    }\n    setTexelSize(x, y) {\n        this.uniforms.texelSize.value.set(x, y);\n        this.uniforms.halfTexelSize.value.set(x, y).multiplyScalar(0.5);\n    }\n    setResolution(resolution) {\n        this.uniforms.resolution.value.copy(resolution);\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbWF0ZXJpYWxzL0NvbnZvbHV0aW9uTWF0ZXJpYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBQ21CO0FBRWxELE1BQU1FLDRCQUE0QkYsaURBQW9CO0lBQ3BESSxZQUFZQyxZQUFZLElBQUlMLDBDQUFhLEVBQUUsQ0FBRTtRQUMzQyxLQUFLLENBQUM7WUFDSk8sVUFBVTtnQkFDUkMsYUFBYSxJQUFJUiwwQ0FBYSxDQUFDO2dCQUMvQlUsYUFBYSxJQUFJViwwQ0FBYSxDQUFDO2dCQUMvQlcsWUFBWSxJQUFJWCwwQ0FBYSxDQUFDLElBQUlBLDBDQUFhO2dCQUMvQ0ssV0FBVyxJQUFJTCwwQ0FBYSxDQUFDLElBQUlBLDBDQUFhO2dCQUM5Q1ksZUFBZSxJQUFJWiwwQ0FBYSxDQUFDLElBQUlBLDBDQUFhO2dCQUNsRGEsUUFBUSxJQUFJYiwwQ0FBYSxDQUFDO2dCQUMxQmMsT0FBTyxJQUFJZCwwQ0FBYSxDQUFDO2dCQUN6QmUsWUFBWSxJQUFJZiwwQ0FBYSxDQUFDO2dCQUM5QmdCLFdBQVcsSUFBSWhCLDBDQUFhLENBQUM7Z0JBQzdCaUIsbUJBQW1CLElBQUlqQiwwQ0FBYSxDQUFDO2dCQUNyQ2tCLG1CQUFtQixJQUFJbEIsMENBQWEsQ0FBQztnQkFDckNtQixZQUFZLElBQUluQiwwQ0FBYSxDQUFDO2dCQUM5Qm9CLHNCQUFzQixJQUFJcEIsMENBQWEsQ0FBQztZQUMxQztZQUNBcUIsZ0JBQWdCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBa0NILEVBQUVwQiwwREFBT0EsSUFBSSxNQUFNLHdCQUF3QixxQkFBcUI7U0FDM0UsQ0FBQztZQUNKcUIsY0FBYyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7U0FxQlosQ0FBQztZQUNKQyxVQUFVdkIsNkNBQWdCO1lBQzFCeUIsWUFBWTtZQUNaQyxXQUFXO1FBQ2I7UUFDQSxJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNDLFlBQVksQ0FBQ3ZCLFVBQVV3QixDQUFDLEVBQUV4QixVQUFVeUIsQ0FBQztRQUMxQyxJQUFJLENBQUNqQixNQUFNLEdBQUcsSUFBSWtCLGFBQWE7WUFBQztZQUFLO1lBQUs7WUFBSztZQUFLO1NBQUk7SUFDMUQ7SUFDQUgsYUFBYUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUU7UUFDakIsSUFBSSxDQUFDdkIsUUFBUSxDQUFDRixTQUFTLENBQUMyQixLQUFLLENBQUNDLEdBQUcsQ0FBQ0osR0FBR0M7UUFDckMsSUFBSSxDQUFDdkIsUUFBUSxDQUFDSyxhQUFhLENBQUNvQixLQUFLLENBQUNDLEdBQUcsQ0FBQ0osR0FBR0MsR0FBR0ksY0FBYyxDQUFDO0lBQzdEO0lBQ0FDLGNBQWN4QixVQUFVLEVBQUU7UUFDeEIsSUFBSSxDQUFDSixRQUFRLENBQUNJLFVBQVUsQ0FBQ3FCLEtBQUssQ0FBQ0ksSUFBSSxDQUFDekI7SUFDdEM7QUFDRjtBQUUrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbWF0ZXJpYWxzL0NvbnZvbHV0aW9uTWF0ZXJpYWwuanM/N2FkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vaGVscGVycy9jb25zdGFudHMuanMnO1xuXG5jbGFzcyBDb252b2x1dGlvbk1hdGVyaWFsIGV4dGVuZHMgVEhSRUUuU2hhZGVyTWF0ZXJpYWwge1xuICBjb25zdHJ1Y3Rvcih0ZXhlbFNpemUgPSBuZXcgVEhSRUUuVmVjdG9yMigpKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgaW5wdXRCdWZmZXI6IG5ldyBUSFJFRS5Vbmlmb3JtKG51bGwpLFxuICAgICAgICBkZXB0aEJ1ZmZlcjogbmV3IFRIUkVFLlVuaWZvcm0obnVsbCksXG4gICAgICAgIHJlc29sdXRpb246IG5ldyBUSFJFRS5Vbmlmb3JtKG5ldyBUSFJFRS5WZWN0b3IyKCkpLFxuICAgICAgICB0ZXhlbFNpemU6IG5ldyBUSFJFRS5Vbmlmb3JtKG5ldyBUSFJFRS5WZWN0b3IyKCkpLFxuICAgICAgICBoYWxmVGV4ZWxTaXplOiBuZXcgVEhSRUUuVW5pZm9ybShuZXcgVEhSRUUuVmVjdG9yMigpKSxcbiAgICAgICAga2VybmVsOiBuZXcgVEhSRUUuVW5pZm9ybSgwLjApLFxuICAgICAgICBzY2FsZTogbmV3IFRIUkVFLlVuaWZvcm0oMS4wKSxcbiAgICAgICAgY2FtZXJhTmVhcjogbmV3IFRIUkVFLlVuaWZvcm0oMC4wKSxcbiAgICAgICAgY2FtZXJhRmFyOiBuZXcgVEhSRUUuVW5pZm9ybSgxLjApLFxuICAgICAgICBtaW5EZXB0aFRocmVzaG9sZDogbmV3IFRIUkVFLlVuaWZvcm0oMC4wKSxcbiAgICAgICAgbWF4RGVwdGhUaHJlc2hvbGQ6IG5ldyBUSFJFRS5Vbmlmb3JtKDEuMCksXG4gICAgICAgIGRlcHRoU2NhbGU6IG5ldyBUSFJFRS5Vbmlmb3JtKDAuMCksXG4gICAgICAgIGRlcHRoVG9CbHVyUmF0aW9CaWFzOiBuZXcgVEhSRUUuVW5pZm9ybSgwLjI1KVxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBgI2luY2x1ZGUgPGNvbW1vbj5cbiAgICAgICAgI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PiAgICAgIFxuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCBpbnB1dEJ1ZmZlcjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgZGVwdGhCdWZmZXI7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgY2FtZXJhTmVhcjtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBjYW1lcmFGYXI7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWluRGVwdGhUaHJlc2hvbGQ7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWF4RGVwdGhUaHJlc2hvbGQ7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgZGVwdGhTY2FsZTtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkZXB0aFRvQmx1clJhdGlvQmlhcztcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjA7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXYxO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2MjtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjM7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgIGZsb2F0IGRlcHRoRmFjdG9yID0gMC4wO1xuICAgICAgICAgIFxuICAgICAgICAgICNpZmRlZiBVU0VfREVQVEhcbiAgICAgICAgICAgIHZlYzQgZGVwdGggPSB0ZXh0dXJlMkQoZGVwdGhCdWZmZXIsIHZVdik7XG4gICAgICAgICAgICBkZXB0aEZhY3RvciA9IHNtb290aHN0ZXAobWluRGVwdGhUaHJlc2hvbGQsIG1heERlcHRoVGhyZXNob2xkLCAxLjAtKGRlcHRoLnIgKiBkZXB0aC5hKSk7XG4gICAgICAgICAgICBkZXB0aEZhY3RvciAqPSBkZXB0aFNjYWxlO1xuICAgICAgICAgICAgZGVwdGhGYWN0b3IgPSBtYXgoMC4wLCBtaW4oMS4wLCBkZXB0aEZhY3RvciArIDAuMjUpKTtcbiAgICAgICAgICAjZW5kaWZcbiAgICAgICAgICBcbiAgICAgICAgICB2ZWM0IHN1bSA9IHRleHR1cmUyRChpbnB1dEJ1ZmZlciwgbWl4KHZVdjAsIHZVdiwgZGVwdGhGYWN0b3IpKTtcbiAgICAgICAgICBzdW0gKz0gdGV4dHVyZTJEKGlucHV0QnVmZmVyLCBtaXgodlV2MSwgdlV2LCBkZXB0aEZhY3RvcikpO1xuICAgICAgICAgIHN1bSArPSB0ZXh0dXJlMkQoaW5wdXRCdWZmZXIsIG1peCh2VXYyLCB2VXYsIGRlcHRoRmFjdG9yKSk7XG4gICAgICAgICAgc3VtICs9IHRleHR1cmUyRChpbnB1dEJ1ZmZlciwgbWl4KHZVdjMsIHZVdiwgZGVwdGhGYWN0b3IpKTtcbiAgICAgICAgICBnbF9GcmFnQ29sb3IgPSBzdW0gKiAwLjI1IDtcblxuICAgICAgICAgICNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG4gICAgICAgICAgI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuICAgICAgICAgICNpbmNsdWRlIDwke3ZlcnNpb24gPj0gMTU0ID8gJ2NvbG9yc3BhY2VfZnJhZ21lbnQnIDogJ2VuY29kaW5nc19mcmFnbWVudCd9PlxuICAgICAgICB9YCxcbiAgICAgIHZlcnRleFNoYWRlcjogYHVuaWZvcm0gdmVjMiB0ZXhlbFNpemU7XG4gICAgICAgIHVuaWZvcm0gdmVjMiBoYWxmVGV4ZWxTaXplO1xuICAgICAgICB1bmlmb3JtIGZsb2F0IGtlcm5lbDtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBzY2FsZTtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjA7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXYxO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2MjtcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjM7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgIHZlYzIgdXYgPSBwb3NpdGlvbi54eSAqIDAuNSArIDAuNTtcbiAgICAgICAgICB2VXYgPSB1djtcblxuICAgICAgICAgIHZlYzIgZFV2ID0gKHRleGVsU2l6ZSAqIHZlYzIoa2VybmVsKSArIGhhbGZUZXhlbFNpemUpICogc2NhbGU7XG4gICAgICAgICAgdlV2MCA9IHZlYzIodXYueCAtIGRVdi54LCB1di55ICsgZFV2LnkpO1xuICAgICAgICAgIHZVdjEgPSB2ZWMyKHV2LnggKyBkVXYueCwgdXYueSArIGRVdi55KTtcbiAgICAgICAgICB2VXYyID0gdmVjMih1di54ICsgZFV2LngsIHV2LnkgLSBkVXYueSk7XG4gICAgICAgICAgdlV2MyA9IHZlYzIodXYueCAtIGRVdi54LCB1di55IC0gZFV2LnkpO1xuXG4gICAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLnh5LCAxLjAsIDEuMCk7XG4gICAgICAgIH1gLFxuICAgICAgYmxlbmRpbmc6IFRIUkVFLk5vQmxlbmRpbmcsXG4gICAgICBkZXB0aFdyaXRlOiBmYWxzZSxcbiAgICAgIGRlcHRoVGVzdDogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLnRvbmVNYXBwZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNldFRleGVsU2l6ZSh0ZXhlbFNpemUueCwgdGV4ZWxTaXplLnkpO1xuICAgIHRoaXMua2VybmVsID0gbmV3IEZsb2F0MzJBcnJheShbMC4wLCAxLjAsIDIuMCwgMi4wLCAzLjBdKTtcbiAgfVxuICBzZXRUZXhlbFNpemUoeCwgeSkge1xuICAgIHRoaXMudW5pZm9ybXMudGV4ZWxTaXplLnZhbHVlLnNldCh4LCB5KTtcbiAgICB0aGlzLnVuaWZvcm1zLmhhbGZUZXhlbFNpemUudmFsdWUuc2V0KHgsIHkpLm11bHRpcGx5U2NhbGFyKDAuNSk7XG4gIH1cbiAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgdGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLmNvcHkocmVzb2x1dGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ29udm9sdXRpb25NYXRlcmlhbCB9O1xuIl0sIm5hbWVzIjpbIlRIUkVFIiwidmVyc2lvbiIsIkNvbnZvbHV0aW9uTWF0ZXJpYWwiLCJTaGFkZXJNYXRlcmlhbCIsImNvbnN0cnVjdG9yIiwidGV4ZWxTaXplIiwiVmVjdG9yMiIsInVuaWZvcm1zIiwiaW5wdXRCdWZmZXIiLCJVbmlmb3JtIiwiZGVwdGhCdWZmZXIiLCJyZXNvbHV0aW9uIiwiaGFsZlRleGVsU2l6ZSIsImtlcm5lbCIsInNjYWxlIiwiY2FtZXJhTmVhciIsImNhbWVyYUZhciIsIm1pbkRlcHRoVGhyZXNob2xkIiwibWF4RGVwdGhUaHJlc2hvbGQiLCJkZXB0aFNjYWxlIiwiZGVwdGhUb0JsdXJSYXRpb0JpYXMiLCJmcmFnbWVudFNoYWRlciIsInZlcnRleFNoYWRlciIsImJsZW5kaW5nIiwiTm9CbGVuZGluZyIsImRlcHRoV3JpdGUiLCJkZXB0aFRlc3QiLCJ0b25lTWFwcGVkIiwic2V0VGV4ZWxTaXplIiwieCIsInkiLCJGbG9hdDMyQXJyYXkiLCJ2YWx1ZSIsInNldCIsIm11bHRpcGx5U2NhbGFyIiwic2V0UmVzb2x1dGlvbiIsImNvcHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/materials/ConvolutionMaterial.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/materials/DiscardMaterial.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-three/drei/materials/DiscardMaterial.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DiscardMaterial: () => (/* binding */ DiscardMaterial)\n/* harmony export */ });\n/* harmony import */ var _core_shaderMaterial_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderMaterial.js */ \"(ssr)/./node_modules/@react-three/drei/core/shaderMaterial.js\");\n\nconst DiscardMaterial = /* @__PURE__ */ (0,_core_shaderMaterial_js__WEBPACK_IMPORTED_MODULE_0__.shaderMaterial)({}, \"void main() { }\", \"void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbWF0ZXJpYWxzL0Rpc2NhcmRNYXRlcmlhbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUUzRCxNQUFNQyxrQkFBa0IsYUFBYSxHQUFFRCx1RUFBY0EsQ0FBQyxDQUFDLEdBQUcsbUJBQW1CO0FBRWxEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2NyYXRlLXdlYi8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZHJlaS9tYXRlcmlhbHMvRGlzY2FyZE1hdGVyaWFsLmpzPzEzNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2hhZGVyTWF0ZXJpYWwgfSBmcm9tICcuLi9jb3JlL3NoYWRlck1hdGVyaWFsLmpzJztcblxuY29uc3QgRGlzY2FyZE1hdGVyaWFsID0gLyogQF9fUFVSRV9fICovc2hhZGVyTWF0ZXJpYWwoe30sICd2b2lkIG1haW4oKSB7IH0nLCAndm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7IGRpc2NhcmQ7ICB9Jyk7XG5cbmV4cG9ydCB7IERpc2NhcmRNYXRlcmlhbCB9O1xuIl0sIm5hbWVzIjpbInNoYWRlck1hdGVyaWFsIiwiRGlzY2FyZE1hdGVyaWFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/materials/DiscardMaterial.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/materials/MeshReflectorMaterial.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-three/drei/materials/MeshReflectorMaterial.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeshReflectorMaterial: () => (/* binding */ MeshReflectorMaterial)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nclass MeshReflectorMaterial extends three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial {\n    constructor(parameters = {}){\n        super(parameters);\n        this._tDepth = {\n            value: null\n        };\n        this._distortionMap = {\n            value: null\n        };\n        this._tDiffuse = {\n            value: null\n        };\n        this._tDiffuseBlur = {\n            value: null\n        };\n        this._textureMatrix = {\n            value: null\n        };\n        this._hasBlur = {\n            value: false\n        };\n        this._mirror = {\n            value: 0.0\n        };\n        this._mixBlur = {\n            value: 0.0\n        };\n        this._blurStrength = {\n            value: 0.5\n        };\n        this._minDepthThreshold = {\n            value: 0.9\n        };\n        this._maxDepthThreshold = {\n            value: 1\n        };\n        this._depthScale = {\n            value: 0\n        };\n        this._depthToBlurRatioBias = {\n            value: 0.25\n        };\n        this._distortion = {\n            value: 1\n        };\n        this._mixContrast = {\n            value: 1.0\n        };\n        this.setValues(parameters);\n    }\n    onBeforeCompile(shader) {\n        var _shader$defines;\n        if (!((_shader$defines = shader.defines) != null && _shader$defines.USE_UV)) {\n            shader.defines.USE_UV = \"\";\n        }\n        shader.uniforms.hasBlur = this._hasBlur;\n        shader.uniforms.tDiffuse = this._tDiffuse;\n        shader.uniforms.tDepth = this._tDepth;\n        shader.uniforms.distortionMap = this._distortionMap;\n        shader.uniforms.tDiffuseBlur = this._tDiffuseBlur;\n        shader.uniforms.textureMatrix = this._textureMatrix;\n        shader.uniforms.mirror = this._mirror;\n        shader.uniforms.mixBlur = this._mixBlur;\n        shader.uniforms.mixStrength = this._blurStrength;\n        shader.uniforms.minDepthThreshold = this._minDepthThreshold;\n        shader.uniforms.maxDepthThreshold = this._maxDepthThreshold;\n        shader.uniforms.depthScale = this._depthScale;\n        shader.uniforms.depthToBlurRatioBias = this._depthToBlurRatioBias;\n        shader.uniforms.distortion = this._distortion;\n        shader.uniforms.mixContrast = this._mixContrast;\n        shader.vertexShader = `\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;\n      ${shader.vertexShader}`;\n        shader.vertexShader = shader.vertexShader.replace(\"#include <project_vertex>\", `#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`);\n        shader.fragmentShader = `\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;\n        ${shader.fragmentShader}`;\n        shader.fragmentShader = shader.fragmentShader.replace(\"#include <emissivemap_fragment>\", `#include <emissivemap_fragment>\n\n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n\n      vec4 merge = base;\n\n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n\n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n\n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);\n      `);\n    }\n    get tDiffuse() {\n        return this._tDiffuse.value;\n    }\n    set tDiffuse(v) {\n        this._tDiffuse.value = v;\n    }\n    get tDepth() {\n        return this._tDepth.value;\n    }\n    set tDepth(v) {\n        this._tDepth.value = v;\n    }\n    get distortionMap() {\n        return this._distortionMap.value;\n    }\n    set distortionMap(v) {\n        this._distortionMap.value = v;\n    }\n    get tDiffuseBlur() {\n        return this._tDiffuseBlur.value;\n    }\n    set tDiffuseBlur(v) {\n        this._tDiffuseBlur.value = v;\n    }\n    get textureMatrix() {\n        return this._textureMatrix.value;\n    }\n    set textureMatrix(v) {\n        this._textureMatrix.value = v;\n    }\n    get hasBlur() {\n        return this._hasBlur.value;\n    }\n    set hasBlur(v) {\n        this._hasBlur.value = v;\n    }\n    get mirror() {\n        return this._mirror.value;\n    }\n    set mirror(v) {\n        this._mirror.value = v;\n    }\n    get mixBlur() {\n        return this._mixBlur.value;\n    }\n    set mixBlur(v) {\n        this._mixBlur.value = v;\n    }\n    get mixStrength() {\n        return this._blurStrength.value;\n    }\n    set mixStrength(v) {\n        this._blurStrength.value = v;\n    }\n    get minDepthThreshold() {\n        return this._minDepthThreshold.value;\n    }\n    set minDepthThreshold(v) {\n        this._minDepthThreshold.value = v;\n    }\n    get maxDepthThreshold() {\n        return this._maxDepthThreshold.value;\n    }\n    set maxDepthThreshold(v) {\n        this._maxDepthThreshold.value = v;\n    }\n    get depthScale() {\n        return this._depthScale.value;\n    }\n    set depthScale(v) {\n        this._depthScale.value = v;\n    }\n    get depthToBlurRatioBias() {\n        return this._depthToBlurRatioBias.value;\n    }\n    set depthToBlurRatioBias(v) {\n        this._depthToBlurRatioBias.value = v;\n    }\n    get distortion() {\n        return this._distortion.value;\n    }\n    set distortion(v) {\n        this._distortion.value = v;\n    }\n    get mixContrast() {\n        return this._mixContrast.value;\n    }\n    set mixContrast(v) {\n        this._mixContrast.value = v;\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbWF0ZXJpYWxzL01lc2hSZWZsZWN0b3JNYXRlcmlhbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2QztBQUU3QyxNQUFNQyw4QkFBOEJELHVEQUFvQkE7SUFDdERFLFlBQVlDLGFBQWEsQ0FBQyxDQUFDLENBQUU7UUFDM0IsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsT0FBTyxHQUFHO1lBQ2JDLE9BQU87UUFDVDtRQUNBLElBQUksQ0FBQ0MsY0FBYyxHQUFHO1lBQ3BCRCxPQUFPO1FBQ1Q7UUFDQSxJQUFJLENBQUNFLFNBQVMsR0FBRztZQUNmRixPQUFPO1FBQ1Q7UUFDQSxJQUFJLENBQUNHLGFBQWEsR0FBRztZQUNuQkgsT0FBTztRQUNUO1FBQ0EsSUFBSSxDQUFDSSxjQUFjLEdBQUc7WUFDcEJKLE9BQU87UUFDVDtRQUNBLElBQUksQ0FBQ0ssUUFBUSxHQUFHO1lBQ2RMLE9BQU87UUFDVDtRQUNBLElBQUksQ0FBQ00sT0FBTyxHQUFHO1lBQ2JOLE9BQU87UUFDVDtRQUNBLElBQUksQ0FBQ08sUUFBUSxHQUFHO1lBQ2RQLE9BQU87UUFDVDtRQUNBLElBQUksQ0FBQ1EsYUFBYSxHQUFHO1lBQ25CUixPQUFPO1FBQ1Q7UUFDQSxJQUFJLENBQUNTLGtCQUFrQixHQUFHO1lBQ3hCVCxPQUFPO1FBQ1Q7UUFDQSxJQUFJLENBQUNVLGtCQUFrQixHQUFHO1lBQ3hCVixPQUFPO1FBQ1Q7UUFDQSxJQUFJLENBQUNXLFdBQVcsR0FBRztZQUNqQlgsT0FBTztRQUNUO1FBQ0EsSUFBSSxDQUFDWSxxQkFBcUIsR0FBRztZQUMzQlosT0FBTztRQUNUO1FBQ0EsSUFBSSxDQUFDYSxXQUFXLEdBQUc7WUFDakJiLE9BQU87UUFDVDtRQUNBLElBQUksQ0FBQ2MsWUFBWSxHQUFHO1lBQ2xCZCxPQUFPO1FBQ1Q7UUFDQSxJQUFJLENBQUNlLFNBQVMsQ0FBQ2pCO0lBQ2pCO0lBQ0FrQixnQkFBZ0JDLE1BQU0sRUFB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O0lBQ3RDO0lBQ0EsSUFBSWdDLGtCQUFrQlEsQ0FBQyxFQUFFO1FBQ3ZCLElBQUksQ0FBQzlCLGtCQUFrQixDQUFDVixLQUFLLEdBQUd3QztJQUNsQztJQUNBLElBQUlQLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQ3RCLFdBQVcsQ0FBQ1gsS0FBSztJQUMvQjtJQUNBLElBQUlpQyxXQUFXTyxDQUFDLEVBQUU7UUFDaEIsSUFBSSxDQUFDN0IsV0FBVyxDQUFDWCxLQUFLLEdBQUd3QztJQUMzQjtJQUNBLElBQUlOLHVCQUF1QjtRQUN6QixPQUFPLElBQUksQ0FBQ3RCLHFCQUFxQixDQUFDWixLQUFLO0lBQ3pDO0lBQ0EsSUFBSWtDLHFCQUFxQk0sQ0FBQyxFQUFFO1FBQzFCLElBQUksQ0FBQzVCLHFCQUFxQixDQUFDWixLQUFLLEdBQUd3QztJQUNyQztJQUNBLElBQUlMLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQ3RCLFdBQVcsQ0FBQ2IsS0FBSztJQUMvQjtJQUNBLElBQUltQyxXQUFXSyxDQUFDLEVBQUU7UUFDaEIsSUFBSSxDQUFDM0IsV0FBVyxDQUFDYixLQUFLLEdBQUd3QztJQUMzQjtJQUNBLElBQUlKLGNBQWM7UUFDaEIsT0FBTyxJQUFJLENBQUN0QixZQUFZLENBQUNkLEtBQUs7SUFDaEM7SUFDQSxJQUFJb0MsWUFBWUksQ0FBQyxFQUFFO1FBQ2pCLElBQUksQ0FBQzFCLFlBQVksQ0FBQ2QsS0FBSyxHQUFHd0M7SUFDNUI7QUFDRjtBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbWF0ZXJpYWxzL01lc2hSZWZsZWN0b3JNYXRlcmlhbC5qcz9hZWE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1lc2hTdGFuZGFyZE1hdGVyaWFsIH0gZnJvbSAndGhyZWUnO1xuXG5jbGFzcyBNZXNoUmVmbGVjdG9yTWF0ZXJpYWwgZXh0ZW5kcyBNZXNoU3RhbmRhcmRNYXRlcmlhbCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIHN1cGVyKHBhcmFtZXRlcnMpO1xuICAgIHRoaXMuX3REZXB0aCA9IHtcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfTtcbiAgICB0aGlzLl9kaXN0b3J0aW9uTWFwID0ge1xuICAgICAgdmFsdWU6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuX3REaWZmdXNlID0ge1xuICAgICAgdmFsdWU6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuX3REaWZmdXNlQmx1ciA9IHtcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfTtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4ID0ge1xuICAgICAgdmFsdWU6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuX2hhc0JsdXIgPSB7XG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMuX21pcnJvciA9IHtcbiAgICAgIHZhbHVlOiAwLjBcbiAgICB9O1xuICAgIHRoaXMuX21peEJsdXIgPSB7XG4gICAgICB2YWx1ZTogMC4wXG4gICAgfTtcbiAgICB0aGlzLl9ibHVyU3RyZW5ndGggPSB7XG4gICAgICB2YWx1ZTogMC41XG4gICAgfTtcbiAgICB0aGlzLl9taW5EZXB0aFRocmVzaG9sZCA9IHtcbiAgICAgIHZhbHVlOiAwLjlcbiAgICB9O1xuICAgIHRoaXMuX21heERlcHRoVGhyZXNob2xkID0ge1xuICAgICAgdmFsdWU6IDFcbiAgICB9O1xuICAgIHRoaXMuX2RlcHRoU2NhbGUgPSB7XG4gICAgICB2YWx1ZTogMFxuICAgIH07XG4gICAgdGhpcy5fZGVwdGhUb0JsdXJSYXRpb0JpYXMgPSB7XG4gICAgICB2YWx1ZTogMC4yNVxuICAgIH07XG4gICAgdGhpcy5fZGlzdG9ydGlvbiA9IHtcbiAgICAgIHZhbHVlOiAxXG4gICAgfTtcbiAgICB0aGlzLl9taXhDb250cmFzdCA9IHtcbiAgICAgIHZhbHVlOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO1xuICB9XG4gIG9uQmVmb3JlQ29tcGlsZShzaGFkZXIpIHtcbiAgICB2YXIgX3NoYWRlciRkZWZpbmVzO1xuICAgIGlmICghKChfc2hhZGVyJGRlZmluZXMgPSBzaGFkZXIuZGVmaW5lcykgIT0gbnVsbCAmJiBfc2hhZGVyJGRlZmluZXMuVVNFX1VWKSkge1xuICAgICAgc2hhZGVyLmRlZmluZXMuVVNFX1VWID0gJyc7XG4gICAgfVxuICAgIHNoYWRlci51bmlmb3Jtcy5oYXNCbHVyID0gdGhpcy5faGFzQmx1cjtcbiAgICBzaGFkZXIudW5pZm9ybXMudERpZmZ1c2UgPSB0aGlzLl90RGlmZnVzZTtcbiAgICBzaGFkZXIudW5pZm9ybXMudERlcHRoID0gdGhpcy5fdERlcHRoO1xuICAgIHNoYWRlci51bmlmb3Jtcy5kaXN0b3J0aW9uTWFwID0gdGhpcy5fZGlzdG9ydGlvbk1hcDtcbiAgICBzaGFkZXIudW5pZm9ybXMudERpZmZ1c2VCbHVyID0gdGhpcy5fdERpZmZ1c2VCbHVyO1xuICAgIHNoYWRlci51bmlmb3Jtcy50ZXh0dXJlTWF0cml4ID0gdGhpcy5fdGV4dHVyZU1hdHJpeDtcbiAgICBzaGFkZXIudW5pZm9ybXMubWlycm9yID0gdGhpcy5fbWlycm9yO1xuICAgIHNoYWRlci51bmlmb3Jtcy5taXhCbHVyID0gdGhpcy5fbWl4Qmx1cjtcbiAgICBzaGFkZXIudW5pZm9ybXMubWl4U3RyZW5ndGggPSB0aGlzLl9ibHVyU3RyZW5ndGg7XG4gICAgc2hhZGVyLnVuaWZvcm1zLm1pbkRlcHRoVGhyZXNob2xkID0gdGhpcy5fbWluRGVwdGhUaHJlc2hvbGQ7XG4gICAgc2hhZGVyLnVuaWZvcm1zLm1heERlcHRoVGhyZXNob2xkID0gdGhpcy5fbWF4RGVwdGhUaHJlc2hvbGQ7XG4gICAgc2hhZGVyLnVuaWZvcm1zLmRlcHRoU2NhbGUgPSB0aGlzLl9kZXB0aFNjYWxlO1xuICAgIHNoYWRlci51bmlmb3Jtcy5kZXB0aFRvQmx1clJhdGlvQmlhcyA9IHRoaXMuX2RlcHRoVG9CbHVyUmF0aW9CaWFzO1xuICAgIHNoYWRlci51bmlmb3Jtcy5kaXN0b3J0aW9uID0gdGhpcy5fZGlzdG9ydGlvbjtcbiAgICBzaGFkZXIudW5pZm9ybXMubWl4Q29udHJhc3QgPSB0aGlzLl9taXhDb250cmFzdDtcbiAgICBzaGFkZXIudmVydGV4U2hhZGVyID0gYFxuICAgICAgICB1bmlmb3JtIG1hdDQgdGV4dHVyZU1hdHJpeDtcbiAgICAgICAgdmFyeWluZyB2ZWM0IG15X3ZVdjtcbiAgICAgICR7c2hhZGVyLnZlcnRleFNoYWRlcn1gO1xuICAgIHNoYWRlci52ZXJ0ZXhTaGFkZXIgPSBzaGFkZXIudmVydGV4U2hhZGVyLnJlcGxhY2UoJyNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4nLCBgI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuICAgICAgICBteV92VXYgPSB0ZXh0dXJlTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7YCk7XG4gICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gYFxuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdERpZmZ1c2VCbHVyO1xuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB0RGVwdGg7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGRpc3RvcnRpb25NYXA7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgZGlzdG9ydGlvbjtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBjYW1lcmFOZWFyO1xuXHRcdFx0ICB1bmlmb3JtIGZsb2F0IGNhbWVyYUZhcjtcbiAgICAgICAgdW5pZm9ybSBib29sIGhhc0JsdXI7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWl4Qmx1cjtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBtaXJyb3I7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWl4U3RyZW5ndGg7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWluRGVwdGhUaHJlc2hvbGQ7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWF4RGVwdGhUaHJlc2hvbGQ7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWl4Q29udHJhc3Q7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgZGVwdGhTY2FsZTtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkZXB0aFRvQmx1clJhdGlvQmlhcztcbiAgICAgICAgdmFyeWluZyB2ZWM0IG15X3ZVdjtcbiAgICAgICAgJHtzaGFkZXIuZnJhZ21lbnRTaGFkZXJ9YDtcbiAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZSgnI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PicsIGAjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cbiAgICAgIGZsb2F0IGRpc3RvcnRpb25GYWN0b3IgPSAwLjA7XG4gICAgICAjaWZkZWYgVVNFX0RJU1RPUlRJT05cbiAgICAgICAgZGlzdG9ydGlvbkZhY3RvciA9IHRleHR1cmUyRChkaXN0b3J0aW9uTWFwLCB2VXYpLnIgKiBkaXN0b3J0aW9uO1xuICAgICAgI2VuZGlmXG5cbiAgICAgIHZlYzQgbmV3X3ZVdiA9IG15X3ZVdjtcbiAgICAgIG5ld192VXYueCArPSBkaXN0b3J0aW9uRmFjdG9yO1xuICAgICAgbmV3X3ZVdi55ICs9IGRpc3RvcnRpb25GYWN0b3I7XG5cbiAgICAgIHZlYzQgYmFzZSA9IHRleHR1cmUyRFByb2oodERpZmZ1c2UsIG5ld192VXYpO1xuICAgICAgdmVjNCBibHVyID0gdGV4dHVyZTJEUHJvaih0RGlmZnVzZUJsdXIsIG5ld192VXYpO1xuXG4gICAgICB2ZWM0IG1lcmdlID0gYmFzZTtcblxuICAgICAgI2lmZGVmIFVTRV9OT1JNQUxNQVBcbiAgICAgICAgdmVjMiBub3JtYWxfdXYgPSB2ZWMyKDAuMCk7XG4gICAgICAgIHZlYzQgbm9ybWFsQ29sb3IgPSB0ZXh0dXJlMkQobm9ybWFsTWFwLCB2VXYgKiBub3JtYWxTY2FsZSk7XG4gICAgICAgIHZlYzMgbXlfbm9ybWFsID0gbm9ybWFsaXplKCB2ZWMzKCBub3JtYWxDb2xvci5yICogMi4wIC0gMS4wLCBub3JtYWxDb2xvci5iLCAgbm9ybWFsQ29sb3IuZyAqIDIuMCAtIDEuMCApICk7XG4gICAgICAgIHZlYzMgY29vcmQgPSBuZXdfdlV2Lnh5eiAvIG5ld192VXYudztcbiAgICAgICAgbm9ybWFsX3V2ID0gY29vcmQueHkgKyBjb29yZC56ICogbXlfbm9ybWFsLnh6ICogMC4wNTtcbiAgICAgICAgdmVjNCBiYXNlX25vcm1hbCA9IHRleHR1cmUyRCh0RGlmZnVzZSwgbm9ybWFsX3V2KTtcbiAgICAgICAgdmVjNCBibHVyX25vcm1hbCA9IHRleHR1cmUyRCh0RGlmZnVzZUJsdXIsIG5vcm1hbF91dik7XG4gICAgICAgIG1lcmdlID0gYmFzZV9ub3JtYWw7XG4gICAgICAgIGJsdXIgPSBibHVyX25vcm1hbDtcbiAgICAgICNlbmRpZlxuXG4gICAgICBmbG9hdCBkZXB0aEZhY3RvciA9IDAuMDAwMTtcbiAgICAgIGZsb2F0IGJsdXJGYWN0b3IgPSAwLjA7XG5cbiAgICAgICNpZmRlZiBVU0VfREVQVEhcbiAgICAgICAgdmVjNCBkZXB0aCA9IHRleHR1cmUyRFByb2oodERlcHRoLCBuZXdfdlV2KTtcbiAgICAgICAgZGVwdGhGYWN0b3IgPSBzbW9vdGhzdGVwKG1pbkRlcHRoVGhyZXNob2xkLCBtYXhEZXB0aFRocmVzaG9sZCwgMS4wLShkZXB0aC5yICogZGVwdGguYSkpO1xuICAgICAgICBkZXB0aEZhY3RvciAqPSBkZXB0aFNjYWxlO1xuICAgICAgICBkZXB0aEZhY3RvciA9IG1heCgwLjAwMDEsIG1pbigxLjAsIGRlcHRoRmFjdG9yKSk7XG5cbiAgICAgICAgI2lmZGVmIFVTRV9CTFVSXG4gICAgICAgICAgYmx1ciA9IGJsdXIgKiBtaW4oMS4wLCBkZXB0aEZhY3RvciArIGRlcHRoVG9CbHVyUmF0aW9CaWFzKTtcbiAgICAgICAgICBtZXJnZSA9IG1lcmdlICogbWluKDEuMCwgZGVwdGhGYWN0b3IgKyAwLjUpO1xuICAgICAgICAjZWxzZVxuICAgICAgICAgIG1lcmdlID0gbWVyZ2UgKiBkZXB0aEZhY3RvcjtcbiAgICAgICAgI2VuZGlmXG5cbiAgICAgICNlbmRpZlxuXG4gICAgICBmbG9hdCByZWZsZWN0b3JSb3VnaG5lc3NGYWN0b3IgPSByb3VnaG5lc3M7XG4gICAgICAjaWZkZWYgVVNFX1JPVUdITkVTU01BUFxuICAgICAgICB2ZWM0IHJlZmxlY3RvclRleGVsUm91Z2huZXNzID0gdGV4dHVyZTJEKCByb3VnaG5lc3NNYXAsIHZVdiApO1xuICAgICAgICByZWZsZWN0b3JSb3VnaG5lc3NGYWN0b3IgKj0gcmVmbGVjdG9yVGV4ZWxSb3VnaG5lc3MuZztcbiAgICAgICNlbmRpZlxuXG4gICAgICAjaWZkZWYgVVNFX0JMVVJcbiAgICAgICAgYmx1ckZhY3RvciA9IG1pbigxLjAsIG1peEJsdXIgKiByZWZsZWN0b3JSb3VnaG5lc3NGYWN0b3IpO1xuICAgICAgICBtZXJnZSA9IG1peChtZXJnZSwgYmx1ciwgYmx1ckZhY3Rvcik7XG4gICAgICAjZW5kaWZcblxuICAgICAgdmVjNCBuZXdNZXJnZSA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAgIG5ld01lcmdlLnIgPSAobWVyZ2UuciAtIDAuNSkgKiBtaXhDb250cmFzdCArIDAuNTtcbiAgICAgIG5ld01lcmdlLmcgPSAobWVyZ2UuZyAtIDAuNSkgKiBtaXhDb250cmFzdCArIDAuNTtcbiAgICAgIG5ld01lcmdlLmIgPSAobWVyZ2UuYiAtIDAuNSkgKiBtaXhDb250cmFzdCArIDAuNTtcblxuICAgICAgZGlmZnVzZUNvbG9yLnJnYiA9IGRpZmZ1c2VDb2xvci5yZ2IgKiAoKDEuMCAtIG1pbigxLjAsIG1pcnJvcikpICsgbmV3TWVyZ2UucmdiICogbWl4U3RyZW5ndGgpO1xuICAgICAgYCk7XG4gIH1cbiAgZ2V0IHREaWZmdXNlKCkge1xuICAgIHJldHVybiB0aGlzLl90RGlmZnVzZS52YWx1ZTtcbiAgfVxuICBzZXQgdERpZmZ1c2Uodikge1xuICAgIHRoaXMuX3REaWZmdXNlLnZhbHVlID0gdjtcbiAgfVxuICBnZXQgdERlcHRoKCkge1xuICAgIHJldHVybiB0aGlzLl90RGVwdGgudmFsdWU7XG4gIH1cbiAgc2V0IHREZXB0aCh2KSB7XG4gICAgdGhpcy5fdERlcHRoLnZhbHVlID0gdjtcbiAgfVxuICBnZXQgZGlzdG9ydGlvbk1hcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzdG9ydGlvbk1hcC52YWx1ZTtcbiAgfVxuICBzZXQgZGlzdG9ydGlvbk1hcCh2KSB7XG4gICAgdGhpcy5fZGlzdG9ydGlvbk1hcC52YWx1ZSA9IHY7XG4gIH1cbiAgZ2V0IHREaWZmdXNlQmx1cigpIHtcbiAgICByZXR1cm4gdGhpcy5fdERpZmZ1c2VCbHVyLnZhbHVlO1xuICB9XG4gIHNldCB0RGlmZnVzZUJsdXIodikge1xuICAgIHRoaXMuX3REaWZmdXNlQmx1ci52YWx1ZSA9IHY7XG4gIH1cbiAgZ2V0IHRleHR1cmVNYXRyaXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVNYXRyaXgudmFsdWU7XG4gIH1cbiAgc2V0IHRleHR1cmVNYXRyaXgodikge1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXgudmFsdWUgPSB2O1xuICB9XG4gIGdldCBoYXNCbHVyKCkge1xuICAgIHJldHVybiB0aGlzLl9oYXNCbHVyLnZhbHVlO1xuICB9XG4gIHNldCBoYXNCbHVyKHYpIHtcbiAgICB0aGlzLl9oYXNCbHVyLnZhbHVlID0gdjtcbiAgfVxuICBnZXQgbWlycm9yKCkge1xuICAgIHJldHVybiB0aGlzLl9taXJyb3IudmFsdWU7XG4gIH1cbiAgc2V0IG1pcnJvcih2KSB7XG4gICAgdGhpcy5fbWlycm9yLnZhbHVlID0gdjtcbiAgfVxuICBnZXQgbWl4Qmx1cigpIHtcbiAgICByZXR1cm4gdGhpcy5fbWl4Qmx1ci52YWx1ZTtcbiAgfVxuICBzZXQgbWl4Qmx1cih2KSB7XG4gICAgdGhpcy5fbWl4Qmx1ci52YWx1ZSA9IHY7XG4gIH1cbiAgZ2V0IG1peFN0cmVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9ibHVyU3RyZW5ndGgudmFsdWU7XG4gIH1cbiAgc2V0IG1peFN0cmVuZ3RoKHYpIHtcbiAgICB0aGlzLl9ibHVyU3RyZW5ndGgudmFsdWUgPSB2O1xuICB9XG4gIGdldCBtaW5EZXB0aFRocmVzaG9sZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWluRGVwdGhUaHJlc2hvbGQudmFsdWU7XG4gIH1cbiAgc2V0IG1pbkRlcHRoVGhyZXNob2xkKHYpIHtcbiAgICB0aGlzLl9taW5EZXB0aFRocmVzaG9sZC52YWx1ZSA9IHY7XG4gIH1cbiAgZ2V0IG1heERlcHRoVGhyZXNob2xkKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXhEZXB0aFRocmVzaG9sZC52YWx1ZTtcbiAgfVxuICBzZXQgbWF4RGVwdGhUaHJlc2hvbGQodikge1xuICAgIHRoaXMuX21heERlcHRoVGhyZXNob2xkLnZhbHVlID0gdjtcbiAgfVxuICBnZXQgZGVwdGhTY2FsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVwdGhTY2FsZS52YWx1ZTtcbiAgfVxuICBzZXQgZGVwdGhTY2FsZSh2KSB7XG4gICAgdGhpcy5fZGVwdGhTY2FsZS52YWx1ZSA9IHY7XG4gIH1cbiAgZ2V0IGRlcHRoVG9CbHVyUmF0aW9CaWFzKCkge1xuICAgIHJldHVybiB0aGlzLl9kZXB0aFRvQmx1clJhdGlvQmlhcy52YWx1ZTtcbiAgfVxuICBzZXQgZGVwdGhUb0JsdXJSYXRpb0JpYXModikge1xuICAgIHRoaXMuX2RlcHRoVG9CbHVyUmF0aW9CaWFzLnZhbHVlID0gdjtcbiAgfVxuICBnZXQgZGlzdG9ydGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzdG9ydGlvbi52YWx1ZTtcbiAgfVxuICBzZXQgZGlzdG9ydGlvbih2KSB7XG4gICAgdGhpcy5fZGlzdG9ydGlvbi52YWx1ZSA9IHY7XG4gIH1cbiAgZ2V0IG1peENvbnRyYXN0KCkge1xuICAgIHJldHVybiB0aGlzLl9taXhDb250cmFzdC52YWx1ZTtcbiAgfVxuICBzZXQgbWl4Q29udHJhc3Qodikge1xuICAgIHRoaXMuX21peENvbnRyYXN0LnZhbHVlID0gdjtcbiAgfVxufVxuXG5leHBvcnQgeyBNZXNoUmVmbGVjdG9yTWF0ZXJpYWwgfTtcbiJdLCJuYW1lcyI6WyJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsIk1lc2hSZWZsZWN0b3JNYXRlcmlhbCIsImNvbnN0cnVjdG9yIiwicGFyYW1ldGVycyIsIl90RGVwdGgiLCJ2YWx1ZSIsIl9kaXN0b3J0aW9uTWFwIiwiX3REaWZmdXNlIiwiX3REaWZmdXNlQmx1ciIsIl90ZXh0dXJlTWF0cml4IiwiX2hhc0JsdXIiLCJfbWlycm9yIiwiX21peEJsdXIiLCJfYmx1clN0cmVuZ3RoIiwiX21pbkRlcHRoVGhyZXNob2xkIiwiX21heERlcHRoVGhyZXNob2xkIiwiX2RlcHRoU2NhbGUiLCJfZGVwdGhUb0JsdXJSYXRpb0JpYXMiLCJfZGlzdG9ydGlvbiIsIl9taXhDb250cmFzdCIsInNldFZhbHVlcyIsIm9uQmVmb3JlQ29tcGlsZSIsInNoYWRlciIsIl9zaGFkZXIkZGVmaW5lcyIsImRlZmluZXMiLCJVU0VfVVYiLCJ1bmlmb3JtcyIsImhhc0JsdXIiLCJ0RGlmZnVzZSIsInREZXB0aCIsImRpc3RvcnRpb25NYXAiLCJ0RGlmZnVzZUJsdXIiLCJ0ZXh0dXJlTWF0cml4IiwibWlycm9yIiwibWl4Qmx1ciIsIm1peFN0cmVuZ3RoIiwibWluRGVwdGhUaHJlc2hvbGQiLCJtYXhEZXB0aFRocmVzaG9sZCIsImRlcHRoU2NhbGUiLCJkZXB0aFRvQmx1clJhdGlvQmlhcyIsImRpc3RvcnRpb24iLCJtaXhDb250cmFzdCIsInZlcnRleFNoYWRlciIsInJlcGxhY2UiLCJmcmFnbWVudFNoYWRlciIsInYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/materials/MeshReflectorMaterial.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/web/Html.js":
/*!****************************************************!*\
  !*** ./node_modules/@react-three/drei/web/Html.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Html: () => (/* binding */ Html)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom/client */ \"(ssr)/./node_modules/next/dist/compiled/react-dom/client.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n\n\n\n\n\nconst v1 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Vector3();\nconst v2 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Vector3();\nconst v3 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Vector3();\nconst v4 = /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Vector2();\nfunction defaultCalculatePosition(el, camera, size) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    objectPos.project(camera);\n    const widthHalf = size.width / 2;\n    const heightHalf = size.height / 2;\n    return [\n        objectPos.x * widthHalf + widthHalf,\n        -(objectPos.y * heightHalf) + heightHalf\n    ];\n}\nfunction isObjectBehindCamera(el, camera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const deltaCamObj = objectPos.sub(cameraPos);\n    const camDir = camera.getWorldDirection(v3);\n    return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n    const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const screenPos = elPos.clone();\n    screenPos.project(camera);\n    v4.set(screenPos.x, screenPos.y);\n    raycaster.setFromCamera(v4, camera);\n    const intersects = raycaster.intersectObjects(occlude, true);\n    if (intersects.length) {\n        const intersectionDistance = intersects[0].distance;\n        const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n        return pointDistance < intersectionDistance;\n    }\n    return true;\n}\nfunction objectScale(el, camera) {\n    if (camera instanceof three__WEBPACK_IMPORTED_MODULE_3__.OrthographicCamera) {\n        return camera.zoom;\n    } else if (camera instanceof three__WEBPACK_IMPORTED_MODULE_3__.PerspectiveCamera) {\n        const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n        const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n        const vFOV = camera.fov * Math.PI / 180;\n        const dist = objectPos.distanceTo(cameraPos);\n        const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n        return 1 / scaleFOV;\n    } else {\n        return 1;\n    }\n}\nfunction objectZIndex(el, camera, zIndexRange) {\n    if (camera instanceof three__WEBPACK_IMPORTED_MODULE_3__.PerspectiveCamera || camera instanceof three__WEBPACK_IMPORTED_MODULE_3__.OrthographicCamera) {\n        const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n        const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n        const dist = objectPos.distanceTo(cameraPos);\n        const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n        const B = zIndexRange[1] - A * camera.far;\n        return Math.round(A * dist + B);\n    }\n    return undefined;\n}\nconst epsilon = (value)=>Math.abs(value) < 1e-10 ? 0 : value;\nfunction getCSSMatrix(matrix, multipliers, prepend = \"\") {\n    let matrix3d = \"matrix3d(\";\n    for(let i = 0; i !== 16; i++){\n        matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? \",\" : \")\");\n    }\n    return prepend + matrix3d;\n}\nconst getCameraCSSMatrix = ((multipliers)=>{\n    return (matrix)=>getCSSMatrix(matrix, multipliers);\n})([\n    1,\n    -1,\n    1,\n    1,\n    1,\n    -1,\n    1,\n    1,\n    1,\n    -1,\n    1,\n    1,\n    1,\n    -1,\n    1,\n    1\n]);\nconst getObjectCSSMatrix = ((scaleMultipliers)=>{\n    return (matrix, factor)=>getCSSMatrix(matrix, scaleMultipliers(factor), \"translate(-50%,-50%)\");\n})((f)=>[\n        1 / f,\n        1 / f,\n        1 / f,\n        1,\n        -1 / f,\n        -1 / f,\n        -1 / f,\n        -1,\n        1 / f,\n        1 / f,\n        1 / f,\n        1,\n        1,\n        1,\n        1,\n        1\n    ]);\nfunction isRefObject(ref) {\n    return ref && typeof ref === \"object\" && \"current\" in ref;\n}\nconst Html = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ children, eps = 0.001, style, className, prepend, center, fullscreen, portal, distanceFactor, sprite = false, transform = false, occlude, onOcclude, castShadow, receiveShadow, material, geometry, zIndexRange = [\n    16777271,\n    0\n], calculatePosition = defaultCalculatePosition, as = \"div\", wrapperClass, pointerEvents = \"auto\", ...props }, ref)=>{\n    const { gl, camera, scene, size, raycaster, events, viewport } = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.D)();\n    const [el] = react__WEBPACK_IMPORTED_MODULE_1__.useState(()=>document.createElement(as));\n    const root = react__WEBPACK_IMPORTED_MODULE_1__.useRef();\n    const group = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const oldZoom = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    const oldPosition = react__WEBPACK_IMPORTED_MODULE_1__.useRef([\n        0,\n        0\n    ]);\n    const transformOuterRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const transformInnerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    // Append to the connected element, which makes HTML work with views\n    const target = (portal == null ? void 0 : portal.current) || events.connected || gl.domElement.parentNode;\n    const occlusionMeshRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const isMeshSizeSet = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const isRayCastOcclusion = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{\n        return occlude && occlude !== \"blending\" || Array.isArray(occlude) && occlude.length && isRefObject(occlude[0]);\n    }, [\n        occlude\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        const el = gl.domElement;\n        if (occlude && occlude === \"blending\") {\n            el.style.zIndex = `${Math.floor(zIndexRange[0] / 2)}`;\n            el.style.position = \"absolute\";\n            el.style.pointerEvents = \"none\";\n        } else {\n            el.style.zIndex = null;\n            el.style.position = null;\n            el.style.pointerEvents = null;\n        }\n    }, [\n        occlude\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        if (group.current) {\n            const currentRoot = root.current = react_dom_client__WEBPACK_IMPORTED_MODULE_2__.createRoot(el);\n            scene.updateMatrixWorld();\n            if (transform) {\n                el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n            } else {\n                const vec = calculatePosition(group.current, camera, size);\n                el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n            }\n            if (target) {\n                if (prepend) target.prepend(el);\n                else target.appendChild(el);\n            }\n            return ()=>{\n                if (target) target.removeChild(el);\n                currentRoot.unmount();\n            };\n        }\n    }, [\n        target,\n        transform\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        if (wrapperClass) el.className = wrapperClass;\n    }, [\n        wrapperClass\n    ]);\n    const styles = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{\n        if (transform) {\n            return {\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: size.width,\n                height: size.height,\n                transformStyle: \"preserve-3d\",\n                pointerEvents: \"none\"\n            };\n        } else {\n            return {\n                position: \"absolute\",\n                transform: center ? \"translate3d(-50%,-50%,0)\" : \"none\",\n                ...fullscreen && {\n                    top: -size.height / 2,\n                    left: -size.width / 2,\n                    width: size.width,\n                    height: size.height\n                },\n                ...style\n            };\n        }\n    }, [\n        style,\n        center,\n        fullscreen,\n        size,\n        transform\n    ]);\n    const transformInnerStyles = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>({\n            position: \"absolute\",\n            pointerEvents\n        }), [\n        pointerEvents\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(()=>{\n        isMeshSizeSet.current = false;\n        if (transform) {\n            var _root$current;\n            (_root$current = root.current) == null || _root$current.render(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n                ref: transformOuterRef,\n                style: styles\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n                ref: transformInnerRef,\n                style: transformInnerStyles\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n                ref: ref,\n                className: className,\n                style: style,\n                children: children\n            }))));\n        } else {\n            var _root$current2;\n            (_root$current2 = root.current) == null || _root$current2.render(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n                ref: ref,\n                style: styles,\n                className: className,\n                children: children\n            }));\n        }\n    });\n    const visible = react__WEBPACK_IMPORTED_MODULE_1__.useRef(true);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F)((gl)=>{\n        if (group.current) {\n            camera.updateMatrixWorld();\n            group.current.updateWorldMatrix(true, false);\n            const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n            if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n                const isBehindCamera = isObjectBehindCamera(group.current, camera);\n                let raytraceTarget = false;\n                if (isRayCastOcclusion) {\n                    if (Array.isArray(occlude)) {\n                        raytraceTarget = occlude.map((item)=>item.current);\n                    } else if (occlude !== \"blending\") {\n                        raytraceTarget = [\n                            scene\n                        ];\n                    }\n                }\n                const previouslyVisible = visible.current;\n                if (raytraceTarget) {\n                    const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n                    visible.current = isvisible && !isBehindCamera;\n                } else {\n                    visible.current = !isBehindCamera;\n                }\n                if (previouslyVisible !== visible.current) {\n                    if (onOcclude) onOcclude(!visible.current);\n                    else el.style.display = visible.current ? \"block\" : \"none\";\n                }\n                const halfRange = Math.floor(zIndexRange[0] / 2);\n                const zRange = occlude ? isRayCastOcclusion //\n                 ? [\n                    zIndexRange[0],\n                    halfRange\n                ] : [\n                    halfRange - 1,\n                    0\n                ] : zIndexRange;\n                el.style.zIndex = `${objectZIndex(group.current, camera, zRange)}`;\n                if (transform) {\n                    const [widthHalf, heightHalf] = [\n                        size.width / 2,\n                        size.height / 2\n                    ];\n                    const fov = camera.projectionMatrix.elements[5] * heightHalf;\n                    const { isOrthographicCamera, top, left, bottom, right } = camera;\n                    const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n                    const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n                    let matrix = group.current.matrixWorld;\n                    if (sprite) {\n                        matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n                        matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n                        matrix.elements[15] = 1;\n                    }\n                    el.style.width = size.width + \"px\";\n                    el.style.height = size.height + \"px\";\n                    el.style.perspective = isOrthographicCamera ? \"\" : `${fov}px`;\n                    if (transformOuterRef.current && transformInnerRef.current) {\n                        transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n                        transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n                    }\n                } else {\n                    const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n                    el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n                }\n                oldPosition.current = vec;\n                oldZoom.current = camera.zoom;\n            }\n        }\n        if (!isRayCastOcclusion && occlusionMeshRef.current && !isMeshSizeSet.current) {\n            if (transform) {\n                if (transformOuterRef.current) {\n                    const el = transformOuterRef.current.children[0];\n                    if (el != null && el.clientWidth && el != null && el.clientHeight) {\n                        const { isOrthographicCamera } = camera;\n                        if (isOrthographicCamera || geometry) {\n                            if (props.scale) {\n                                if (!Array.isArray(props.scale)) {\n                                    occlusionMeshRef.current.scale.setScalar(1 / props.scale);\n                                } else if (props.scale instanceof three__WEBPACK_IMPORTED_MODULE_3__.Vector3) {\n                                    occlusionMeshRef.current.scale.copy(props.scale.clone().divideScalar(1));\n                                } else {\n                                    occlusionMeshRef.current.scale.set(1 / props.scale[0], 1 / props.scale[1], 1 / props.scale[2]);\n                                }\n                            }\n                        } else {\n                            const ratio = (distanceFactor || 10) / 400;\n                            const w = el.clientWidth * ratio;\n                            const h = el.clientHeight * ratio;\n                            occlusionMeshRef.current.scale.set(w, h, 1);\n                        }\n                        isMeshSizeSet.current = true;\n                    }\n                }\n            } else {\n                const ele = el.children[0];\n                if (ele != null && ele.clientWidth && ele != null && ele.clientHeight) {\n                    const ratio = 1 / viewport.factor;\n                    const w = ele.clientWidth * ratio;\n                    const h = ele.clientHeight * ratio;\n                    occlusionMeshRef.current.scale.set(w, h, 1);\n                    isMeshSizeSet.current = true;\n                }\n                occlusionMeshRef.current.lookAt(gl.camera.position);\n            }\n        }\n    });\n    const shaders = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>({\n            vertexShader: !transform ? /* glsl */ `\n          /*\n            This shader is from the THREE's SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if \"transfrom\"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ` : undefined,\n            fragmentShader: /* glsl */ `\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      `\n        }), [\n        transform\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"group\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n        ref: group\n    }), occlude && !isRayCastOcclusion && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"mesh\", {\n        castShadow: castShadow,\n        receiveShadow: receiveShadow,\n        ref: occlusionMeshRef\n    }, geometry || /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"planeGeometry\", null), material || /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"shaderMaterial\", {\n        side: three__WEBPACK_IMPORTED_MODULE_3__.DoubleSide,\n        vertexShader: shaders.vertexShader,\n        fragmentShader: shaders.fragmentShader\n    })));\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvd2ViL0h0bWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEwRDtBQUMzQjtBQUNjO0FBQytDO0FBQ3BDO0FBRXhELE1BQU1VLEtBQUssYUFBYSxHQUFFLElBQUlQLDBDQUFPQTtBQUNyQyxNQUFNUSxLQUFLLGFBQWEsR0FBRSxJQUFJUiwwQ0FBT0E7QUFDckMsTUFBTVMsS0FBSyxhQUFhLEdBQUUsSUFBSVQsMENBQU9BO0FBQ3JDLE1BQU1VLEtBQUssYUFBYSxHQUFFLElBQUlOLDBDQUFPQTtBQUNyQyxTQUFTTyx5QkFBeUJDLEVBQUUsRUFBRUMsTUFBTSxFQUFFQyxJQUFJO0lBQ2hELE1BQU1DLFlBQVlSLEdBQUdTLHFCQUFxQixDQUFDSixHQUFHSyxXQUFXO0lBQ3pERixVQUFVRyxPQUFPLENBQUNMO0lBQ2xCLE1BQU1NLFlBQVlMLEtBQUtNLEtBQUssR0FBRztJQUMvQixNQUFNQyxhQUFhUCxLQUFLUSxNQUFNLEdBQUc7SUFDakMsT0FBTztRQUFDUCxVQUFVUSxDQUFDLEdBQUdKLFlBQVlBO1FBQVcsQ0FBRUosQ0FBQUEsVUFBVVMsQ0FBQyxHQUFHSCxVQUFTLElBQUtBO0tBQVc7QUFDeEY7QUFDQSxTQUFTSSxxQkFBcUJiLEVBQUUsRUFBRUMsTUFBTTtJQUN0QyxNQUFNRSxZQUFZUixHQUFHUyxxQkFBcUIsQ0FBQ0osR0FBR0ssV0FBVztJQUN6RCxNQUFNUyxZQUFZbEIsR0FBR1EscUJBQXFCLENBQUNILE9BQU9JLFdBQVc7SUFDN0QsTUFBTVUsY0FBY1osVUFBVWEsR0FBRyxDQUFDRjtJQUNsQyxNQUFNRyxTQUFTaEIsT0FBT2lCLGlCQUFpQixDQUFDckI7SUFDeEMsT0FBT2tCLFlBQVlJLE9BQU8sQ0FBQ0YsVUFBVUcsS0FBS0MsRUFBRSxHQUFHO0FBQ2pEO0FBQ0EsU0FBU0MsZ0JBQWdCdEIsRUFBRSxFQUFFQyxNQUFNLEVBQUVzQixTQUFTLEVBQUVDLE9BQU87SUFDckQsTUFB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T0FBTztRQUNuRXRCLEtBQUtnQztJQUNQLElBQUk5RSxXQUFXLENBQUMwRixzQkFBc0IsV0FBVyxHQUFFaEksZ0RBQW1CLENBQUMsUUFBUTtRQUM3RWtHLFlBQVlBO1FBQ1pDLGVBQWVBO1FBQ2ZmLEtBQUswQztJQUNQLEdBQUd6QixZQUFZLFdBQVcsR0FBRXJHLGdEQUFtQixDQUFDLGlCQUFpQixPQUFPb0csWUFBWSxXQUFXLEdBQUVwRyxnREFBbUIsQ0FBQyxrQkFBa0I7UUFDckkyTCxNQUFNeEwsNkNBQVVBO1FBQ2hCc0wsY0FBY0QsUUFBUUMsWUFBWTtRQUNsQ0MsZ0JBQWdCRixRQUFRRSxjQUFjO0lBQ3hDO0FBQ0Y7QUFFZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL3dlYi9IdG1sLmpzPzJiMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tL2NsaWVudCc7XG5pbXBvcnQgeyBWZWN0b3IzLCBEb3VibGVTaWRlLCBPcnRob2dyYXBoaWNDYW1lcmEsIFBlcnNwZWN0aXZlQ2FtZXJhLCBWZWN0b3IyIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgdXNlVGhyZWUsIHVzZUZyYW1lIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcblxuY29uc3QgdjEgPSAvKiBAX19QVVJFX18gKi9uZXcgVmVjdG9yMygpO1xuY29uc3QgdjIgPSAvKiBAX19QVVJFX18gKi9uZXcgVmVjdG9yMygpO1xuY29uc3QgdjMgPSAvKiBAX19QVVJFX18gKi9uZXcgVmVjdG9yMygpO1xuY29uc3QgdjQgPSAvKiBAX19QVVJFX18gKi9uZXcgVmVjdG9yMigpO1xuZnVuY3Rpb24gZGVmYXVsdENhbGN1bGF0ZVBvc2l0aW9uKGVsLCBjYW1lcmEsIHNpemUpIHtcbiAgY29uc3Qgb2JqZWN0UG9zID0gdjEuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGVsLm1hdHJpeFdvcmxkKTtcbiAgb2JqZWN0UG9zLnByb2plY3QoY2FtZXJhKTtcbiAgY29uc3Qgd2lkdGhIYWxmID0gc2l6ZS53aWR0aCAvIDI7XG4gIGNvbnN0IGhlaWdodEhhbGYgPSBzaXplLmhlaWdodCAvIDI7XG4gIHJldHVybiBbb2JqZWN0UG9zLnggKiB3aWR0aEhhbGYgKyB3aWR0aEhhbGYsIC0ob2JqZWN0UG9zLnkgKiBoZWlnaHRIYWxmKSArIGhlaWdodEhhbGZdO1xufVxuZnVuY3Rpb24gaXNPYmplY3RCZWhpbmRDYW1lcmEoZWwsIGNhbWVyYSkge1xuICBjb25zdCBvYmplY3RQb3MgPSB2MS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZWwubWF0cml4V29ybGQpO1xuICBjb25zdCBjYW1lcmFQb3MgPSB2Mi5zZXRGcm9tTWF0cml4UG9zaXRpb24oY2FtZXJhLm1hdHJpeFdvcmxkKTtcbiAgY29uc3QgZGVsdGFDYW1PYmogPSBvYmplY3RQb3Muc3ViKGNhbWVyYVBvcyk7XG4gIGNvbnN0IGNhbURpciA9IGNhbWVyYS5nZXRXb3JsZERpcmVjdGlvbih2Myk7XG4gIHJldHVybiBkZWx0YUNhbU9iai5hbmdsZVRvKGNhbURpcikgPiBNYXRoLlBJIC8gMjtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0VmlzaWJsZShlbCwgY2FtZXJhLCByYXljYXN0ZXIsIG9jY2x1ZGUpIHtcbiAgY29uc3QgZWxQb3MgPSB2MS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZWwubWF0cml4V29ybGQpO1xuICBjb25zdCBzY3JlZW5Qb3MgPSBlbFBvcy5jbG9uZSgpO1xuICBzY3JlZW5Qb3MucHJvamVjdChjYW1lcmEpO1xuICB2NC5zZXQoc2NyZWVuUG9zLngsIHNjcmVlblBvcy55KTtcbiAgcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodjQsIGNhbWVyYSk7XG4gIGNvbnN0IGludGVyc2VjdHMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhvY2NsdWRlLCB0cnVlKTtcbiAgaWYgKGludGVyc2VjdHMubGVuZ3RoKSB7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uRGlzdGFuY2UgPSBpbnRlcnNlY3RzWzBdLmRpc3RhbmNlO1xuICAgIGNvbnN0IHBvaW50RGlzdGFuY2UgPSBlbFBvcy5kaXN0YW5jZVRvKHJheWNhc3Rlci5yYXkub3JpZ2luKTtcbiAgICByZXR1cm4gcG9pbnREaXN0YW5jZSA8IGludGVyc2VjdGlvbkRpc3RhbmNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gb2JqZWN0U2NhbGUoZWwsIGNhbWVyYSkge1xuICBpZiAoY2FtZXJhIGluc3RhbmNlb2YgT3J0aG9ncmFwaGljQ2FtZXJhKSB7XG4gICAgcmV0dXJuIGNhbWVyYS56b29tO1xuICB9IGVsc2UgaWYgKGNhbWVyYSBpbnN0YW5jZW9mIFBlcnNwZWN0aXZlQ2FtZXJhKSB7XG4gICAgY29uc3Qgb2JqZWN0UG9zID0gdjEuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGVsLm1hdHJpeFdvcmxkKTtcbiAgICBjb25zdCBjYW1lcmFQb3MgPSB2Mi5zZXRGcm9tTWF0cml4UG9zaXRpb24oY2FtZXJhLm1hdHJpeFdvcmxkKTtcbiAgICBjb25zdCB2Rk9WID0gY2FtZXJhLmZvdiAqIE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgZGlzdCA9IG9iamVjdFBvcy5kaXN0YW5jZVRvKGNhbWVyYVBvcyk7XG4gICAgY29uc3Qgc2NhbGVGT1YgPSAyICogTWF0aC50YW4odkZPViAvIDIpICogZGlzdDtcbiAgICByZXR1cm4gMSAvIHNjYWxlRk9WO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAxO1xuICB9XG59XG5mdW5jdGlvbiBvYmplY3RaSW5kZXgoZWwsIGNhbWVyYSwgekluZGV4UmFuZ2UpIHtcbiAgaWYgKGNhbWVyYSBpbnN0YW5jZW9mIFBlcnNwZWN0aXZlQ2FtZXJhIHx8IGNhbWVyYSBpbnN0YW5jZW9mIE9ydGhvZ3JhcGhpY0NhbWVyYSkge1xuICAgIGNvbnN0IG9iamVjdFBvcyA9IHYxLnNldEZyb21NYXRyaXhQb3NpdGlvbihlbC5tYXRyaXhXb3JsZCk7XG4gICAgY29uc3QgY2FtZXJhUG9zID0gdjIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGNhbWVyYS5tYXRyaXhXb3JsZCk7XG4gICAgY29uc3QgZGlzdCA9IG9iamVjdFBvcy5kaXN0YW5jZVRvKGNhbWVyYVBvcyk7XG4gICAgY29uc3QgQSA9ICh6SW5kZXhSYW5nZVsxXSAtIHpJbmRleFJhbmdlWzBdKSAvIChjYW1lcmEuZmFyIC0gY2FtZXJhLm5lYXIpO1xuICAgIGNvbnN0IEIgPSB6SW5kZXhSYW5nZVsxXSAtIEEgKiBjYW1lcmEuZmFyO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKEEgKiBkaXN0ICsgQik7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmNvbnN0IGVwc2lsb24gPSB2YWx1ZSA9PiBNYXRoLmFicyh2YWx1ZSkgPCAxZS0xMCA/IDAgOiB2YWx1ZTtcbmZ1bmN0aW9uIGdldENTU01hdHJpeChtYXRyaXgsIG11bHRpcGxpZXJzLCBwcmVwZW5kID0gJycpIHtcbiAgbGV0IG1hdHJpeDNkID0gJ21hdHJpeDNkKCc7XG4gIGZvciAobGV0IGkgPSAwOyBpICE9PSAxNjsgaSsrKSB7XG4gICAgbWF0cml4M2QgKz0gZXBzaWxvbihtdWx0aXBsaWVyc1tpXSAqIG1hdHJpeC5lbGVtZW50c1tpXSkgKyAoaSAhPT0gMTUgPyAnLCcgOiAnKScpO1xuICB9XG4gIHJldHVybiBwcmVwZW5kICsgbWF0cml4M2Q7XG59XG5jb25zdCBnZXRDYW1lcmFDU1NNYXRyaXggPSAobXVsdGlwbGllcnMgPT4ge1xuICByZXR1cm4gbWF0cml4ID0+IGdldENTU01hdHJpeChtYXRyaXgsIG11bHRpcGxpZXJzKTtcbn0pKFsxLCAtMSwgMSwgMSwgMSwgLTEsIDEsIDEsIDEsIC0xLCAxLCAxLCAxLCAtMSwgMSwgMV0pO1xuY29uc3QgZ2V0T2JqZWN0Q1NTTWF0cml4ID0gKHNjYWxlTXVsdGlwbGllcnMgPT4ge1xuICByZXR1cm4gKG1hdHJpeCwgZmFjdG9yKSA9PiBnZXRDU1NNYXRyaXgobWF0cml4LCBzY2FsZU11bHRpcGxpZXJzKGZhY3RvciksICd0cmFuc2xhdGUoLTUwJSwtNTAlKScpO1xufSkoZiA9PiBbMSAvIGYsIDEgLyBmLCAxIC8gZiwgMSwgLTEgLyBmLCAtMSAvIGYsIC0xIC8gZiwgLTEsIDEgLyBmLCAxIC8gZiwgMSAvIGYsIDEsIDEsIDEsIDEsIDFdKTtcbmZ1bmN0aW9uIGlzUmVmT2JqZWN0KHJlZikge1xuICByZXR1cm4gcmVmICYmIHR5cGVvZiByZWYgPT09ICdvYmplY3QnICYmICdjdXJyZW50JyBpbiByZWY7XG59XG5jb25zdCBIdG1sID0gLyogQF9fUFVSRV9fICovUmVhY3QuZm9yd2FyZFJlZigoe1xuICBjaGlsZHJlbixcbiAgZXBzID0gMC4wMDEsXG4gIHN0eWxlLFxuICBjbGFzc05hbWUsXG4gIHByZXBlbmQsXG4gIGNlbnRlcixcbiAgZnVsbHNjcmVlbixcbiAgcG9ydGFsLFxuICBkaXN0YW5jZUZhY3RvcixcbiAgc3ByaXRlID0gZmFsc2UsXG4gIHRyYW5zZm9ybSA9IGZhbHNlLFxuICBvY2NsdWRlLFxuICBvbk9jY2x1ZGUsXG4gIGNhc3RTaGFkb3csXG4gIHJlY2VpdmVTaGFkb3csXG4gIG1hdGVyaWFsLFxuICBnZW9tZXRyeSxcbiAgekluZGV4UmFuZ2UgPSBbMTY3NzcyNzEsIDBdLFxuICBjYWxjdWxhdGVQb3NpdGlvbiA9IGRlZmF1bHRDYWxjdWxhdGVQb3NpdGlvbixcbiAgYXMgPSAnZGl2JyxcbiAgd3JhcHBlckNsYXNzLFxuICBwb2ludGVyRXZlbnRzID0gJ2F1dG8nLFxuICAuLi5wcm9wc1xufSwgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBnbCxcbiAgICBjYW1lcmEsXG4gICAgc2NlbmUsXG4gICAgc2l6ZSxcbiAgICByYXljYXN0ZXIsXG4gICAgZXZlbnRzLFxuICAgIHZpZXdwb3J0XG4gIH0gPSB1c2VUaHJlZSgpO1xuICBjb25zdCBbZWxdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhcykpO1xuICBjb25zdCByb290ID0gUmVhY3QudXNlUmVmKCk7XG4gIGNvbnN0IGdyb3VwID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBvbGRab29tID0gUmVhY3QudXNlUmVmKDApO1xuICBjb25zdCBvbGRQb3NpdGlvbiA9IFJlYWN0LnVzZVJlZihbMCwgMF0pO1xuICBjb25zdCB0cmFuc2Zvcm1PdXRlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgdHJhbnNmb3JtSW5uZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIC8vIEFwcGVuZCB0byB0aGUgY29ubmVjdGVkIGVsZW1lbnQsIHdoaWNoIG1ha2VzIEhUTUwgd29yayB3aXRoIHZpZXdzXG4gIGNvbnN0IHRhcmdldCA9IChwb3J0YWwgPT0gbnVsbCA/IHZvaWQgMCA6IHBvcnRhbC5jdXJyZW50KSB8fCBldmVudHMuY29ubmVjdGVkIHx8IGdsLmRvbUVsZW1lbnQucGFyZW50Tm9kZTtcbiAgY29uc3Qgb2NjbHVzaW9uTWVzaFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgaXNNZXNoU2l6ZVNldCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGlzUmF5Q2FzdE9jY2x1c2lvbiA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBvY2NsdWRlICYmIG9jY2x1ZGUgIT09ICdibGVuZGluZycgfHwgQXJyYXkuaXNBcnJheShvY2NsdWRlKSAmJiBvY2NsdWRlLmxlbmd0aCAmJiBpc1JlZk9iamVjdChvY2NsdWRlWzBdKTtcbiAgfSwgW29jY2x1ZGVdKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbCA9IGdsLmRvbUVsZW1lbnQ7XG4gICAgaWYgKG9jY2x1ZGUgJiYgb2NjbHVkZSA9PT0gJ2JsZW5kaW5nJykge1xuICAgICAgZWwuc3R5bGUuekluZGV4ID0gYCR7TWF0aC5mbG9vcih6SW5kZXhSYW5nZVswXSAvIDIpfWA7XG4gICAgICBlbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICBlbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zdHlsZS56SW5kZXggPSBudWxsO1xuICAgICAgZWwuc3R5bGUucG9zaXRpb24gPSBudWxsO1xuICAgICAgZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9IG51bGw7XG4gICAgfVxuICB9LCBbb2NjbHVkZV0pO1xuICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChncm91cC5jdXJyZW50KSB7XG4gICAgICBjb25zdCBjdXJyZW50Um9vdCA9IHJvb3QuY3VycmVudCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZWwpO1xuICAgICAgc2NlbmUudXBkYXRlTWF0cml4V29ybGQoKTtcbiAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cG9pbnRlci1ldmVudHM6bm9uZTtvdmVyZmxvdzpoaWRkZW47YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZlYyA9IGNhbGN1bGF0ZVBvc2l0aW9uKGdyb3VwLmN1cnJlbnQsIGNhbWVyYSwgc2l6ZSk7XG4gICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgke3ZlY1swXX1weCwke3ZlY1sxXX1weCwwKTt0cmFuc2Zvcm0tb3JpZ2luOjAgMDtgO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBpZiAocHJlcGVuZCkgdGFyZ2V0LnByZXBlbmQoZWwpO2Vsc2UgdGFyZ2V0LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmICh0YXJnZXQpIHRhcmdldC5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIGN1cnJlbnRSb290LnVubW91bnQoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbdGFyZ2V0LCB0cmFuc2Zvcm1dKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAod3JhcHBlckNsYXNzKSBlbC5jbGFzc05hbWUgPSB3cmFwcGVyQ2xhc3M7XG4gIH0sIFt3cmFwcGVyQ2xhc3NdKTtcbiAgY29uc3Qgc3R5bGVzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgd2lkdGg6IHNpemUud2lkdGgsXG4gICAgICAgIGhlaWdodDogc2l6ZS5oZWlnaHQsXG4gICAgICAgIHRyYW5zZm9ybVN0eWxlOiAncHJlc2VydmUtM2QnLFxuICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0cmFuc2Zvcm06IGNlbnRlciA/ICd0cmFuc2xhdGUzZCgtNTAlLC01MCUsMCknIDogJ25vbmUnLFxuICAgICAgICAuLi4oZnVsbHNjcmVlbiAmJiB7XG4gICAgICAgICAgdG9wOiAtc2l6ZS5oZWlnaHQgLyAyLFxuICAgICAgICAgIGxlZnQ6IC1zaXplLndpZHRoIC8gMixcbiAgICAgICAgICB3aWR0aDogc2l6ZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0XG4gICAgICAgIH0pLFxuICAgICAgICAuLi5zdHlsZVxuICAgICAgfTtcbiAgICB9XG4gIH0sIFtzdHlsZSwgY2VudGVyLCBmdWxsc2NyZWVuLCBzaXplLCB0cmFuc2Zvcm1dKTtcbiAgY29uc3QgdHJhbnNmb3JtSW5uZXJTdHlsZXMgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgcG9pbnRlckV2ZW50c1xuICB9KSwgW3BvaW50ZXJFdmVudHNdKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpc01lc2hTaXplU2V0LmN1cnJlbnQgPSBmYWxzZTtcbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICB2YXIgX3Jvb3QkY3VycmVudDtcbiAgICAgIChfcm9vdCRjdXJyZW50ID0gcm9vdC5jdXJyZW50KSA9PSBudWxsIHx8IF9yb290JGN1cnJlbnQucmVuZGVyKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiB0cmFuc2Zvcm1PdXRlclJlZixcbiAgICAgICAgc3R5bGU6IHN0eWxlc1xuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICByZWY6IHRyYW5zZm9ybUlubmVyUmVmLFxuICAgICAgICBzdHlsZTogdHJhbnNmb3JtSW5uZXJTdHlsZXNcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiByZWYsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgfSkpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfcm9vdCRjdXJyZW50MjtcbiAgICAgIChfcm9vdCRjdXJyZW50MiA9IHJvb3QuY3VycmVudCkgPT0gbnVsbCB8fCBfcm9vdCRjdXJyZW50Mi5yZW5kZXIoLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICByZWY6IHJlZixcbiAgICAgICAgc3R5bGU6IHN0eWxlcyxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgfSkpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHZpc2libGUgPSBSZWFjdC51c2VSZWYodHJ1ZSk7XG4gIHVzZUZyYW1lKGdsID0+IHtcbiAgICBpZiAoZ3JvdXAuY3VycmVudCkge1xuICAgICAgY2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG4gICAgICBncm91cC5jdXJyZW50LnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsIGZhbHNlKTtcbiAgICAgIGNvbnN0IHZlYyA9IHRyYW5zZm9ybSA/IG9sZFBvc2l0aW9uLmN1cnJlbnQgOiBjYWxjdWxhdGVQb3NpdGlvbihncm91cC5jdXJyZW50LCBjYW1lcmEsIHNpemUpO1xuICAgICAgaWYgKHRyYW5zZm9ybSB8fCBNYXRoLmFicyhvbGRab29tLmN1cnJlbnQgLSBjYW1lcmEuem9vbSkgPiBlcHMgfHwgTWF0aC5hYnMob2xkUG9zaXRpb24uY3VycmVudFswXSAtIHZlY1swXSkgPiBlcHMgfHwgTWF0aC5hYnMob2xkUG9zaXRpb24uY3VycmVudFsxXSAtIHZlY1sxXSkgPiBlcHMpIHtcbiAgICAgICAgY29uc3QgaXNCZWhpbmRDYW1lcmEgPSBpc09iamVjdEJlaGluZENhbWVyYShncm91cC5jdXJyZW50LCBjYW1lcmEpO1xuICAgICAgICBsZXQgcmF5dHJhY2VUYXJnZXQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGlzUmF5Q2FzdE9jY2x1c2lvbikge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9jY2x1ZGUpKSB7XG4gICAgICAgICAgICByYXl0cmFjZVRhcmdldCA9IG9jY2x1ZGUubWFwKGl0ZW0gPT4gaXRlbS5jdXJyZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9jY2x1ZGUgIT09ICdibGVuZGluZycpIHtcbiAgICAgICAgICAgIHJheXRyYWNlVGFyZ2V0ID0gW3NjZW5lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNseVZpc2libGUgPSB2aXNpYmxlLmN1cnJlbnQ7XG4gICAgICAgIGlmIChyYXl0cmFjZVRhcmdldCkge1xuICAgICAgICAgIGNvbnN0IGlzdmlzaWJsZSA9IGlzT2JqZWN0VmlzaWJsZShncm91cC5jdXJyZW50LCBjYW1lcmEsIHJheWNhc3RlciwgcmF5dHJhY2VUYXJnZXQpO1xuICAgICAgICAgIHZpc2libGUuY3VycmVudCA9IGlzdmlzaWJsZSAmJiAhaXNCZWhpbmRDYW1lcmE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlzaWJsZS5jdXJyZW50ID0gIWlzQmVoaW5kQ2FtZXJhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2aW91c2x5VmlzaWJsZSAhPT0gdmlzaWJsZS5jdXJyZW50KSB7XG4gICAgICAgICAgaWYgKG9uT2NjbHVkZSkgb25PY2NsdWRlKCF2aXNpYmxlLmN1cnJlbnQpO2Vsc2UgZWwuc3R5bGUuZGlzcGxheSA9IHZpc2libGUuY3VycmVudCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFsZlJhbmdlID0gTWF0aC5mbG9vcih6SW5kZXhSYW5nZVswXSAvIDIpO1xuICAgICAgICBjb25zdCB6UmFuZ2UgPSBvY2NsdWRlID8gaXNSYXlDYXN0T2NjbHVzaW9uIC8vXG4gICAgICAgID8gW3pJbmRleFJhbmdlWzBdLCBoYWxmUmFuZ2VdIDogW2hhbGZSYW5nZSAtIDEsIDBdIDogekluZGV4UmFuZ2U7XG4gICAgICAgIGVsLnN0eWxlLnpJbmRleCA9IGAke29iamVjdFpJbmRleChncm91cC5jdXJyZW50LCBjYW1lcmEsIHpSYW5nZSl9YDtcbiAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgIGNvbnN0IFt3aWR0aEhhbGYsIGhlaWdodEhhbGZdID0gW3NpemUud2lkdGggLyAyLCBzaXplLmhlaWdodCAvIDJdO1xuICAgICAgICAgIGNvbnN0IGZvdiA9IGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzVdICogaGVpZ2h0SGFsZjtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpc09ydGhvZ3JhcGhpY0NhbWVyYSxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICByaWdodFxuICAgICAgICAgIH0gPSBjYW1lcmE7XG4gICAgICAgICAgY29uc3QgY2FtZXJhTWF0cml4ID0gZ2V0Q2FtZXJhQ1NTTWF0cml4KGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UpO1xuICAgICAgICAgIGNvbnN0IGNhbWVyYVRyYW5zZm9ybSA9IGlzT3J0aG9ncmFwaGljQ2FtZXJhID8gYHNjYWxlKCR7Zm92fSl0cmFuc2xhdGUoJHtlcHNpbG9uKC0ocmlnaHQgKyBsZWZ0KSAvIDIpfXB4LCR7ZXBzaWxvbigodG9wICsgYm90dG9tKSAvIDIpfXB4KWAgOiBgdHJhbnNsYXRlWigke2Zvdn1weClgO1xuICAgICAgICAgIGxldCBtYXRyaXggPSBncm91cC5jdXJyZW50Lm1hdHJpeFdvcmxkO1xuICAgICAgICAgIGlmIChzcHJpdGUpIHtcbiAgICAgICAgICAgIG1hdHJpeCA9IGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UuY2xvbmUoKS50cmFuc3Bvc2UoKS5jb3B5UG9zaXRpb24obWF0cml4KS5zY2FsZShncm91cC5jdXJyZW50LnNjYWxlKTtcbiAgICAgICAgICAgIG1hdHJpeC5lbGVtZW50c1szXSA9IG1hdHJpeC5lbGVtZW50c1s3XSA9IG1hdHJpeC5lbGVtZW50c1sxMV0gPSAwO1xuICAgICAgICAgICAgbWF0cml4LmVsZW1lbnRzWzE1XSA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gc2l6ZS53aWR0aCArICdweCc7XG4gICAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyAncHgnO1xuICAgICAgICAgIGVsLnN0eWxlLnBlcnNwZWN0aXZlID0gaXNPcnRob2dyYXBoaWNDYW1lcmEgPyAnJyA6IGAke2Zvdn1weGA7XG4gICAgICAgICAgaWYgKHRyYW5zZm9ybU91dGVyUmVmLmN1cnJlbnQgJiYgdHJhbnNmb3JtSW5uZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgdHJhbnNmb3JtT3V0ZXJSZWYuY3VycmVudC5zdHlsZS50cmFuc2Zvcm0gPSBgJHtjYW1lcmFUcmFuc2Zvcm19JHtjYW1lcmFNYXRyaXh9dHJhbnNsYXRlKCR7d2lkdGhIYWxmfXB4LCR7aGVpZ2h0SGFsZn1weClgO1xuICAgICAgICAgICAgdHJhbnNmb3JtSW5uZXJSZWYuY3VycmVudC5zdHlsZS50cmFuc2Zvcm0gPSBnZXRPYmplY3RDU1NNYXRyaXgobWF0cml4LCAxIC8gKChkaXN0YW5jZUZhY3RvciB8fCAxMCkgLyA0MDApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgc2NhbGUgPSBkaXN0YW5jZUZhY3RvciA9PT0gdW5kZWZpbmVkID8gMSA6IG9iamVjdFNjYWxlKGdyb3VwLmN1cnJlbnQsIGNhbWVyYSkgKiBkaXN0YW5jZUZhY3RvcjtcbiAgICAgICAgICBlbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt2ZWNbMF19cHgsJHt2ZWNbMV19cHgsMCkgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBvbGRQb3NpdGlvbi5jdXJyZW50ID0gdmVjO1xuICAgICAgICBvbGRab29tLmN1cnJlbnQgPSBjYW1lcmEuem9vbTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc1JheUNhc3RPY2NsdXNpb24gJiYgb2NjbHVzaW9uTWVzaFJlZi5jdXJyZW50ICYmICFpc01lc2hTaXplU2V0LmN1cnJlbnQpIHtcbiAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgaWYgKHRyYW5zZm9ybU91dGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBjb25zdCBlbCA9IHRyYW5zZm9ybU91dGVyUmVmLmN1cnJlbnQuY2hpbGRyZW5bMF07XG4gICAgICAgICAgaWYgKGVsICE9IG51bGwgJiYgZWwuY2xpZW50V2lkdGggJiYgZWwgIT0gbnVsbCAmJiBlbC5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgaXNPcnRob2dyYXBoaWNDYW1lcmFcbiAgICAgICAgICAgIH0gPSBjYW1lcmE7XG4gICAgICAgICAgICBpZiAoaXNPcnRob2dyYXBoaWNDYW1lcmEgfHwgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgaWYgKHByb3BzLnNjYWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BzLnNjYWxlKSkge1xuICAgICAgICAgICAgICAgICAgb2NjbHVzaW9uTWVzaFJlZi5jdXJyZW50LnNjYWxlLnNldFNjYWxhcigxIC8gcHJvcHMuc2NhbGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcHMuc2NhbGUgaW5zdGFuY2VvZiBWZWN0b3IzKSB7XG4gICAgICAgICAgICAgICAgICBvY2NsdXNpb25NZXNoUmVmLmN1cnJlbnQuc2NhbGUuY29weShwcm9wcy5zY2FsZS5jbG9uZSgpLmRpdmlkZVNjYWxhcigxKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG9jY2x1c2lvbk1lc2hSZWYuY3VycmVudC5zY2FsZS5zZXQoMSAvIHByb3BzLnNjYWxlWzBdLCAxIC8gcHJvcHMuc2NhbGVbMV0sIDEgLyBwcm9wcy5zY2FsZVsyXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCByYXRpbyA9IChkaXN0YW5jZUZhY3RvciB8fCAxMCkgLyA0MDA7XG4gICAgICAgICAgICAgIGNvbnN0IHcgPSBlbC5jbGllbnRXaWR0aCAqIHJhdGlvO1xuICAgICAgICAgICAgICBjb25zdCBoID0gZWwuY2xpZW50SGVpZ2h0ICogcmF0aW87XG4gICAgICAgICAgICAgIG9jY2x1c2lvbk1lc2hSZWYuY3VycmVudC5zY2FsZS5zZXQodywgaCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc01lc2hTaXplU2V0LmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWxlID0gZWwuY2hpbGRyZW5bMF07XG4gICAgICAgIGlmIChlbGUgIT0gbnVsbCAmJiBlbGUuY2xpZW50V2lkdGggJiYgZWxlICE9IG51bGwgJiYgZWxlLmNsaWVudEhlaWdodCkge1xuICAgICAgICAgIGNvbnN0IHJhdGlvID0gMSAvIHZpZXdwb3J0LmZhY3RvcjtcbiAgICAgICAgICBjb25zdCB3ID0gZWxlLmNsaWVudFdpZHRoICogcmF0aW87XG4gICAgICAgICAgY29uc3QgaCA9IGVsZS5jbGllbnRIZWlnaHQgKiByYXRpbztcbiAgICAgICAgICBvY2NsdXNpb25NZXNoUmVmLmN1cnJlbnQuc2NhbGUuc2V0KHcsIGgsIDEpO1xuICAgICAgICAgIGlzTWVzaFNpemVTZXQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2NjbHVzaW9uTWVzaFJlZi5jdXJyZW50Lmxvb2tBdChnbC5jYW1lcmEucG9zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHNoYWRlcnMgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgdmVydGV4U2hhZGVyOiAhdHJhbnNmb3JtID8gLyogZ2xzbCAqL2BcbiAgICAgICAgICAvKlxuICAgICAgICAgICAgVGhpcyBzaGFkZXIgaXMgZnJvbSB0aGUgVEhSRUUncyBTcHJpdGVNYXRlcmlhbC5cbiAgICAgICAgICAgIFdlIG5lZWQgdG8gdHVybiB0aGUgYmFja2luZyBwbGFuZSBpbnRvIGEgU3ByaXRlXG4gICAgICAgICAgICAobWFrZSBpdCBhbHdheXMgZmFjZSB0aGUgY2FtZXJhKSBpZiBcInRyYW5zZnJvbVwiXG4gICAgICAgICAgICBpcyBmYWxzZS5cbiAgICAgICAgICAqL1xuICAgICAgICAgICNpbmNsdWRlIDxjb21tb24+XG5cbiAgICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICB2ZWMyIGNlbnRlciA9IHZlYzIoMC4sIDEuKTtcbiAgICAgICAgICAgIGZsb2F0IHJvdGF0aW9uID0gMC4wO1xuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHNvbWV3aGF0IGFyYml0cmFyeSwgYnV0IGl0IHNlZW1zIHRvIHdvcmsgd2VsbFxuICAgICAgICAgICAgLy8gTmVlZCB0byBmaWd1cmUgb3V0IGhvdyB0byBkZXJpdmUgdGhpcyBkeW5hbWljYWxseSBpZiBpdCBldmVuIG1hdHRlcnNcbiAgICAgICAgICAgIGZsb2F0IHNpemUgPSAwLjAzO1xuXG4gICAgICAgICAgICB2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcbiAgICAgICAgICAgIHZlYzIgc2NhbGU7XG4gICAgICAgICAgICBzY2FsZS54ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMCBdLngsIG1vZGVsTWF0cml4WyAwIF0ueSwgbW9kZWxNYXRyaXhbIDAgXS56ICkgKTtcbiAgICAgICAgICAgIHNjYWxlLnkgPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAxIF0ueCwgbW9kZWxNYXRyaXhbIDEgXS55LCBtb2RlbE1hdHJpeFsgMSBdLnogKSApO1xuXG4gICAgICAgICAgICBib29sIGlzUGVyc3BlY3RpdmUgPSBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICk7XG4gICAgICAgICAgICBpZiAoIGlzUGVyc3BlY3RpdmUgKSBzY2FsZSAqPSAtIG12UG9zaXRpb24uejtcblxuICAgICAgICAgICAgdmVjMiBhbGlnbmVkUG9zaXRpb24gPSAoIHBvc2l0aW9uLnh5IC0gKCBjZW50ZXIgLSB2ZWMyKCAwLjUgKSApICkgKiBzY2FsZSAqIHNpemU7XG4gICAgICAgICAgICB2ZWMyIHJvdGF0ZWRQb3NpdGlvbjtcbiAgICAgICAgICAgIHJvdGF0ZWRQb3NpdGlvbi54ID0gY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggLSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcbiAgICAgICAgICAgIHJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcbiAgICAgICAgICAgIG12UG9zaXRpb24ueHkgKz0gcm90YXRlZFBvc2l0aW9uO1xuXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xuICAgICAgICAgIH1cbiAgICAgIGAgOiB1bmRlZmluZWQsXG4gICAgZnJhZ21lbnRTaGFkZXI6IC8qIGdsc2wgKi9gXG4gICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgIGBcbiAgfSksIFt0cmFuc2Zvcm1dKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiBncm91cFxuICB9KSwgb2NjbHVkZSAmJiAhaXNSYXlDYXN0T2NjbHVzaW9uICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibWVzaFwiLCB7XG4gICAgY2FzdFNoYWRvdzogY2FzdFNoYWRvdyxcbiAgICByZWNlaXZlU2hhZG93OiByZWNlaXZlU2hhZG93LFxuICAgIHJlZjogb2NjbHVzaW9uTWVzaFJlZlxuICB9LCBnZW9tZXRyeSB8fCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBsYW5lR2VvbWV0cnlcIiwgbnVsbCksIG1hdGVyaWFsIHx8IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic2hhZGVyTWF0ZXJpYWxcIiwge1xuICAgIHNpZGU6IERvdWJsZVNpZGUsXG4gICAgdmVydGV4U2hhZGVyOiBzaGFkZXJzLnZlcnRleFNoYWRlcixcbiAgICBmcmFnbWVudFNoYWRlcjogc2hhZGVycy5mcmFnbWVudFNoYWRlclxuICB9KSkpO1xufSk7XG5cbmV4cG9ydCB7IEh0bWwgfTtcbiJdLCJuYW1lcyI6WyJfZXh0ZW5kcyIsIlJlYWN0IiwiUmVhY3RET00iLCJWZWN0b3IzIiwiRG91YmxlU2lkZSIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiVmVjdG9yMiIsInVzZVRocmVlIiwidXNlRnJhbWUiLCJ2MSIsInYyIiwidjMiLCJ2NCIsImRlZmF1bHRDYWxjdWxhdGVQb3NpdGlvbiIsImVsIiwiY2FtZXJhIiwic2l6ZSIsIm9iamVjdFBvcyIsInNldEZyb21NYXRyaXhQb3NpdGlvbiIsIm1hdHJpeFdvcmxkIiwicHJvamVjdCIsIndpZHRoSGFsZiIsIndpZHRoIiwiaGVpZ2h0SGFsZiIsImhlaWdodCIsIngiLCJ5IiwiaXNPYmplY3RCZWhpbmRDYW1lcmEiLCJjYW1lcmFQb3MiLCJkZWx0YUNhbU9iaiIsInN1YiIsImNhbURpciIsImdldFdvcmxkRGlyZWN0aW9uIiwiYW5nbGVUbyIsIk1hdGgiLCJQSSIsImlzT2JqZWN0VmlzaWJsZSIsInJheWNhc3RlciIsIm9jY2x1ZGUiLCJlbFBvcyIsInNjcmVlblBvcyIsImNsb25lIiwic2V0Iiwic2V0RnJvbUNhbWVyYSIsImludGVyc2VjdHMiLCJpbnRlcnNlY3RPYmplY3RzIiwibGVuZ3RoIiwiaW50ZXJzZWN0aW9uRGlzdGFuY2UiLCJkaXN0YW5jZSIsInBvaW50RGlzdGFuY2UiLCJkaXN0YW5jZVRvIiwicmF5Iiwib3JpZ2luIiwib2JqZWN0U2NhbGUiLCJ6b29tIiwidkZPViIsImZvdiIsImRpc3QiLCJzY2FsZUZPViIsInRhbiIsIm9iamVjdFpJbmRleCIsInpJbmRleFJhbmdlIiwiQSIsImZhciIsIm5lYXIiLCJCIiwicm91bmQiLCJ1bmRlZmluZWQiLCJlcHNpbG9uIiwidmFsdWUiLCJhYnMiLCJnZXRDU1NNYXRyaXgiLCJtYXRyaXgiLCJtdWx0aXBsaWVycyIsInByZXBlbmQiLCJtYXRyaXgzZCIsImkiLCJlbGVtZW50cyIsImdldENhbWVyYUNTU01hdHJpeCIsImdldE9iamVjdENTU01hdHJpeCIsInNjYWxlTXVsdGlwbGllcnMiLCJmYWN0b3IiLCJmIiwiaXNSZWZPYmplY3QiLCJyZWYiLCJIdG1sIiwiZm9yd2FyZFJlZiIsImNoaWxkcmVuIiwiZXBzIiwic3R5bGUiLCJjbGFzc05hbWUiLCJjZW50ZXIiLCJmdWxsc2NyZWVuIiwicG9ydGFsIiwiZGlzdGFuY2VGYWN0b3IiLCJzcHJpdGUiLCJ0cmFuc2Zvcm0iLCJvbk9jY2x1ZGUiLCJjYXN0U2hhZG93IiwicmVjZWl2ZVNoYWRvdyIsIm1hdGVyaWFsIiwiZ2VvbWV0cnkiLCJjYWxjdWxhdGVQb3NpdGlvbiIsImFzIiwid3JhcHBlckNsYXNzIiwicG9pbnRlckV2ZW50cyIsInByb3BzIiwiZ2wiLCJzY2VuZSIsImV2ZW50cyIsInZpZXdwb3J0IiwidXNlU3RhdGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJyb290IiwidXNlUmVmIiwiZ3JvdXAiLCJvbGRab29tIiwib2xkUG9zaXRpb24iLCJ0cmFuc2Zvcm1PdXRlclJlZiIsInRyYW5zZm9ybUlubmVyUmVmIiwidGFyZ2V0IiwiY3VycmVudCIsImNvbm5lY3RlZCIsImRvbUVsZW1lbnQiLCJwYXJlbnROb2RlIiwib2NjbHVzaW9uTWVzaFJlZiIsImlzTWVzaFNpemVTZXQiLCJpc1JheUNhc3RPY2NsdXNpb24iLCJ1c2VNZW1vIiwiQXJyYXkiLCJpc0FycmF5IiwidXNlTGF5b3V0RWZmZWN0IiwiekluZGV4IiwiZmxvb3IiLCJwb3NpdGlvbiIsImN1cnJlbnRSb290IiwiY3JlYXRlUm9vdCIsInVwZGF0ZU1hdHJpeFdvcmxkIiwiY3NzVGV4dCIsInZlYyIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJ1bm1vdW50Iiwic3R5bGVzIiwidG9wIiwibGVmdCIsInRyYW5zZm9ybVN0eWxlIiwidHJhbnNmb3JtSW5uZXJTdHlsZXMiLCJfcm9vdCRjdXJyZW50IiwicmVuZGVyIiwiX3Jvb3QkY3VycmVudDIiLCJ2aXNpYmxlIiwidXBkYXRlV29ybGRNYXRyaXgiLCJpc0JlaGluZENhbWVyYSIsInJheXRyYWNlVGFyZ2V0IiwibWFwIiwiaXRlbSIsInByZXZpb3VzbHlWaXNpYmxlIiwiaXN2aXNpYmxlIiwiZGlzcGxheSIsImhhbGZSYW5nZSIsInpSYW5nZSIsInByb2plY3Rpb25NYXRyaXgiLCJpc09ydGhvZ3JhcGhpY0NhbWVyYSIsImJvdHRvbSIsInJpZ2h0IiwiY2FtZXJhTWF0cml4IiwibWF0cml4V29ybGRJbnZlcnNlIiwiY2FtZXJhVHJhbnNmb3JtIiwidHJhbnNwb3NlIiwiY29weVBvc2l0aW9uIiwic2NhbGUiLCJwZXJzcGVjdGl2ZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Iiwic2V0U2NhbGFyIiwiY29weSIsImRpdmlkZVNjYWxhciIsInJhdGlvIiwidyIsImgiLCJlbGUiLCJsb29rQXQiLCJzaGFkZXJzIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJzaWRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/web/Html.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-three/fiber/dist/events-776716bd.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ useInstanceHandle),\n/* harmony export */   B: () => (/* binding */ Block),\n/* harmony export */   C: () => (/* binding */ useStore),\n/* harmony export */   D: () => (/* binding */ useThree),\n/* harmony export */   E: () => (/* binding */ ErrorBoundary),\n/* harmony export */   F: () => (/* binding */ useFrame),\n/* harmony export */   G: () => (/* binding */ useGraph),\n/* harmony export */   H: () => (/* binding */ useLoader),\n/* harmony export */   a: () => (/* binding */ useIsomorphicLayoutEffect),\n/* harmony export */   b: () => (/* binding */ createRoot),\n/* harmony export */   c: () => (/* binding */ createPointerEvents),\n/* harmony export */   d: () => (/* binding */ unmountComponentAtNode),\n/* harmony export */   e: () => (/* binding */ extend),\n/* harmony export */   f: () => (/* binding */ createEvents),\n/* harmony export */   g: () => (/* binding */ context),\n/* harmony export */   h: () => (/* binding */ createPortal),\n/* harmony export */   i: () => (/* binding */ isRef),\n/* harmony export */   j: () => (/* binding */ reconciler),\n/* harmony export */   k: () => (/* binding */ applyProps),\n/* harmony export */   l: () => (/* binding */ dispose),\n/* harmony export */   m: () => (/* binding */ invalidate),\n/* harmony export */   n: () => (/* binding */ advance),\n/* harmony export */   o: () => (/* binding */ addEffect),\n/* harmony export */   p: () => (/* binding */ addAfterEffect),\n/* harmony export */   q: () => (/* binding */ addTail),\n/* harmony export */   r: () => (/* binding */ render),\n/* harmony export */   s: () => (/* binding */ flushGlobalEffects),\n/* harmony export */   t: () => (/* binding */ threeTypes),\n/* harmony export */   u: () => (/* binding */ useMutableCallback),\n/* harmony export */   v: () => (/* binding */ flushSync),\n/* harmony export */   w: () => (/* binding */ getRootState),\n/* harmony export */   x: () => (/* binding */ act),\n/* harmony export */   y: () => (/* binding */ buildGraph),\n/* harmony export */   z: () => (/* binding */ roots)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-reconciler/constants */ \"(ssr)/./node_modules/react-reconciler/constants.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js\");\n/* harmony import */ var suspend_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! suspend-react */ \"(ssr)/./node_modules/suspend-react/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-reconciler */ \"(ssr)/./node_modules/react-reconciler/index.js\");\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_reconciler__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var scheduler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! scheduler */ \"(ssr)/./node_modules/scheduler/index.js\");\n\n\n\n\n\n\n\n\nvar threeTypes = /*#__PURE__*/ Object.freeze({\n    __proto__: null\n});\nconst catalogue = {};\nconst extend = (objects)=>void Object.assign(catalogue, objects);\nfunction createRenderer(_roots, _getEventPriority) {\n    function createInstance(type, { args = [], attach, ...props }, root) {\n        let name = `${type[0].toUpperCase()}${type.slice(1)}`;\n        let instance;\n        if (type === \"primitive\") {\n            if (props.object === undefined) throw new Error(\"R3F: Primitives without 'object' are invalid!\");\n            const object = props.object;\n            instance = prepare(object, {\n                type,\n                root,\n                attach,\n                primitive: true\n            });\n        } else {\n            const target = catalogue[name];\n            if (!target) {\n                throw new Error(`R3F: ${name} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);\n            }\n            // Throw if an object or literal was passed for args\n            if (!Array.isArray(args)) throw new Error(\"R3F: The args prop must be an array!\");\n            // Instanciate new object, link it to the root\n            // Append memoized props with args so it's not forgotten\n            instance = prepare(new target(...args), {\n                type,\n                root,\n                attach,\n                // Save args in case we need to reconstruct later for HMR\n                memoizedProps: {\n                    args\n                }\n            });\n        }\n        // Auto-attach geometries and materials\n        if (instance.__r3f.attach === undefined) {\n            if (instance.isBufferGeometry) instance.__r3f.attach = \"geometry\";\n            else if (instance.isMaterial) instance.__r3f.attach = \"material\";\n        }\n        // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\n        // view yet. If the callback relies on references for instance, they won't be ready yet, this is\n        // why it passes \"true\" here\n        // There is no reason to apply props to injects\n        if (name !== \"inject\") applyProps$1(instance, props);\n        return instance;\n    }\n    function appendChild(parentInstance, child) {\n        let added = false;\n        if (child) {\n            var _child$__r3f, _parentInstance$__r3f;\n            // The attach attribute implies that the object attaches itself on the parent\n            if ((_child$__r3f = child.__r3f) != null && _child$__r3f.attach) {\n                attach(parentInstance, child, child.__r3f.attach);\n            } else if (child.isObject3D && parentInstance.isObject3D) {\n                // add in the usual parent-child way\n                parentInstance.add(child);\n                added = true;\n            }\n            // This is for anything that used attach, and for non-Object3Ds that don't get attached to props;\n            // that is, anything that's a child in React but not a child in the scenegraph.\n            if (!added) (_parentInstance$__r3f = parentInstance.__r3f) == null ? void 0 : _parentInstance$__r3f.objects.push(child);\n            if (!child.__r3f) prepare(child, {});\n            child.__r3f.parent = parentInstance;\n            updateInstance(child);\n            invalidateInstance(child);\n        }\n    }\n    function insertBefore(parentInstance, child, beforeChild) {\n        let added = false;\n        if (child) {\n            var _child$__r3f2, _parentInstance$__r3f2;\n            if ((_child$__r3f2 = child.__r3f) != null && _child$__r3f2.attach) {\n                attach(parentInstance, child, child.__r3f.attach);\n            } else if (child.isObject3D && parentInstance.isObject3D) {\n                child.parent = parentInstance;\n                child.dispatchEvent({\n                    type: \"added\"\n                });\n                parentInstance.dispatchEvent({\n                    type: \"childadded\",\n                    child\n                });\n                const restSiblings = parentInstance.children.filter((sibling)=>sibling !== child);\n                const index = restSiblings.indexOf(beforeChild);\n                parentInstance.children = [\n                    ...restSiblings.slice(0, index),\n                    child,\n                    ...restSiblings.slice(index)\n                ];\n                added = true;\n            }\n            if (!added) (_parentInstance$__r3f2 = parentInstance.__r3f) == null ? void 0 : _parentInstance$__r3f2.objects.push(child);\n            if (!child.__r3f) prepare(child, {});\n            child.__r3f.parent = parentInstance;\n            updateInstance(child);\n            invalidateInstance(child);\n        }\n    }\n    function removeRecursive(array, parent, dispose = false) {\n        if (array) [\n            ...array\n        ].forEach((child)=>removeChild(parent, child, dispose));\n    }\n    function removeChild(parentInstance, child, dispose) {\n        if (child) {\n            var _parentInstance$__r3f3, _child$__r3f3, _child$__r3f5;\n            // Clear the parent reference\n            if (child.__r3f) child.__r3f.parent = null;\n            // Remove child from the parents objects\n            if ((_parentInstance$__r3f3 = parentInstance.__r3f) != null && _parentInstance$__r3f3.objects) parentInstance.__r3f.objects = parentInstance.__r3f.objects.filter((x)=>x !== child);\n            // Remove attachment\n            if ((_child$__r3f3 = child.__r3f) != null && _child$__r3f3.attach) {\n                detach(parentInstance, child, child.__r3f.attach);\n            } else if (child.isObject3D && parentInstance.isObject3D) {\n                var _child$__r3f4;\n                parentInstance.remove(child);\n                // @ts-expect-error\n                // Remove interactivity on the initial root\n                if ((_child$__r3f4 = child.__r3f) != null && _child$__r3f4.root) {\n                    removeInteractivity(findInitialRoot(child), child);\n                }\n            }\n            // Allow objects to bail out of recursive dispose altogether by passing dispose={null}\n            // Never dispose of primitives because their state may be kept outside of React!\n            // In order for an object to be able to dispose it has to have\n            //   - a dispose method,\n            //   - it cannot be a <primitive object={...} />\n            //   - it cannot be a THREE.Scene, because three has broken it's own api\n            //\n            // Since disposal is recursive, we can check the optional dispose arg, which will be undefined\n            // when the reconciler calls it, but then carry our own check recursively\n            const isPrimitive = (_child$__r3f5 = child.__r3f) == null ? void 0 : _child$__r3f5.primitive;\n            const shouldDispose = !isPrimitive && (dispose === undefined ? child.dispose !== null : dispose);\n            // Remove nested child objects. Primitives should not have objects and children that are\n            // attached to them declaratively ...\n            if (!isPrimitive) {\n                var _child$__r3f6;\n                removeRecursive((_child$__r3f6 = child.__r3f) == null ? void 0 : _child$__r3f6.objects, child, shouldDispose);\n                removeRecursive(child.children, child, shouldDispose);\n            }\n            // Remove references\n            delete child.__r3f;\n            // Dispose item whenever the reconciler feels like it\n            if (shouldDispose && child.dispose && child.type !== \"Scene\") {\n                const callback = ()=>{\n                    try {\n                        child.dispose();\n                    } catch (e) {\n                    /* ... */ }\n                };\n                // Schedule async at runtime, flush sync in testing\n                if (typeof IS_REACT_ACT_ENVIRONMENT === \"undefined\") {\n                    (0,scheduler__WEBPACK_IMPORTED_MODULE_4__.unstable_scheduleCallback)(scheduler__WEBPACK_IMPORTED_MODULE_4__.unstable_IdlePriority, callback);\n                } else {\n                    callback();\n                }\n            }\n            invalidateInstance(parentInstance);\n        }\n    }\n    function switchInstance(instance, type, newProps, fiber) {\n        var _instance$__r3f;\n        const parent = (_instance$__r3f = instance.__r3f) == null ? void 0 : _instance$__r3f.parent;\n        if (!parent) return;\n        const newInstance = createInstance(type, newProps, instance.__r3f.root);\n        // https://github.com/pmndrs/react-three-fiber/issues/1348\n        // When args change the instance has to be re-constructed, which then\n        // forces r3f to re-parent the children and non-scene objects\n        if (instance.children) {\n            for (const child of instance.children){\n                if (child.__r3f) appendChild(newInstance, child);\n            }\n            instance.children = instance.children.filter((child)=>!child.__r3f);\n        }\n        instance.__r3f.objects.forEach((child)=>appendChild(newInstance, child));\n        instance.__r3f.objects = [];\n        if (!instance.__r3f.autoRemovedBeforeAppend) {\n            removeChild(parent, instance);\n        }\n        if (newInstance.parent) {\n            newInstance.__r3f.autoRemovedBeforeAppend = true;\n        }\n        appendChild(parent, newInstance);\n        // Re-bind event handlers on the initial root\n        if (newInstance.raycast && newInstance.__r3f.eventCount) {\n            const rootState = findInitialRoot(newInstance).getState();\n            rootState.internal.interaction.push(newInstance);\n        }\n        [\n            fiber,\n            fiber.alternate\n        ].forEach((fiber)=>{\n            if (fiber !== null) {\n                fiber.stateNode = newInstance;\n                if (fiber.ref) {\n                    if (typeof fiber.ref === \"function\") fiber.ref(newInstance);\n                    else fiber.ref.current = newInstance;\n                }\n            }\n        });\n    }\n    // Don't handle text instances, make it no-op\n    const handleTextInstance = ()=>{};\n    const reconciler = react_reconciler__WEBPACK_IMPORTED_MODULE_3___default()({\n        createInstance,\n        removeChild,\n        appendChild,\n        appendInitialChild: appendChild,\n        insertBefore,\n        supportsMutation: true,\n        isPrimaryRenderer: false,\n        supportsPersistence: false,\n        supportsHydration: false,\n        noTimeout: -1,\n        appendChildToContainer: (container, child)=>{\n            if (!child) return;\n            // Don't append to unmounted container\n            const scene = container.getState().scene;\n            if (!scene.__r3f) return;\n            // Link current root to the default scene\n            scene.__r3f.root = container;\n            appendChild(scene, child);\n        },\n        removeChildFromContainer: (container, child)=>{\n            if (!child) return;\n            removeChild(container.getState().scene, child);\n        },\n        insertInContainerBefore: (container, child, beforeChild)=>{\n            if (!child || !beforeChild) return;\n            // Don't append to unmounted container\n            const scene = container.getState().scene;\n            if (!scene.__r3f) return;\n            insertBefore(scene, child, beforeChild);\n        },\n        getRootHostContext: ()=>null,\n        getChildHostContext: (parentHostContext)=>parentHostContext,\n        finalizeInitialChildren (instance) {\n            var _instance$__r3f2;\n            const localState = (_instance$__r3f2 = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f2 : {};\n            // https://github.com/facebook/react/issues/20271\n            // Returning true will trigger commitMount\n            return Boolean(localState.handlers);\n        },\n        prepareUpdate (instance, _type, oldProps, newProps) {\n            var _instance$__r3f3;\n            const localState = (_instance$__r3f3 = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f3 : {};\n            // Create diff-sets\n            if (localState.primitive && newProps.object && newProps.object !== instance) {\n                return [\n                    true\n                ];\n            } else {\n                // This is a data object, let's extract critical information about it\n                const { args: argsNew = [], children: cN, ...restNew } = newProps;\n                const { args: argsOld = [], children: cO, ...restOld } = oldProps;\n                // Throw if an object or literal was passed for args\n                if (!Array.isArray(argsNew)) throw new Error(\"R3F: the args prop must be an array!\");\n                // If it has new props or arguments, then it needs to be re-instantiated\n                if (argsNew.some((value, index)=>value !== argsOld[index])) return [\n                    true\n                ];\n                // Create a diff-set, flag if there are any changes\n                const diff = diffProps(instance, restNew, restOld, true);\n                if (diff.changes.length) return [\n                    false,\n                    diff\n                ];\n                // Otherwise do not touch the instance\n                return null;\n            }\n        },\n        commitUpdate (instance, [reconstruct, diff], type, _oldProps, newProps, fiber) {\n            // Reconstruct when args or <primitive object={...} have changes\n            if (reconstruct) switchInstance(instance, type, newProps, fiber);\n            else applyProps$1(instance, diff);\n        },\n        commitMount (instance, _type, _props, _int) {\n            var _instance$__r3f4;\n            // https://github.com/facebook/react/issues/20271\n            // This will make sure events are only added once to the central container on the initial root\n            const localState = (_instance$__r3f4 = instance.__r3f) != null ? _instance$__r3f4 : {};\n            if (instance.raycast && localState.handlers && localState.eventCount) {\n                findInitialRoot(instance).getState().internal.interaction.push(instance);\n            }\n        },\n        getPublicInstance: (instance)=>instance,\n        prepareForCommit: ()=>null,\n        preparePortalMount: (container)=>prepare(container.getState().scene),\n        resetAfterCommit: ()=>{},\n        shouldSetTextContent: ()=>false,\n        clearContainer: ()=>false,\n        hideInstance (instance) {\n            var _instance$__r3f5;\n            // Detach while the instance is hidden\n            const { attach: type, parent } = (_instance$__r3f5 = instance.__r3f) != null ? _instance$__r3f5 : {};\n            if (type && parent) detach(parent, instance, type);\n            if (instance.isObject3D) instance.visible = false;\n            invalidateInstance(instance);\n        },\n        unhideInstance (instance, props) {\n            var _instance$__r3f6;\n            // Re-attach when the instance is unhidden\n            const { attach: type, parent } = (_instance$__r3f6 = instance.__r3f) != null ? _instance$__r3f6 : {};\n            if (type && parent) attach(parent, instance, type);\n            if (instance.isObject3D && props.visible == null || props.visible) instance.visible = true;\n            invalidateInstance(instance);\n        },\n        createTextInstance: handleTextInstance,\n        hideTextInstance: handleTextInstance,\n        unhideTextInstance: handleTextInstance,\n        // https://github.com/pmndrs/react-three-fiber/pull/2360#discussion_r916356874\n        // @ts-expect-error\n        getCurrentEventPriority: ()=>_getEventPriority ? _getEventPriority() : react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.DefaultEventPriority,\n        beforeActiveInstanceBlur: ()=>{},\n        afterActiveInstanceBlur: ()=>{},\n        detachDeletedInstance: ()=>{},\n        now: typeof performance !== \"undefined\" && is.fun(performance.now) ? performance.now : is.fun(Date.now) ? Date.now : ()=>0,\n        // https://github.com/pmndrs/react-three-fiber/pull/2360#discussion_r920883503\n        scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n        cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined\n    });\n    return {\n        reconciler,\n        applyProps: applyProps$1\n    };\n}\nvar _window$document, _window$navigator;\n/**\r\n * Returns `true` with correct TS type inference if an object has a configurable color space (since r152).\r\n */ const hasColorSpace = (object)=>\"colorSpace\" in object || \"outputColorSpace\" in object;\n/**\r\n * The current THREE.ColorManagement instance, if present.\r\n */ const getColorManagement = ()=>{\n    var _ColorManagement;\n    return (_ColorManagement = catalogue.ColorManagement) != null ? _ColorManagement : null;\n};\nconst isOrthographicCamera = (def)=>def && def.isOrthographicCamera;\nconst isRef = (obj)=>obj && obj.hasOwnProperty(\"current\");\n/**\r\n * An SSR-friendly useLayoutEffect.\r\n *\r\n * React currently throws a warning when using useLayoutEffect on the server.\r\n * To get around it, we can conditionally useEffect on the server (no-op) and\r\n * useLayoutEffect elsewhere.\r\n *\r\n * @see https://github.com/facebook/react/issues/14927\r\n */ const useIsomorphicLayoutEffect =  false ? 0 : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useMutableCallback(fn) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);\n    useIsomorphicLayoutEffect(()=>void (ref.current = fn), [\n        fn\n    ]);\n    return ref;\n}\nfunction Block({ set }) {\n    useIsomorphicLayoutEffect(()=>{\n        set(new Promise(()=>null));\n        return ()=>set(false);\n    }, [\n        set\n    ]);\n    return null;\n}\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n    constructor(...args){\n        super(...args);\n        this.state = {\n            error: false\n        };\n    }\n    componentDidCatch(err) {\n        this.props.set(err);\n    }\n    render() {\n        return this.state.error ? null : this.props.children;\n    }\n}\nErrorBoundary.getDerivedStateFromError = ()=>({\n        error: true\n    });\nconst DEFAULT = \"__default\";\nconst DEFAULTS = new Map();\nconst isDiffSet = (def)=>def && !!def.memoized && !!def.changes;\nfunction calculateDpr(dpr) {\n    var _window$devicePixelRa;\n    // Err on the side of progress by assuming 2x dpr if we can't detect it\n    // This will happen in workers where window is defined but dpr isn't.\n    const target =  false ? 0 : 1;\n    return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], target), dpr[1]) : dpr;\n}\n/**\r\n * Returns instance root state\r\n */ const getRootState = (obj)=>{\n    var _r3f;\n    return (_r3f = obj.__r3f) == null ? void 0 : _r3f.root.getState();\n};\n/**\r\n * Returns the instances initial (outmost) root\r\n */ function findInitialRoot(child) {\n    let root = child.__r3f.root;\n    while(root.getState().previousRoot)root = root.getState().previousRoot;\n    return root;\n}\n// A collection of compare functions\nconst is = {\n    obj: (a)=>a === Object(a) && !is.arr(a) && typeof a !== \"function\",\n    fun: (a)=>typeof a === \"function\",\n    str: (a)=>typeof a === \"string\",\n    num: (a)=>typeof a === \"number\",\n    boo: (a)=>typeof a === \"boolean\",\n    und: (a)=>a === void 0,\n    arr: (a)=>Array.isArray(a),\n    equ (a, b, { arrays = \"shallow\", objects = \"reference\", strict = true } = {}) {\n        // Wrong type or one of the two undefined, doesn't match\n        if (typeof a !== typeof b || !!a !== !!b) return false;\n        // Atomic, just compare a against b\n        if (is.str(a) || is.num(a) || is.boo(a)) return a === b;\n        const isObj = is.obj(a);\n        if (isObj && objects === \"reference\") return a === b;\n        const isArr = is.arr(a);\n        if (isArr && arrays === \"reference\") return a === b;\n        // Array or Object, shallow compare first to see if it's a match\n        if ((isArr || isObj) && a === b) return true;\n        // Last resort, go through keys\n        let i;\n        // Check if a has all the keys of b\n        for(i in a)if (!(i in b)) return false;\n        // Check if values between keys match\n        if (isObj && arrays === \"shallow\" && objects === \"shallow\") {\n            for(i in strict ? b : a)if (!is.equ(a[i], b[i], {\n                strict,\n                objects: \"reference\"\n            })) return false;\n        } else {\n            for(i in strict ? b : a)if (a[i] !== b[i]) return false;\n        }\n        // If i is undefined\n        if (is.und(i)) {\n            // If both arrays are empty we consider them equal\n            if (isArr && a.length === 0 && b.length === 0) return true;\n            // If both objects are empty we consider them equal\n            if (isObj && Object.keys(a).length === 0 && Object.keys(b).length === 0) return true;\n            // Otherwise match them by value\n            if (a !== b) return false;\n        }\n        return true;\n    }\n};\n/**\r\n * Collects nodes and materials from a THREE.Object3D.\r\n */ function buildGraph(object) {\n    const data = {\n        nodes: {},\n        materials: {}\n    };\n    if (object) {\n        object.traverse((obj)=>{\n            if (obj.name) data.nodes[obj.name] = obj;\n            if (obj.material && !data.materials[obj.material.name]) data.materials[obj.material.name] = obj.material;\n        });\n    }\n    return data;\n}\n// Disposes an object and all its properties\nfunction dispose(obj) {\n    if (obj.dispose && obj.type !== \"Scene\") obj.dispose();\n    for(const p in obj){\n        p.dispose == null ? void 0 : p.dispose();\n        delete obj[p];\n    }\n}\n// Each object in the scene carries a small LocalState descriptor\nfunction prepare(object, state) {\n    const instance = object;\n    instance.__r3f = {\n        type: \"\",\n        root: null,\n        previousAttach: null,\n        memoizedProps: {},\n        eventCount: 0,\n        handlers: {},\n        objects: [],\n        parent: null,\n        ...state\n    };\n    return object;\n}\nfunction resolve(instance, key) {\n    let target = instance;\n    if (key.includes(\"-\")) {\n        const entries = key.split(\"-\");\n        const last = entries.pop();\n        target = entries.reduce((acc, key)=>acc[key], instance);\n        return {\n            target,\n            key: last\n        };\n    } else return {\n        target,\n        key\n    };\n}\n// Checks if a dash-cased string ends with an integer\nconst INDEX_REGEX = /-\\d+$/;\nfunction attach(parent, child, type) {\n    if (is.str(type)) {\n        // If attaching into an array (foo-0), create one\n        if (INDEX_REGEX.test(type)) {\n            const root = type.replace(INDEX_REGEX, \"\");\n            const { target, key } = resolve(parent, root);\n            if (!Array.isArray(target[key])) target[key] = [];\n        }\n        const { target, key } = resolve(parent, type);\n        child.__r3f.previousAttach = target[key];\n        target[key] = child;\n    } else child.__r3f.previousAttach = type(parent, child);\n}\nfunction detach(parent, child, type) {\n    var _child$__r3f, _child$__r3f2;\n    if (is.str(type)) {\n        const { target, key } = resolve(parent, type);\n        const previous = child.__r3f.previousAttach;\n        // When the previous value was undefined, it means the value was never set to begin with\n        if (previous === undefined) delete target[key];\n        else target[key] = previous;\n    } else (_child$__r3f = child.__r3f) == null ? void 0 : _child$__r3f.previousAttach == null ? void 0 : _child$__r3f.previousAttach(parent, child);\n    (_child$__r3f2 = child.__r3f) == null ? true : delete _child$__r3f2.previousAttach;\n}\n// This function prepares a set of changes to be applied to the instance\nfunction diffProps(instance, { children: cN, key: kN, ref: rN, ...props }, { children: cP, key: kP, ref: rP, ...previous } = {}, remove = false) {\n    const localState = instance.__r3f;\n    const entries = Object.entries(props);\n    const changes = [];\n    // Catch removed props, prepend them so they can be reset or removed\n    if (remove) {\n        const previousKeys = Object.keys(previous);\n        for(let i = 0; i < previousKeys.length; i++){\n            if (!props.hasOwnProperty(previousKeys[i])) entries.unshift([\n                previousKeys[i],\n                DEFAULT + \"remove\"\n            ]);\n        }\n    }\n    entries.forEach(([key, value])=>{\n        var _instance$__r3f;\n        // Bail out on primitive object\n        if ((_instance$__r3f = instance.__r3f) != null && _instance$__r3f.primitive && key === \"object\") return;\n        // When props match bail out\n        if (is.equ(value, previous[key])) return;\n        // Collect handlers and bail out\n        if (/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(key)) return changes.push([\n            key,\n            value,\n            true,\n            []\n        ]);\n        // Split dashed props\n        let entries = [];\n        if (key.includes(\"-\")) entries = key.split(\"-\");\n        changes.push([\n            key,\n            value,\n            false,\n            entries\n        ]);\n        // Reset pierced props\n        for(const prop in props){\n            const value = props[prop];\n            if (prop.startsWith(`${key}-`)) changes.push([\n                prop,\n                value,\n                false,\n                prop.split(\"-\")\n            ]);\n        }\n    });\n    const memoized = {\n        ...props\n    };\n    if (localState != null && localState.memoizedProps && localState != null && localState.memoizedProps.args) memoized.args = localState.memoizedProps.args;\n    if (localState != null && localState.memoizedProps && localState != null && localState.memoizedProps.attach) memoized.attach = localState.memoizedProps.attach;\n    return {\n        memoized,\n        changes\n    };\n}\nconst __DEV__ = typeof process !== \"undefined\" && \"development\" !== \"production\";\n// This function applies a set of changes to the instance\nfunction applyProps$1(instance, data) {\n    var _instance$__r3f2;\n    // Filter equals, events and reserved props\n    const localState = instance.__r3f;\n    const root = localState == null ? void 0 : localState.root;\n    const rootState = root == null ? void 0 : root.getState == null ? void 0 : root.getState();\n    const { memoized, changes } = isDiffSet(data) ? data : diffProps(instance, data);\n    const prevHandlers = localState == null ? void 0 : localState.eventCount;\n    // Prepare memoized props\n    if (instance.__r3f) instance.__r3f.memoizedProps = memoized;\n    for(let i = 0; i < changes.length; i++){\n        let [key, value, isEvent, keys] = changes[i];\n        // Alias (output)encoding => (output)colorSpace (since r152)\n        // https://github.com/pmndrs/react-three-fiber/pull/2829\n        if (hasColorSpace(instance)) {\n            const sRGBEncoding = 3001;\n            const SRGBColorSpace = \"srgb\";\n            const LinearSRGBColorSpace = \"srgb-linear\";\n            if (key === \"encoding\") {\n                key = \"colorSpace\";\n                value = value === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n            } else if (key === \"outputEncoding\") {\n                key = \"outputColorSpace\";\n                value = value === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n            }\n        }\n        let currentInstance = instance;\n        let targetProp = currentInstance[key];\n        // Revolve dashed props\n        if (keys.length) {\n            targetProp = keys.reduce((acc, key)=>acc[key], instance);\n            // If the target is atomic, it forces us to switch the root\n            if (!(targetProp && targetProp.set)) {\n                const [name, ...reverseEntries] = keys.reverse();\n                currentInstance = reverseEntries.reverse().reduce((acc, key)=>acc[key], instance);\n                key = name;\n            }\n        }\n        // https://github.com/mrdoob/three.js/issues/21209\n        // HMR/fast-refresh relies on the ability to cancel out props, but threejs\n        // has no means to do this. Hence we curate a small collection of value-classes\n        // with their respective constructor/set arguments\n        // For removed props, try to set default values, if possible\n        if (value === DEFAULT + \"remove\") {\n            if (currentInstance.constructor) {\n                // create a blank slate of the instance and copy the particular parameter.\n                let ctor = DEFAULTS.get(currentInstance.constructor);\n                if (!ctor) {\n                    // @ts-expect-error\n                    ctor = new currentInstance.constructor();\n                    DEFAULTS.set(currentInstance.constructor, ctor);\n                }\n                value = ctor[key];\n            } else {\n                // instance does not have constructor, just set it to 0\n                value = 0;\n            }\n        }\n        // Deal with pointer events ...\n        if (isEvent && localState) {\n            if (value) localState.handlers[key] = value;\n            else delete localState.handlers[key];\n            localState.eventCount = Object.keys(localState.handlers).length;\n        } else if (targetProp && targetProp.set && (targetProp.copy || targetProp instanceof three__WEBPACK_IMPORTED_MODULE_5__.Layers)) {\n            // If value is an array\n            if (Array.isArray(value)) {\n                if (targetProp.fromArray) targetProp.fromArray(value);\n                else targetProp.set(...value);\n            } else if (targetProp.copy && value && value.constructor && // Some environments may break strict identity checks by duplicating versions of three.js.\n            // Loosen to unminified names, ignoring descendents.\n            // https://github.com/pmndrs/react-three-fiber/issues/2856\n            // TODO: fix upstream and remove in v9\n            (__DEV__ ? targetProp.constructor.name === value.constructor.name : targetProp.constructor === value.constructor)) {\n                targetProp.copy(value);\n            } else if (value !== undefined) {\n                var _targetProp;\n                const isColor = (_targetProp = targetProp) == null ? void 0 : _targetProp.isColor;\n                // Allow setting array scalars\n                if (!isColor && targetProp.setScalar) targetProp.setScalar(value);\n                else if (targetProp instanceof three__WEBPACK_IMPORTED_MODULE_5__.Layers && value instanceof three__WEBPACK_IMPORTED_MODULE_5__.Layers) targetProp.mask = value.mask;\n                else targetProp.set(value);\n                // For versions of three which don't support THREE.ColorManagement,\n                // Auto-convert sRGB colors\n                // https://github.com/pmndrs/react-three-fiber/issues/344\n                if (!getColorManagement() && rootState && !rootState.linear && isColor) targetProp.convertSRGBToLinear();\n            }\n        // Else, just overwrite the value\n        } else {\n            var _currentInstance$key;\n            currentInstance[key] = value;\n            // Auto-convert sRGB textures, for now ...\n            // https://github.com/pmndrs/react-three-fiber/issues/344\n            if ((_currentInstance$key = currentInstance[key]) != null && _currentInstance$key.isTexture && // sRGB textures must be RGBA8 since r137 https://github.com/mrdoob/three.js/pull/23129\n            currentInstance[key].format === three__WEBPACK_IMPORTED_MODULE_5__.RGBAFormat && currentInstance[key].type === three__WEBPACK_IMPORTED_MODULE_5__.UnsignedByteType && rootState) {\n                const texture = currentInstance[key];\n                if (hasColorSpace(texture) && hasColorSpace(rootState.gl)) texture.colorSpace = rootState.gl.outputColorSpace;\n                else texture.encoding = rootState.gl.outputEncoding;\n            }\n        }\n        invalidateInstance(instance);\n    }\n    if (localState && localState.parent && instance.raycast && prevHandlers !== localState.eventCount) {\n        // Get the initial root state's internals\n        const internal = findInitialRoot(instance).getState().internal;\n        // Pre-emptively remove the instance from the interaction manager\n        const index = internal.interaction.indexOf(instance);\n        if (index > -1) internal.interaction.splice(index, 1);\n        // Add the instance to the interaction manager only when it has handlers\n        if (localState.eventCount) internal.interaction.push(instance);\n    }\n    // Call the update lifecycle when it is being updated, but only when it is part of the scene.\n    // Skip updates to the `onUpdate` prop itself\n    const isCircular = changes.length === 1 && changes[0][0] === \"onUpdate\";\n    if (!isCircular && changes.length && (_instance$__r3f2 = instance.__r3f) != null && _instance$__r3f2.parent) updateInstance(instance);\n    return instance;\n}\nfunction invalidateInstance(instance) {\n    var _instance$__r3f3, _instance$__r3f3$root;\n    const state = (_instance$__r3f3 = instance.__r3f) == null ? void 0 : (_instance$__r3f3$root = _instance$__r3f3.root) == null ? void 0 : _instance$__r3f3$root.getState == null ? void 0 : _instance$__r3f3$root.getState();\n    if (state && state.internal.frames === 0) state.invalidate();\n}\nfunction updateInstance(instance) {\n    instance.onUpdate == null ? void 0 : instance.onUpdate(instance);\n}\nfunction updateCamera(camera, size) {\n    // https://github.com/pmndrs/react-three-fiber/issues/92\n    // Do not mess with the camera if it belongs to the user\n    if (!camera.manual) {\n        if (isOrthographicCamera(camera)) {\n            camera.left = size.width / -2;\n            camera.right = size.width / 2;\n            camera.top = size.height / 2;\n            camera.bottom = size.height / -2;\n        } else {\n            camera.aspect = size.width / size.height;\n        }\n        camera.updateProjectionMatrix();\n        // https://github.com/pmndrs/react-three-fiber/issues/178\n        // Update matrix world since the renderer is a frame late\n        camera.updateMatrixWorld();\n    }\n}\nfunction makeId(event) {\n    return (event.eventObject || event.object).uuid + \"/\" + event.index + event.instanceId;\n}\n// https://github.com/facebook/react/tree/main/packages/react-reconciler#getcurrenteventpriority\n// Gives React a clue as to how import the current interaction is\nfunction getEventPriority() {\n    var _globalScope$event;\n    // Get a handle to the current global scope in window and worker contexts if able\n    // https://github.com/pmndrs/react-three-fiber/pull/2493\n    const globalScope = typeof self !== \"undefined\" && self ||  false && 0;\n    if (!globalScope) return react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.DefaultEventPriority;\n    const name = (_globalScope$event = globalScope.event) == null ? void 0 : _globalScope$event.type;\n    switch(name){\n        case \"click\":\n        case \"contextmenu\":\n        case \"dblclick\":\n        case \"pointercancel\":\n        case \"pointerdown\":\n        case \"pointerup\":\n            return react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.DiscreteEventPriority;\n        case \"pointermove\":\n        case \"pointerout\":\n        case \"pointerover\":\n        case \"pointerenter\":\n        case \"pointerleave\":\n        case \"wheel\":\n            return react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.ContinuousEventPriority;\n        default:\n            return react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.DefaultEventPriority;\n    }\n}\n/**\r\n * Release pointer captures.\r\n * This is called by releasePointerCapture in the API, and when an object is removed.\r\n */ function releaseInternalPointerCapture(capturedMap, obj, captures, pointerId) {\n    const captureData = captures.get(obj);\n    if (captureData) {\n        captures.delete(obj);\n        // If this was the last capturing object for this pointer\n        if (captures.size === 0) {\n            capturedMap.delete(pointerId);\n            captureData.target.releasePointerCapture(pointerId);\n        }\n    }\n}\nfunction removeInteractivity(store, object) {\n    const { internal } = store.getState();\n    // Removes every trace of an object from the data store\n    internal.interaction = internal.interaction.filter((o)=>o !== object);\n    internal.initialHits = internal.initialHits.filter((o)=>o !== object);\n    internal.hovered.forEach((value, key)=>{\n        if (value.eventObject === object || value.object === object) {\n            // Clear out intersects, they are outdated by now\n            internal.hovered.delete(key);\n        }\n    });\n    internal.capturedMap.forEach((captures, pointerId)=>{\n        releaseInternalPointerCapture(internal.capturedMap, object, captures, pointerId);\n    });\n}\nfunction createEvents(store) {\n    /** Calculates delta */ function calculateDistance(event) {\n        const { internal } = store.getState();\n        const dx = event.offsetX - internal.initialClick[0];\n        const dy = event.offsetY - internal.initialClick[1];\n        return Math.round(Math.sqrt(dx * dx + dy * dy));\n    }\n    /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */ function filterPointerEvents(objects) {\n        return objects.filter((obj)=>[\n                \"Move\",\n                \"Over\",\n                \"Enter\",\n                \"Out\",\n                \"Leave\"\n            ].some((name)=>{\n                var _r3f;\n                return (_r3f = obj.__r3f) == null ? void 0 : _r3f.handlers[\"onPointer\" + name];\n            }));\n    }\n    function intersect(event, filter) {\n        const state = store.getState();\n        const duplicates = new Set();\n        const intersections = [];\n        // Allow callers to eliminate event objects\n        const eventsObjects = filter ? filter(state.internal.interaction) : state.internal.interaction;\n        // Reset all raycaster cameras to undefined\n        for(let i = 0; i < eventsObjects.length; i++){\n            const state = getRootState(eventsObjects[i]);\n            if (state) {\n                state.raycaster.camera = undefined;\n            }\n        }\n        if (!state.previousRoot) {\n            // Make sure root-level pointer and ray are set up\n            state.events.compute == null ? void 0 : state.events.compute(event, state);\n        }\n        function handleRaycast(obj) {\n            const state = getRootState(obj);\n            // Skip event handling when noEvents is set, or when the raycasters camera is null\n            if (!state || !state.events.enabled || state.raycaster.camera === null) return [];\n            // When the camera is undefined we have to call the event layers update function\n            if (state.raycaster.camera === undefined) {\n                var _state$previousRoot;\n                state.events.compute == null ? void 0 : state.events.compute(event, state, (_state$previousRoot = state.previousRoot) == null ? void 0 : _state$previousRoot.getState());\n                // If the camera is still undefined we have to skip this layer entirely\n                if (state.raycaster.camera === undefined) state.raycaster.camera = null;\n            }\n            // Intersect object by object\n            return state.raycaster.camera ? state.raycaster.intersectObject(obj, true) : [];\n        }\n        // Collect events\n        let hits = eventsObjects// Intersect objects\n        .flatMap(handleRaycast)// Sort by event priority and distance\n        .sort((a, b)=>{\n            const aState = getRootState(a.object);\n            const bState = getRootState(b.object);\n            if (!aState || !bState) return a.distance - b.distance;\n            return bState.events.priority - aState.events.priority || a.distance - b.distance;\n        })// Filter out duplicates\n        .filter((item)=>{\n            const id = makeId(item);\n            if (duplicates.has(id)) return false;\n            duplicates.add(id);\n            return true;\n        });\n        // https://github.com/mrdoob/three.js/issues/16031\n        // Allow custom userland intersect sort order, this likely only makes sense on the root filter\n        if (state.events.filter) hits = state.events.filter(hits, state);\n        // Bubble up the events, find the event source (eventObject)\n        for (const hit of hits){\n            let eventObject = hit.object;\n            // Bubble event up\n            while(eventObject){\n                var _r3f2;\n                if ((_r3f2 = eventObject.__r3f) != null && _r3f2.eventCount) intersections.push({\n                    ...hit,\n                    eventObject\n                });\n                eventObject = eventObject.parent;\n            }\n        }\n        // If the interaction is captured, make all capturing targets part of the intersect.\n        if (\"pointerId\" in event && state.internal.capturedMap.has(event.pointerId)) {\n            for (let captureData of state.internal.capturedMap.get(event.pointerId).values()){\n                if (!duplicates.has(makeId(captureData.intersection))) intersections.push(captureData.intersection);\n            }\n        }\n        return intersections;\n    }\n    /**  Handles intersections by forwarding them to handlers */ function handleIntersects(intersections, event, delta, callback) {\n        const rootState = store.getState();\n        // If anything has been found, forward it to the event listeners\n        if (intersections.length) {\n            const localState = {\n                stopped: false\n            };\n            for (const hit of intersections){\n                const state = getRootState(hit.object) || rootState;\n                const { raycaster, pointer, camera, internal } = state;\n                const unprojectedPoint = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3(pointer.x, pointer.y, 0).unproject(camera);\n                const hasPointerCapture = (id)=>{\n                    var _internal$capturedMap, _internal$capturedMap2;\n                    return (_internal$capturedMap = (_internal$capturedMap2 = internal.capturedMap.get(id)) == null ? void 0 : _internal$capturedMap2.has(hit.eventObject)) != null ? _internal$capturedMap : false;\n                };\n                const setPointerCapture = (id)=>{\n                    const captureData = {\n                        intersection: hit,\n                        target: event.target\n                    };\n                    if (internal.capturedMap.has(id)) {\n                        // if the pointerId was previously captured, we add the hit to the\n                        // event capturedMap.\n                        internal.capturedMap.get(id).set(hit.eventObject, captureData);\n                    } else {\n                        // if the pointerId was not previously captured, we create a map\n                        // containing the hitObject, and the hit. hitObject is used for\n                        // faster access.\n                        internal.capturedMap.set(id, new Map([\n                            [\n                                hit.eventObject,\n                                captureData\n                            ]\n                        ]));\n                    }\n                    event.target.setPointerCapture(id);\n                };\n                const releasePointerCapture = (id)=>{\n                    const captures = internal.capturedMap.get(id);\n                    if (captures) {\n                        releaseInternalPointerCapture(internal.capturedMap, hit.eventObject, captures, id);\n                    }\n                };\n                // Add native event props\n                let extractEventProps = {};\n                // This iterates over the event's properties including the inherited ones. Native PointerEvents have most of their props as getters which are inherited, but polyfilled PointerEvents have them all as their own properties (i.e. not inherited). We can't use Object.keys() or Object.entries() as they only return \"own\" properties; nor Object.getPrototypeOf(event) as that *doesn't* return \"own\" properties, only inherited ones.\n                for(let prop in event){\n                    let property = event[prop];\n                    // Only copy over atomics, leave functions alone as these should be\n                    // called as event.nativeEvent.fn()\n                    if (typeof property !== \"function\") extractEventProps[prop] = property;\n                }\n                let raycastEvent = {\n                    ...hit,\n                    ...extractEventProps,\n                    pointer,\n                    intersections,\n                    stopped: localState.stopped,\n                    delta,\n                    unprojectedPoint,\n                    ray: raycaster.ray,\n                    camera: camera,\n                    // Hijack stopPropagation, which just sets a flag\n                    stopPropagation () {\n                        // https://github.com/pmndrs/react-three-fiber/issues/596\n                        // Events are not allowed to stop propagation if the pointer has been captured\n                        const capturesForPointer = \"pointerId\" in event && internal.capturedMap.get(event.pointerId);\n                        // We only authorize stopPropagation...\n                        if (// ...if this pointer hasn't been captured\n                        !capturesForPointer || // ... or if the hit object is capturing the pointer\n                        capturesForPointer.has(hit.eventObject)) {\n                            raycastEvent.stopped = localState.stopped = true;\n                            // Propagation is stopped, remove all other hover records\n                            // An event handler is only allowed to flush other handlers if it is hovered itself\n                            if (internal.hovered.size && Array.from(internal.hovered.values()).find((i)=>i.eventObject === hit.eventObject)) {\n                                // Objects cannot flush out higher up objects that have already caught the event\n                                const higher = intersections.slice(0, intersections.indexOf(hit));\n                                cancelPointer([\n                                    ...higher,\n                                    hit\n                                ]);\n                            }\n                        }\n                    },\n                    // there should be a distinction between target and currentTarget\n                    target: {\n                        hasPointerCapture,\n                        setPointerCapture,\n                        releasePointerCapture\n                    },\n                    currentTarget: {\n                        hasPointerCapture,\n                        setPointerCapture,\n                        releasePointerCapture\n                    },\n                    nativeEvent: event\n                };\n                // Call subscribers\n                callback(raycastEvent);\n                // Event bubbling may be interrupted by stopPropagation\n                if (localState.stopped === true) break;\n            }\n        }\n        return intersections;\n    }\n    function cancelPointer(intersections) {\n        const { internal } = store.getState();\n        for (const hoveredObj of internal.hovered.values()){\n            // When no objects were hit or the the hovered object wasn't found underneath the cursor\n            // we call onPointerOut and delete the object from the hovered-elements map\n            if (!intersections.length || !intersections.find((hit)=>hit.object === hoveredObj.object && hit.index === hoveredObj.index && hit.instanceId === hoveredObj.instanceId)) {\n                const eventObject = hoveredObj.eventObject;\n                const instance = eventObject.__r3f;\n                const handlers = instance == null ? void 0 : instance.handlers;\n                internal.hovered.delete(makeId(hoveredObj));\n                if (instance != null && instance.eventCount) {\n                    // Clear out intersects, they are outdated by now\n                    const data = {\n                        ...hoveredObj,\n                        intersections\n                    };\n                    handlers.onPointerOut == null ? void 0 : handlers.onPointerOut(data);\n                    handlers.onPointerLeave == null ? void 0 : handlers.onPointerLeave(data);\n                }\n            }\n        }\n    }\n    function pointerMissed(event, objects) {\n        for(let i = 0; i < objects.length; i++){\n            const instance = objects[i].__r3f;\n            instance == null ? void 0 : instance.handlers.onPointerMissed == null ? void 0 : instance.handlers.onPointerMissed(event);\n        }\n    }\n    function handlePointer(name) {\n        // Deal with cancelation\n        switch(name){\n            case \"onPointerLeave\":\n            case \"onPointerCancel\":\n                return ()=>cancelPointer([]);\n            case \"onLostPointerCapture\":\n                return (event)=>{\n                    const { internal } = store.getState();\n                    if (\"pointerId\" in event && internal.capturedMap.has(event.pointerId)) {\n                        // If the object event interface had onLostPointerCapture, we'd call it here on every\n                        // object that's getting removed. We call it on the next frame because onLostPointerCapture\n                        // fires before onPointerUp. Otherwise pointerUp would never be called if the event didn't\n                        // happen in the object it originated from, leaving components in a in-between state.\n                        requestAnimationFrame(()=>{\n                            // Only release if pointer-up didn't do it already\n                            if (internal.capturedMap.has(event.pointerId)) {\n                                internal.capturedMap.delete(event.pointerId);\n                                cancelPointer([]);\n                            }\n                        });\n                    }\n                };\n        }\n        // Any other pointer goes here ...\n        return function handleEvent(event) {\n            const { onPointerMissed, internal } = store.getState();\n            // prepareRay(event)\n            internal.lastEvent.current = event;\n            // Get fresh intersects\n            const isPointerMove = name === \"onPointerMove\";\n            const isClickEvent = name === \"onClick\" || name === \"onContextMenu\" || name === \"onDoubleClick\";\n            const filter = isPointerMove ? filterPointerEvents : undefined;\n            const hits = intersect(event, filter);\n            const delta = isClickEvent ? calculateDistance(event) : 0;\n            // Save initial coordinates on pointer-down\n            if (name === \"onPointerDown\") {\n                internal.initialClick = [\n                    event.offsetX,\n                    event.offsetY\n                ];\n                internal.initialHits = hits.map((hit)=>hit.eventObject);\n            }\n            // If a click yields no results, pass it back to the user as a miss\n            // Missed events have to come first in order to establish user-land side-effect clean up\n            if (isClickEvent && !hits.length) {\n                if (delta <= 2) {\n                    pointerMissed(event, internal.interaction);\n                    if (onPointerMissed) onPointerMissed(event);\n                }\n            }\n            // Take care of unhover\n            if (isPointerMove) cancelPointer(hits);\n            function onIntersect(data) {\n                const eventObject = data.eventObject;\n                const instance = eventObject.__r3f;\n                const handlers = instance == null ? void 0 : instance.handlers;\n                // Check presence of handlers\n                if (!(instance != null && instance.eventCount)) return;\n                /*\r\n        MAYBE TODO, DELETE IF NOT: \r\n          Check if the object is captured, captured events should not have intersects running in parallel\r\n          But wouldn't it be better to just replace capturedMap with a single entry?\r\n          Also, are we OK with straight up making picking up multiple objects impossible?\r\n          \r\n        const pointerId = (data as ThreeEvent<PointerEvent>).pointerId        \r\n        if (pointerId !== undefined) {\r\n          const capturedMeshSet = internal.capturedMap.get(pointerId)\r\n          if (capturedMeshSet) {\r\n            const captured = capturedMeshSet.get(eventObject)\r\n            if (captured && captured.localState.stopped) return\r\n          }\r\n        }*/ if (isPointerMove) {\n                    // Move event ...\n                    if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\n                        // When enter or out is present take care of hover-state\n                        const id = makeId(data);\n                        const hoveredItem = internal.hovered.get(id);\n                        if (!hoveredItem) {\n                            // If the object wasn't previously hovered, book it and call its handler\n                            internal.hovered.set(id, data);\n                            handlers.onPointerOver == null ? void 0 : handlers.onPointerOver(data);\n                            handlers.onPointerEnter == null ? void 0 : handlers.onPointerEnter(data);\n                        } else if (hoveredItem.stopped) {\n                            // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\n                            data.stopPropagation();\n                        }\n                    }\n                    // Call mouse move\n                    handlers.onPointerMove == null ? void 0 : handlers.onPointerMove(data);\n                } else {\n                    // All other events ...\n                    const handler = handlers[name];\n                    if (handler) {\n                        // Forward all events back to their respective handlers with the exception of click events,\n                        // which must use the initial target\n                        if (!isClickEvent || internal.initialHits.includes(eventObject)) {\n                            // Missed events have to come first\n                            pointerMissed(event, internal.interaction.filter((object)=>!internal.initialHits.includes(object)));\n                            // Now call the handler\n                            handler(data);\n                        }\n                    } else {\n                        // Trigger onPointerMissed on all elements that have pointer over/out handlers, but not click and weren't hit\n                        if (isClickEvent && internal.initialHits.includes(eventObject)) {\n                            pointerMissed(event, internal.interaction.filter((object)=>!internal.initialHits.includes(object)));\n                        }\n                    }\n                }\n            }\n            handleIntersects(hits, event, delta, onIntersect);\n        };\n    }\n    return {\n        handlePointer\n    };\n}\n// Keys that shouldn't be copied between R3F stores\nconst privateKeys = [\n    \"set\",\n    \"get\",\n    \"setSize\",\n    \"setFrameloop\",\n    \"setDpr\",\n    \"events\",\n    \"invalidate\",\n    \"advance\",\n    \"size\",\n    \"viewport\"\n];\nconst isRenderer = (def)=>!!(def != null && def.render);\nconst context = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst createStore = (invalidate, advance)=>{\n    const rootState = (0,zustand__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((set, get)=>{\n        const position = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        const defaultTarget = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        const tempTarget = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        function getCurrentViewport(camera = get().camera, target = defaultTarget, size = get().size) {\n            const { width, height, top, left } = size;\n            const aspect = width / height;\n            if (target.isVector3) tempTarget.copy(target);\n            else tempTarget.set(...target);\n            const distance = camera.getWorldPosition(position).distanceTo(tempTarget);\n            if (isOrthographicCamera(camera)) {\n                return {\n                    width: width / camera.zoom,\n                    height: height / camera.zoom,\n                    top,\n                    left,\n                    factor: 1,\n                    distance,\n                    aspect\n                };\n            } else {\n                const fov = camera.fov * Math.PI / 180; // convert vertical fov to radians\n                const h = 2 * Math.tan(fov / 2) * distance; // visible height\n                const w = h * (width / height);\n                return {\n                    width: w,\n                    height: h,\n                    top,\n                    left,\n                    factor: width / w,\n                    distance,\n                    aspect\n                };\n            }\n        }\n        let performanceTimeout = undefined;\n        const setPerformanceCurrent = (current)=>set((state)=>({\n                    performance: {\n                        ...state.performance,\n                        current\n                    }\n                }));\n        const pointer = new three__WEBPACK_IMPORTED_MODULE_5__.Vector2();\n        const rootState = {\n            set,\n            get,\n            // Mock objects that have to be configured\n            gl: null,\n            camera: null,\n            raycaster: null,\n            events: {\n                priority: 1,\n                enabled: true,\n                connected: false\n            },\n            xr: null,\n            scene: null,\n            invalidate: (frames = 1)=>invalidate(get(), frames),\n            advance: (timestamp, runGlobalEffects)=>advance(timestamp, runGlobalEffects, get()),\n            legacy: false,\n            linear: false,\n            flat: false,\n            controls: null,\n            clock: new three__WEBPACK_IMPORTED_MODULE_5__.Clock(),\n            pointer,\n            mouse: pointer,\n            frameloop: \"always\",\n            onPointerMissed: undefined,\n            performance: {\n                current: 1,\n                min: 0.5,\n                max: 1,\n                debounce: 200,\n                regress: ()=>{\n                    const state = get();\n                    // Clear timeout\n                    if (performanceTimeout) clearTimeout(performanceTimeout);\n                    // Set lower bound performance\n                    if (state.performance.current !== state.performance.min) setPerformanceCurrent(state.performance.min);\n                    // Go back to upper bound performance after a while unless something regresses meanwhile\n                    performanceTimeout = setTimeout(()=>setPerformanceCurrent(get().performance.max), state.performance.debounce);\n                }\n            },\n            size: {\n                width: 0,\n                height: 0,\n                top: 0,\n                left: 0,\n                updateStyle: false\n            },\n            viewport: {\n                initialDpr: 0,\n                dpr: 0,\n                width: 0,\n                height: 0,\n                top: 0,\n                left: 0,\n                aspect: 0,\n                distance: 0,\n                factor: 0,\n                getCurrentViewport\n            },\n            setEvents: (events)=>set((state)=>({\n                        ...state,\n                        events: {\n                            ...state.events,\n                            ...events\n                        }\n                    })),\n            setSize: (width, height, updateStyle, top, left)=>{\n                const camera = get().camera;\n                const size = {\n                    width,\n                    height,\n                    top: top || 0,\n                    left: left || 0,\n                    updateStyle\n                };\n                set((state)=>({\n                        size,\n                        viewport: {\n                            ...state.viewport,\n                            ...getCurrentViewport(camera, defaultTarget, size)\n                        }\n                    }));\n            },\n            setDpr: (dpr)=>set((state)=>{\n                    const resolved = calculateDpr(dpr);\n                    return {\n                        viewport: {\n                            ...state.viewport,\n                            dpr: resolved,\n                            initialDpr: state.viewport.initialDpr || resolved\n                        }\n                    };\n                }),\n            setFrameloop: (frameloop = \"always\")=>{\n                const clock = get().clock;\n                // if frameloop === \"never\" clock.elapsedTime is updated using advance(timestamp)\n                clock.stop();\n                clock.elapsedTime = 0;\n                if (frameloop !== \"never\") {\n                    clock.start();\n                    clock.elapsedTime = 0;\n                }\n                set(()=>({\n                        frameloop\n                    }));\n            },\n            previousRoot: undefined,\n            internal: {\n                active: false,\n                priority: 0,\n                frames: 0,\n                lastEvent: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createRef(),\n                interaction: [],\n                hovered: new Map(),\n                subscribers: [],\n                initialClick: [\n                    0,\n                    0\n                ],\n                initialHits: [],\n                capturedMap: new Map(),\n                subscribe: (ref, priority, store)=>{\n                    const internal = get().internal;\n                    // If this subscription was given a priority, it takes rendering into its own hands\n                    // For that reason we switch off automatic rendering and increase the manual flag\n                    // As long as this flag is positive there can be no internal rendering at all\n                    // because there could be multiple render subscriptions\n                    internal.priority = internal.priority + (priority > 0 ? 1 : 0);\n                    internal.subscribers.push({\n                        ref,\n                        priority,\n                        store\n                    });\n                    // Register subscriber and sort layers from lowest to highest, meaning,\n                    // highest priority renders last (on top of the other frames)\n                    internal.subscribers = internal.subscribers.sort((a, b)=>a.priority - b.priority);\n                    return ()=>{\n                        const internal = get().internal;\n                        if (internal != null && internal.subscribers) {\n                            // Decrease manual flag if this subscription had a priority\n                            internal.priority = internal.priority - (priority > 0 ? 1 : 0);\n                            // Remove subscriber from list\n                            internal.subscribers = internal.subscribers.filter((s)=>s.ref !== ref);\n                        }\n                    };\n                }\n            }\n        };\n        return rootState;\n    });\n    const state = rootState.getState();\n    let oldSize = state.size;\n    let oldDpr = state.viewport.dpr;\n    let oldCamera = state.camera;\n    rootState.subscribe(()=>{\n        const { camera, size, viewport, gl, set } = rootState.getState();\n        // Resize camera and renderer on changes to size and pixelratio\n        if (size.width !== oldSize.width || size.height !== oldSize.height || viewport.dpr !== oldDpr) {\n            var _size$updateStyle;\n            oldSize = size;\n            oldDpr = viewport.dpr;\n            // Update camera & renderer\n            updateCamera(camera, size);\n            gl.setPixelRatio(viewport.dpr);\n            const updateStyle = (_size$updateStyle = size.updateStyle) != null ? _size$updateStyle : typeof HTMLCanvasElement !== \"undefined\" && gl.domElement instanceof HTMLCanvasElement;\n            gl.setSize(size.width, size.height, updateStyle);\n        }\n        // Update viewport once the camera changes\n        if (camera !== oldCamera) {\n            oldCamera = camera;\n            // Update viewport\n            set((state)=>({\n                    viewport: {\n                        ...state.viewport,\n                        ...state.viewport.getCurrentViewport(camera)\n                    }\n                }));\n        }\n    });\n    // Invalidate on any change\n    rootState.subscribe((state)=>invalidate(state));\n    // Return root state\n    return rootState;\n};\nfunction createSubs(callback, subs) {\n    const sub = {\n        callback\n    };\n    subs.add(sub);\n    return ()=>void subs.delete(sub);\n}\nlet i;\nlet globalEffects = new Set();\nlet globalAfterEffects = new Set();\nlet globalTailEffects = new Set();\n/**\r\n * Adds a global render callback which is called each frame.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addEffect\r\n */ const addEffect = (callback)=>createSubs(callback, globalEffects);\n/**\r\n * Adds a global after-render callback which is called each frame.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addAfterEffect\r\n */ const addAfterEffect = (callback)=>createSubs(callback, globalAfterEffects);\n/**\r\n * Adds a global callback which is called when rendering stops.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addTail\r\n */ const addTail = (callback)=>createSubs(callback, globalTailEffects);\nfunction run(effects, timestamp) {\n    if (!effects.size) return;\n    for (const { callback } of effects.values()){\n        callback(timestamp);\n    }\n}\nfunction flushGlobalEffects(type, timestamp) {\n    switch(type){\n        case \"before\":\n            return run(globalEffects, timestamp);\n        case \"after\":\n            return run(globalAfterEffects, timestamp);\n        case \"tail\":\n            return run(globalTailEffects, timestamp);\n    }\n}\nlet subscribers;\nlet subscription;\nfunction render$1(timestamp, state, frame) {\n    // Run local effects\n    let delta = state.clock.getDelta();\n    // In frameloop='never' mode, clock times are updated using the provided timestamp\n    if (state.frameloop === \"never\" && typeof timestamp === \"number\") {\n        delta = timestamp - state.clock.elapsedTime;\n        state.clock.oldTime = state.clock.elapsedTime;\n        state.clock.elapsedTime = timestamp;\n    }\n    // Call subscribers (useFrame)\n    subscribers = state.internal.subscribers;\n    for(i = 0; i < subscribers.length; i++){\n        subscription = subscribers[i];\n        subscription.ref.current(subscription.store.getState(), delta, frame);\n    }\n    // Render content\n    if (!state.internal.priority && state.gl.render) state.gl.render(state.scene, state.camera);\n    // Decrease frame count\n    state.internal.frames = Math.max(0, state.internal.frames - 1);\n    return state.frameloop === \"always\" ? 1 : state.internal.frames;\n}\nfunction createLoop(roots) {\n    let running = false;\n    let useFrameInProgress = false;\n    let repeat;\n    let frame;\n    let state;\n    function loop(timestamp) {\n        frame = requestAnimationFrame(loop);\n        running = true;\n        repeat = 0;\n        // Run effects\n        flushGlobalEffects(\"before\", timestamp);\n        // Render all roots\n        useFrameInProgress = true;\n        for (const root of roots.values()){\n            var _state$gl$xr;\n            state = root.store.getState();\n            // If the frameloop is invalidated, do not run another frame\n            if (state.internal.active && (state.frameloop === \"always\" || state.internal.frames > 0) && !((_state$gl$xr = state.gl.xr) != null && _state$gl$xr.isPresenting)) {\n                repeat += render$1(timestamp, state);\n            }\n        }\n        useFrameInProgress = false;\n        // Run after-effects\n        flushGlobalEffects(\"after\", timestamp);\n        // Stop the loop if nothing invalidates it\n        if (repeat === 0) {\n            // Tail call effects, they are called when rendering stops\n            flushGlobalEffects(\"tail\", timestamp);\n            // Flag end of operation\n            running = false;\n            return cancelAnimationFrame(frame);\n        }\n    }\n    function invalidate(state, frames = 1) {\n        var _state$gl$xr2;\n        if (!state) return roots.forEach((root)=>invalidate(root.store.getState(), frames));\n        if ((_state$gl$xr2 = state.gl.xr) != null && _state$gl$xr2.isPresenting || !state.internal.active || state.frameloop === \"never\") return;\n        if (frames > 1) {\n            // legacy support for people using frames parameters\n            // Increase frames, do not go higher than 60\n            state.internal.frames = Math.min(60, state.internal.frames + frames);\n        } else {\n            if (useFrameInProgress) {\n                //called from within a useFrame, it means the user wants an additional frame\n                state.internal.frames = 2;\n            } else {\n                //the user need a new frame, no need to increment further than 1\n                state.internal.frames = 1;\n            }\n        }\n        // If the render-loop isn't active, start it\n        if (!running) {\n            running = true;\n            requestAnimationFrame(loop);\n        }\n    }\n    function advance(timestamp, runGlobalEffects = true, state, frame) {\n        if (runGlobalEffects) flushGlobalEffects(\"before\", timestamp);\n        if (!state) for (const root of roots.values())render$1(timestamp, root.store.getState());\n        else render$1(timestamp, state, frame);\n        if (runGlobalEffects) flushGlobalEffects(\"after\", timestamp);\n    }\n    return {\n        loop,\n        invalidate,\n        advance\n    };\n}\n/**\r\n * Exposes an object's {@link LocalState}.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#useInstanceHandle\r\n *\r\n * **Note**: this is an escape hatch to react-internal fields. Expect this to change significantly between versions.\r\n */ function useInstanceHandle(ref) {\n    const instance = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    useIsomorphicLayoutEffect(()=>void (instance.current = ref.current.__r3f), [\n        ref\n    ]);\n    return instance;\n}\nfunction useStore() {\n    const store = react__WEBPACK_IMPORTED_MODULE_0__.useContext(context);\n    if (!store) throw new Error(\"R3F: Hooks can only be used within the Canvas component!\");\n    return store;\n}\n/**\r\n * Accesses R3F's internal state, containing renderer, canvas, scene, etc.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usethree\r\n */ function useThree(selector = (state)=>state, equalityFn) {\n    return useStore()(selector, equalityFn);\n}\n/**\r\n * Executes a callback before render in a shared frame loop.\r\n * Can order effects with render priority or manually render with a positive priority.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useframe\r\n */ function useFrame(callback, renderPriority = 0) {\n    const store = useStore();\n    const subscribe = store.getState().internal.subscribe;\n    // Memoize ref\n    const ref = useMutableCallback(callback);\n    // Subscribe on mount, unsubscribe on unmount\n    useIsomorphicLayoutEffect(()=>subscribe(ref, renderPriority, store), [\n        renderPriority,\n        subscribe,\n        store\n    ]);\n    return null;\n}\n/**\r\n * Returns a node graph of an object with named nodes & materials.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usegraph\r\n */ function useGraph(object) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>buildGraph(object), [\n        object\n    ]);\n}\nconst memoizedLoaders = new WeakMap();\nfunction loadingFn(extensions, onProgress) {\n    return function(Proto, ...input) {\n        // Construct new loader and run extensions\n        let loader = memoizedLoaders.get(Proto);\n        if (!loader) {\n            loader = new Proto();\n            memoizedLoaders.set(Proto, loader);\n        }\n        if (extensions) extensions(loader);\n        // Go through the urls and load them\n        return Promise.all(input.map((input)=>new Promise((res, reject)=>loader.load(input, (data)=>{\n                    if (data.scene) Object.assign(data, buildGraph(data.scene));\n                    res(data);\n                }, onProgress, (error)=>reject(new Error(`Could not load ${input}: ${error == null ? void 0 : error.message}`))))));\n    };\n}\n/**\r\n * Synchronously loads and caches assets with a three loader.\r\n *\r\n * Note: this hook's caller must be wrapped with `React.Suspense`\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useloader\r\n */ function useLoader(Proto, input, extensions, onProgress) {\n    // Use suspense to load async assets\n    const keys = Array.isArray(input) ? input : [\n        input\n    ];\n    const results = (0,suspend_react__WEBPACK_IMPORTED_MODULE_7__.suspend)(loadingFn(extensions, onProgress), [\n        Proto,\n        ...keys\n    ], {\n        equal: is.equ\n    });\n    // Return the object/s\n    return Array.isArray(input) ? results : results[0];\n}\n/**\r\n * Preloads an asset into cache as a side-effect.\r\n */ useLoader.preload = function(Proto, input, extensions) {\n    const keys = Array.isArray(input) ? input : [\n        input\n    ];\n    return (0,suspend_react__WEBPACK_IMPORTED_MODULE_7__.preload)(loadingFn(extensions), [\n        Proto,\n        ...keys\n    ]);\n};\n/**\r\n * Removes a loaded asset from cache.\r\n */ useLoader.clear = function(Proto, input) {\n    const keys = Array.isArray(input) ? input : [\n        input\n    ];\n    return (0,suspend_react__WEBPACK_IMPORTED_MODULE_7__.clear)([\n        Proto,\n        ...keys\n    ]);\n};\nconst roots = new Map();\nconst { invalidate, advance } = createLoop(roots);\nconst { reconciler, applyProps } = createRenderer(roots, getEventPriority);\nconst shallowLoose = {\n    objects: \"shallow\",\n    strict: false\n};\nconst createRendererInstance = (gl, canvas)=>{\n    const customRenderer = typeof gl === \"function\" ? gl(canvas) : gl;\n    if (isRenderer(customRenderer)) return customRenderer;\n    else return new three__WEBPACK_IMPORTED_MODULE_5__.WebGLRenderer({\n        powerPreference: \"high-performance\",\n        canvas: canvas,\n        antialias: true,\n        alpha: true,\n        ...gl\n    });\n};\nfunction computeInitialSize(canvas, defaultSize) {\n    const defaultStyle = typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement;\n    if (defaultSize) {\n        const { width, height, top, left, updateStyle = defaultStyle } = defaultSize;\n        return {\n            width,\n            height,\n            top,\n            left,\n            updateStyle\n        };\n    } else if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement && canvas.parentElement) {\n        const { width, height, top, left } = canvas.parentElement.getBoundingClientRect();\n        return {\n            width,\n            height,\n            top,\n            left,\n            updateStyle: defaultStyle\n        };\n    } else if (typeof OffscreenCanvas !== \"undefined\" && canvas instanceof OffscreenCanvas) {\n        return {\n            width: canvas.width,\n            height: canvas.height,\n            top: 0,\n            left: 0,\n            updateStyle: defaultStyle\n        };\n    }\n    return {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0\n    };\n}\nfunction createRoot(canvas) {\n    // Check against mistaken use of createRoot\n    const prevRoot = roots.get(canvas);\n    const prevFiber = prevRoot == null ? void 0 : prevRoot.fiber;\n    const prevStore = prevRoot == null ? void 0 : prevRoot.store;\n    if (prevRoot) console.warn(\"R3F.createRoot should only be called once!\");\n    // Report when an error was detected in a previous render\n    // https://github.com/pmndrs/react-three-fiber/pull/2261\n    const logRecoverableError = typeof reportError === \"function\" ? // In modern browsers, reportError will dispatch an error event,\n    // emulating an uncaught JavaScript error.\n    reportError : // In older browsers and test environments, fallback to console.error.\n    console.error;\n    // Create store\n    const store = prevStore || createStore(invalidate, advance);\n    // Create renderer\n    const fiber = prevFiber || reconciler.createContainer(store, react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.ConcurrentRoot, null, false, null, \"\", logRecoverableError, null);\n    // Map it\n    if (!prevRoot) roots.set(canvas, {\n        fiber,\n        store\n    });\n    // Locals\n    let onCreated;\n    let configured = false;\n    let lastCamera;\n    return {\n        configure (props = {}) {\n            let { gl: glConfig, size: propsSize, scene: sceneOptions, events, onCreated: onCreatedCallback, shadows = false, linear = false, flat = false, legacy = false, orthographic = false, frameloop = \"always\", dpr = [\n                1,\n                2\n            ], performance: performance1, raycaster: raycastOptions, camera: cameraOptions, onPointerMissed } = props;\n            let state = store.getState();\n            // Set up renderer (one time only!)\n            let gl = state.gl;\n            if (!state.gl) state.set({\n                gl: gl = createRendererInstance(glConfig, canvas)\n            });\n            // Set up raycaster (one time only!)\n            let raycaster = state.raycaster;\n            if (!raycaster) state.set({\n                raycaster: raycaster = new three__WEBPACK_IMPORTED_MODULE_5__.Raycaster()\n            });\n            // Set raycaster options\n            const { params, ...options } = raycastOptions || {};\n            if (!is.equ(options, raycaster, shallowLoose)) applyProps(raycaster, {\n                ...options\n            });\n            if (!is.equ(params, raycaster.params, shallowLoose)) applyProps(raycaster, {\n                params: {\n                    ...raycaster.params,\n                    ...params\n                }\n            });\n            // Create default camera, don't overwrite any user-set state\n            if (!state.camera || state.camera === lastCamera && !is.equ(lastCamera, cameraOptions, shallowLoose)) {\n                lastCamera = cameraOptions;\n                const isCamera = cameraOptions instanceof three__WEBPACK_IMPORTED_MODULE_5__.Camera;\n                const camera = isCamera ? cameraOptions : orthographic ? new three__WEBPACK_IMPORTED_MODULE_5__.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new three__WEBPACK_IMPORTED_MODULE_5__.PerspectiveCamera(75, 0, 0.1, 1000);\n                if (!isCamera) {\n                    camera.position.z = 5;\n                    if (cameraOptions) {\n                        applyProps(camera, cameraOptions);\n                        // Preserve user-defined frustum if possible\n                        // https://github.com/pmndrs/react-three-fiber/issues/3160\n                        if (\"aspect\" in cameraOptions || \"left\" in cameraOptions || \"right\" in cameraOptions || \"bottom\" in cameraOptions || \"top\" in cameraOptions) {\n                            camera.manual = true;\n                            camera.updateProjectionMatrix();\n                        }\n                    }\n                    // Always look at center by default\n                    if (!state.camera && !(cameraOptions != null && cameraOptions.rotation)) camera.lookAt(0, 0, 0);\n                }\n                state.set({\n                    camera\n                });\n                // Configure raycaster\n                // https://github.com/pmndrs/react-xr/issues/300\n                raycaster.camera = camera;\n            }\n            // Set up scene (one time only!)\n            if (!state.scene) {\n                let scene;\n                if (sceneOptions != null && sceneOptions.isScene) {\n                    scene = sceneOptions;\n                } else {\n                    scene = new three__WEBPACK_IMPORTED_MODULE_5__.Scene();\n                    if (sceneOptions) applyProps(scene, sceneOptions);\n                }\n                state.set({\n                    scene: prepare(scene)\n                });\n            }\n            // Set up XR (one time only!)\n            if (!state.xr) {\n                var _gl$xr;\n                // Handle frame behavior in WebXR\n                const handleXRFrame = (timestamp, frame)=>{\n                    const state = store.getState();\n                    if (state.frameloop === \"never\") return;\n                    advance(timestamp, true, state, frame);\n                };\n                // Toggle render switching on session\n                const handleSessionChange = ()=>{\n                    const state = store.getState();\n                    state.gl.xr.enabled = state.gl.xr.isPresenting;\n                    state.gl.xr.setAnimationLoop(state.gl.xr.isPresenting ? handleXRFrame : null);\n                    if (!state.gl.xr.isPresenting) invalidate(state);\n                };\n                // WebXR session manager\n                const xr = {\n                    connect () {\n                        const gl = store.getState().gl;\n                        gl.xr.addEventListener(\"sessionstart\", handleSessionChange);\n                        gl.xr.addEventListener(\"sessionend\", handleSessionChange);\n                    },\n                    disconnect () {\n                        const gl = store.getState().gl;\n                        gl.xr.removeEventListener(\"sessionstart\", handleSessionChange);\n                        gl.xr.removeEventListener(\"sessionend\", handleSessionChange);\n                    }\n                };\n                // Subscribe to WebXR session events\n                if (typeof ((_gl$xr = gl.xr) == null ? void 0 : _gl$xr.addEventListener) === \"function\") xr.connect();\n                state.set({\n                    xr\n                });\n            }\n            // Set shadowmap\n            if (gl.shadowMap) {\n                const oldEnabled = gl.shadowMap.enabled;\n                const oldType = gl.shadowMap.type;\n                gl.shadowMap.enabled = !!shadows;\n                if (is.boo(shadows)) {\n                    gl.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_5__.PCFSoftShadowMap;\n                } else if (is.str(shadows)) {\n                    var _types$shadows;\n                    const types = {\n                        basic: three__WEBPACK_IMPORTED_MODULE_5__.BasicShadowMap,\n                        percentage: three__WEBPACK_IMPORTED_MODULE_5__.PCFShadowMap,\n                        soft: three__WEBPACK_IMPORTED_MODULE_5__.PCFSoftShadowMap,\n                        variance: three__WEBPACK_IMPORTED_MODULE_5__.VSMShadowMap\n                    };\n                    gl.shadowMap.type = (_types$shadows = types[shadows]) != null ? _types$shadows : three__WEBPACK_IMPORTED_MODULE_5__.PCFSoftShadowMap;\n                } else if (is.obj(shadows)) {\n                    Object.assign(gl.shadowMap, shadows);\n                }\n                if (oldEnabled !== gl.shadowMap.enabled || oldType !== gl.shadowMap.type) gl.shadowMap.needsUpdate = true;\n            }\n            // Safely set color management if available.\n            // Avoid accessing THREE.ColorManagement to play nice with older versions\n            const ColorManagement = getColorManagement();\n            if (ColorManagement) {\n                if (\"enabled\" in ColorManagement) ColorManagement.enabled = !legacy;\n                else if (\"legacyMode\" in ColorManagement) ColorManagement.legacyMode = legacy;\n            }\n            if (!configured) {\n                // Set color space and tonemapping preferences, once\n                const LinearEncoding = 3000;\n                const sRGBEncoding = 3001;\n                applyProps(gl, {\n                    outputEncoding: linear ? LinearEncoding : sRGBEncoding,\n                    toneMapping: flat ? three__WEBPACK_IMPORTED_MODULE_5__.NoToneMapping : three__WEBPACK_IMPORTED_MODULE_5__.ACESFilmicToneMapping\n                });\n            }\n            // Update color management state\n            if (state.legacy !== legacy) state.set(()=>({\n                    legacy\n                }));\n            if (state.linear !== linear) state.set(()=>({\n                    linear\n                }));\n            if (state.flat !== flat) state.set(()=>({\n                    flat\n                }));\n            // Set gl props\n            if (glConfig && !is.fun(glConfig) && !isRenderer(glConfig) && !is.equ(glConfig, gl, shallowLoose)) applyProps(gl, glConfig);\n            // Store events internally\n            if (events && !state.events.handlers) state.set({\n                events: events(store)\n            });\n            // Check size, allow it to take on container bounds initially\n            const size = computeInitialSize(canvas, propsSize);\n            if (!is.equ(size, state.size, shallowLoose)) {\n                state.setSize(size.width, size.height, size.updateStyle, size.top, size.left);\n            }\n            // Check pixelratio\n            if (dpr && state.viewport.dpr !== calculateDpr(dpr)) state.setDpr(dpr);\n            // Check frameloop\n            if (state.frameloop !== frameloop) state.setFrameloop(frameloop);\n            // Check pointer missed\n            if (!state.onPointerMissed) state.set({\n                onPointerMissed\n            });\n            // Check performance\n            if (performance1 && !is.equ(performance1, state.performance, shallowLoose)) state.set((state)=>({\n                    performance: {\n                        ...state.performance,\n                        ...performance1\n                    }\n                }));\n            // Set locals\n            onCreated = onCreatedCallback;\n            configured = true;\n            return this;\n        },\n        render (children) {\n            // The root has to be configured before it can be rendered\n            if (!configured) this.configure();\n            reconciler.updateContainer(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Provider, {\n                store: store,\n                children: children,\n                onCreated: onCreated,\n                rootElement: canvas\n            }), fiber, null, ()=>undefined);\n            return store;\n        },\n        unmount () {\n            unmountComponentAtNode(canvas);\n        }\n    };\n}\nfunction render(children, canvas, config) {\n    console.warn(\"R3F.render is no longer supported in React 18. Use createRoot instead!\");\n    const root = createRoot(canvas);\n    root.configure(config);\n    return root.render(children);\n}\nfunction Provider({ store, children, onCreated, rootElement }) {\n    useIsomorphicLayoutEffect(()=>{\n        const state = store.getState();\n        // Flag the canvas active, rendering will now begin\n        state.set((state)=>({\n                internal: {\n                    ...state.internal,\n                    active: true\n                }\n            }));\n        // Notifiy that init is completed, the scene graph exists, but nothing has yet rendered\n        if (onCreated) onCreated(state);\n        // Connect events to the targets parent, this is done to ensure events are registered on\n        // a shared target, and not on the canvas itself\n        if (!store.getState().events.connected) state.events.connect == null ? void 0 : state.events.connect(rootElement);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(context.Provider, {\n        value: store,\n        children: children\n    });\n}\nfunction unmountComponentAtNode(canvas, callback) {\n    const root = roots.get(canvas);\n    const fiber = root == null ? void 0 : root.fiber;\n    if (fiber) {\n        const state = root == null ? void 0 : root.store.getState();\n        if (state) state.internal.active = false;\n        reconciler.updateContainer(null, fiber, null, ()=>{\n            if (state) {\n                setTimeout(()=>{\n                    try {\n                        var _state$gl, _state$gl$renderLists, _state$gl2, _state$gl3;\n                        state.events.disconnect == null ? void 0 : state.events.disconnect();\n                        (_state$gl = state.gl) == null ? void 0 : (_state$gl$renderLists = _state$gl.renderLists) == null ? void 0 : _state$gl$renderLists.dispose == null ? void 0 : _state$gl$renderLists.dispose();\n                        (_state$gl2 = state.gl) == null ? void 0 : _state$gl2.forceContextLoss == null ? void 0 : _state$gl2.forceContextLoss();\n                        if ((_state$gl3 = state.gl) != null && _state$gl3.xr) state.xr.disconnect();\n                        dispose(state);\n                        roots.delete(canvas);\n                        if (callback) callback(canvas);\n                    } catch (e) {\n                    /* ... */ }\n                }, 500);\n            }\n        });\n    }\n}\nfunction createPortal(children, container, state) {\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Portal, {\n        children: children,\n        container: container,\n        state: state\n    }, container.uuid);\n}\nfunction Portal({ state = {}, children, container }) {\n    /** This has to be a component because it would not be able to call useThree/useStore otherwise since\r\n   *  if this is our environment, then we are not in r3f's renderer but in react-dom, it would trigger\r\n   *  the \"R3F hooks can only be used within the Canvas component!\" warning:\r\n   *  <Canvas>\r\n   *    {createPortal(...)} */ const { events, size, ...rest } = state;\n    const previousRoot = useStore();\n    const [raycaster] = react__WEBPACK_IMPORTED_MODULE_0__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_5__.Raycaster());\n    const [pointer] = react__WEBPACK_IMPORTED_MODULE_0__.useState(()=>new three__WEBPACK_IMPORTED_MODULE_5__.Vector2());\n    const inject = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((rootState, injectState)=>{\n        const intersect = {\n            ...rootState\n        }; // all prev state props\n        // Only the fields of \"rootState\" that do not differ from injectState\n        // Some props should be off-limits\n        // Otherwise filter out the props that are different and let the inject layer take precedence\n        Object.keys(rootState).forEach((key)=>{\n            if (// Some props should be off-limits\n            privateKeys.includes(key) || // Otherwise filter out the props that are different and let the inject layer take precedence\n            // Unless the inject layer props is undefined, then we keep the root layer\n            rootState[key] !== injectState[key] && injectState[key]) {\n                delete intersect[key];\n            }\n        });\n        let viewport = undefined;\n        if (injectState && size) {\n            const camera = injectState.camera;\n            // Calculate the override viewport, if present\n            viewport = rootState.viewport.getCurrentViewport(camera, new three__WEBPACK_IMPORTED_MODULE_5__.Vector3(), size);\n            // Update the portal camera, if it differs from the previous layer\n            if (camera !== rootState.camera) updateCamera(camera, size);\n        }\n        return {\n            // The intersect consists of the previous root state\n            ...intersect,\n            // Portals have their own scene, which forms the root, a raycaster and a pointer\n            scene: container,\n            raycaster,\n            pointer,\n            mouse: pointer,\n            // Their previous root is the layer before it\n            previousRoot,\n            // Events, size and viewport can be overridden by the inject layer\n            events: {\n                ...rootState.events,\n                ...injectState == null ? void 0 : injectState.events,\n                ...events\n            },\n            size: {\n                ...rootState.size,\n                ...size\n            },\n            viewport: {\n                ...rootState.viewport,\n                ...viewport\n            },\n            ...rest\n        };\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        state\n    ]);\n    const [usePortalStore] = react__WEBPACK_IMPORTED_MODULE_0__.useState(()=>{\n        // Create a mirrored store, based on the previous root with a few overrides ...\n        const previousState = previousRoot.getState();\n        const store = (0,zustand__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((set, get)=>({\n                ...previousState,\n                scene: container,\n                raycaster,\n                pointer,\n                mouse: pointer,\n                previousRoot,\n                events: {\n                    ...previousState.events,\n                    ...events\n                },\n                size: {\n                    ...previousState.size,\n                    ...size\n                },\n                ...rest,\n                // Set and get refer to this root-state\n                set,\n                get,\n                // Layers are allowed to override events\n                setEvents: (events)=>set((state)=>({\n                            ...state,\n                            events: {\n                                ...state.events,\n                                ...events\n                            }\n                        }))\n            }));\n        return store;\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        // Subscribe to previous root-state and copy changes over to the mirrored portal-state\n        const unsub = previousRoot.subscribe((prev)=>usePortalStore.setState((state)=>inject(prev, state)));\n        return ()=>{\n            unsub();\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        inject\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        usePortalStore.setState((injectState)=>inject(previousRoot.getState(), injectState));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        inject\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        return ()=>{\n            usePortalStore.destroy();\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: reconciler.createPortal(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(context.Provider, {\n            value: usePortalStore,\n            children: children\n        }), usePortalStore, null)\n    });\n}\n/**\r\n * Force React to flush any updates inside the provided callback synchronously and immediately.\r\n * All the same caveats documented for react-dom's `flushSync` apply here (see https://react.dev/reference/react-dom/flushSync).\r\n * Nevertheless, sometimes one needs to render synchronously, for example to keep DOM and 3D changes in lock-step without\r\n * having to revert to a non-React solution.\r\n */ function flushSync(fn) {\n    // `flushSync` implementation only takes one argument. I don't know what's up with the type declaration for it.\n    return reconciler.flushSync(fn, undefined);\n}\nreconciler.injectIntoDevTools({\n    bundleType:  false ? 0 : 1,\n    rendererPackageName: \"@react-three/fiber\",\n    version: react__WEBPACK_IMPORTED_MODULE_0__.version\n});\nconst act = react__WEBPACK_IMPORTED_MODULE_0__.unstable_act;\nconst DOM_EVENTS = {\n    onClick: [\n        \"click\",\n        false\n    ],\n    onContextMenu: [\n        \"contextmenu\",\n        false\n    ],\n    onDoubleClick: [\n        \"dblclick\",\n        false\n    ],\n    onWheel: [\n        \"wheel\",\n        true\n    ],\n    onPointerDown: [\n        \"pointerdown\",\n        true\n    ],\n    onPointerUp: [\n        \"pointerup\",\n        true\n    ],\n    onPointerLeave: [\n        \"pointerleave\",\n        true\n    ],\n    onPointerMove: [\n        \"pointermove\",\n        true\n    ],\n    onPointerCancel: [\n        \"pointercancel\",\n        true\n    ],\n    onLostPointerCapture: [\n        \"lostpointercapture\",\n        true\n    ]\n};\n/** Default R3F event manager for web */ function createPointerEvents(store) {\n    const { handlePointer } = createEvents(store);\n    return {\n        priority: 1,\n        enabled: true,\n        compute (event, state, previous) {\n            // https://github.com/pmndrs/react-three-fiber/pull/782\n            // Events trigger outside of canvas when moved, use offsetX/Y by default and allow overrides\n            state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n            state.raycaster.setFromCamera(state.pointer, state.camera);\n        },\n        connected: undefined,\n        handlers: Object.keys(DOM_EVENTS).reduce((acc, key)=>({\n                ...acc,\n                [key]: handlePointer(key)\n            }), {}),\n        update: ()=>{\n            var _internal$lastEvent;\n            const { events, internal } = store.getState();\n            if ((_internal$lastEvent = internal.lastEvent) != null && _internal$lastEvent.current && events.handlers) events.handlers.onPointerMove(internal.lastEvent.current);\n        },\n        connect: (target)=>{\n            var _events$handlers;\n            const { set, events } = store.getState();\n            events.disconnect == null ? void 0 : events.disconnect();\n            set((state)=>({\n                    events: {\n                        ...state.events,\n                        connected: target\n                    }\n                }));\n            Object.entries((_events$handlers = events.handlers) != null ? _events$handlers : []).forEach(([name, event])=>{\n                const [eventName, passive] = DOM_EVENTS[name];\n                target.addEventListener(eventName, event, {\n                    passive\n                });\n            });\n        },\n        disconnect: ()=>{\n            const { set, events } = store.getState();\n            if (events.connected) {\n                var _events$handlers2;\n                Object.entries((_events$handlers2 = events.handlers) != null ? _events$handlers2 : []).forEach(([name, event])=>{\n                    if (events && events.connected instanceof HTMLElement) {\n                        const [eventName] = DOM_EVENTS[name];\n                        events.connected.removeEventListener(eventName, event);\n                    }\n                });\n                set((state)=>({\n                        events: {\n                            ...state.events,\n                            connected: undefined\n                        }\n                    }));\n            }\n        }\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvZXZlbnRzLTc3NjcxNmJkLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDQTtBQUNtRztBQUNyRztBQUMyQjtBQUNOO0FBQ1I7QUFDbUM7QUFFN0UsSUFBSWUsYUFBYSxXQUFXLEdBQUVDLE9BQU9DLE1BQU0sQ0FBQztJQUMxQ0MsV0FBVztBQUNiO0FBRUEsTUFBTUMsWUFBWSxDQUFDO0FBQ25CLE1BQU1DLFNBQVNDLENBQUFBLFVBQVcsS0FBS0wsT0FBT00sTUFBTSxDQUFDSCxXQUFXRTtBQUN4RCxTQUFTRSxlQUFlQyxNQUFNLEVBQUVDLGlCQUFpQjtJQUMvQyxTQUFTQyxlQUFlQyxJQUFJLEVBQUUsRUFDNUJDLE9BQU8sRUFBRSxFQUNUQyxNQUFNLEVBQ04sR0FBR0MsT0FDSixFQUFFQyxJQUFJO1FBQ0wsSUFBSUMsT0FBTyxDQUFDLEVBQUVMLElBQUksQ0FBQyxFQUFFLENBQUNNLFdBQVcsR0FBRyxFQUFFTixLQUFLTyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQ3JELElBQUlDO1FBQ0osSUFBSVIsU0FBUyxhQUFhO1lBQ3hCLElBQUlHLE1BQU1NLE1BQU0sS0FBS0MsV0FBVyxNQUFNLElBQUlDLE1BQU07WUFDaEQsTUFBTUYsU0FBU04sTUFBTU0sTUFBTTtZQUMzQkQsV0FBV0ksUUFBUUgsUUFBUTtnQkFDekJUO2dCQUNBSTtnQkFDQUY7Z0JBQ0FXLFdBQVc7WUFDYjtRQUNGLE9BQU87WUFDTCxNQUFNQyxTQUFTdEIsU0FBUyxDQUFDYSxLQUFLO1lBQzlCLElBQUksQ0FBQ1MsUUFBUTtnQkFDWCxNQUFNLElBQUlILE1BQU0sQ0FBQyxLQUFLLEVBQUVOLEtBQUssNEpBQTRKLENBQUM7WUFDNUw7WUFFQSxvREFBb0Q7WUFDcEQsSUFBSSxDQUFDVSxNQUFNQyxPQUFPLENBQUNmLE9BQU8sTUFBTSxJQUFJVSxNQUFNO1lBRTFDLDhDQUE4QztZQUM5Qyx3REFBd0Q7WUFDeERILFdBQVdJLFFBQVEsSUFBSUUsVUFBVWIsT0FBTztnQkFDdENEO2dCQUNBSTtnQkFDQUY7Z0JBQ0EseURBQXlEO2dCQUN6RGUsZUFBZTtvQkFDYmhCO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLHVDQUF1QztRQUN2QyxJQUFJTyxTQUFTVSxLQUFLLENBQUNoQixNQUFNLEtBQUtRLFdBQVc7WUFDdkMsSUFBSUYsU0FBU1csZ0JBQWdCLEVBQUVYLFNBQVNVLEtBQUssQ0FBQ2hCLE1BQU0sR0FBRztpQkFBZ0IsSUFBSU0sU0FBU1ksVUFBVSxFQUFFWixTQUFTVSxLQUFLLENBQUNoQixNQUFNLEdBQUc7UUFDMUg7UUFFQSwyRkFBMkY7UUFDM0YsZ0dBQWdHO1FBQ2hHLDRCQUE0QjtRQUM1QiwrQ0FBK0M7UUFDL0MsSUFBSUcsU0FBUyxVQUFVZ0IsYUFBYWIsVUFBVUw7UUFDOUMsT0FBT0s7SUFDVDtJQUNBLFNBQVNjLFlBQVlDLGNBQWMsRUFBRUMsS0FBSztRQUN4QyxJQUFJQyxRQUFRO1FBQ1osSUFBSUQsT0FBTztZQUNULElBQUlFLGNBQWNDO1lBQ2xCLDZFQUE2RTtZQUM3RSxJQUFJLENBQUNELGVBQWVGLE1BQU1OLEtBQUssS0FBSyxRQUFRUSxhQUFheEIsTUFBTSxFQUFFO2dCQUMvREEsT0FBT3FCLGdCQUFnQkMsT0FBT0EsTUFBTU4sS0FBSyxDQUFDaEIsTUFBTTtZQUNsRCxPQUFPLElBQUlzQixNQUFNSSxVQUFVLElBQUlMLGVBQWVLLFVBQVUsRUFBRTtnQkFDeEQsb0NBQW9DO2dCQUNwQ0wsZUFBZU0sR0FBRyxDQUFDTDtnQkFDbkJDLFFBQVE7WUFDVjtZQUNBLGlHQUFpRztZQUNqRywrRUFBK0U7WUFDL0UsSUFBSSxDQUFDQSxPQUFPLENBQUNFLHdCQUF3QkosZUFBZUwsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJUyxzQkFBc0JqQyxPQUFPLENBQUNvQyxJQUFJLENBQUNOO1lBQ2pILElBQUksQ0FBQ0EsTUFBTU4sS0FBSyxFQUFFTixRQUFRWSxPQUFPLENBQUM7WUFDbENBLE1BQU1OLEtBQUssQ0FBQ2EsTUFBTSxHQUFHUjtZQUNyQlMsZUFBZVI7WUFDZlMsbUJBQW1CVDtRQUNyQjtJQUNGO0lBQ0EsU0FBU1UsYUFBYVgsY0FBYyxFQUFFQyxLQUFLLEVBQUVXLFdBQVc7UUFDdEQsSUFBSVYsUUFBUTtRQUNaLElBQUlELE9BQU87WUFDVCxJQUFJWSxlQUFlQztZQUNuQixJQUFJLENBQUNELGdCQUFnQlosTUFBTU4sS0FBSyxLQUFLLFFBQVFrQixjQUFjbEMsTUFBTSxFQUFFO2dCQUNqRUEsT0FBT3FCLGdCQUFnQkMsT0FBT0EsTUFBTU4sS0FBSyxDQUFDaEIsTUFBTTtZQUNsRCxPQUFPLElBQUlzQixNQUFNSSxVQUFVLElBQUlMLGVBQWVLLFVBQVUsRUFBRTtnQkFDeERKLE1BQU1PLE1BQU0sR0FBR1I7Z0JBQ2ZDLE1BQU1jLGFBQWEsQ0FBQztvQkFDbEJ0QyxNQUFNO2dCQUNSO2dCQUNBdUIsZUFBZWUsYUFBYSxDQUFDO29CQUMzQnRDLE1BQU07b0JBQ053QjtnQkFDRjtnQkFDQSxNQUFNZSxlQUFlaEIsZUFBZWlCLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDQyxDQUFBQSxVQUFXQSxZQUFZbEI7Z0JBQzNFLE1BQU1tQixRQUFRSixhQUFhSyxPQUFPLENBQUNUO2dCQUNuQ1osZUFBZWlCLFFBQVEsR0FBRzt1QkFBSUQsYUFBYWhDLEtBQUssQ0FBQyxHQUFHb0M7b0JBQVFuQjt1QkFBVWUsYUFBYWhDLEtBQUssQ0FBQ29DO2lCQUFPO2dCQUNoR2xCLFFBQVE7WUFDVjtZQUNBLElBQUksQ0FBQ0EsT0FBTyxDQUFDWSx5QkFBeUJkLGVBQWVMLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSW1CLHVCQUF1QjNDLE9BQU8sQ0FBQ29DLElBQUksQ0FBQ047WUFDbkgsSUFBSSxDQUFDQSxNQUFNTixLQUFLLEVBQUVOLFFBQVFZLE9BQU8sQ0FBQztZQUNsQ0EsTUFBTU4sS0FBSyxDQUFDYSxNQUFNLEdBQUdSO1lBQ3JCUyxlQUFlUjtZQUNmUyxtQkFBbUJUO1FBQ3JCO0lBQ0Y7SUFDQSxTQUFTcUIsZ0JBQWdCQyxLQUFLLEVBQUVmLE1BQU0sRUFBRWdCLFVBQVUsS0FBSztRQUNyRCxJQUFJRCxPQUFPO2VBQUlBO1NBQU0sQ0FBQ0UsT0FBTyxDQUFDeEIsQ0FBQUEsUUFBU3lCLFlBQVlsQixRQUFRUCxPQUFPdUI7SUFDcEU7SUFDQSxTQUFTRSxZQUFZMUIsY0FBYyxFQUFFQyxLQUFLLEVBQUV1QixPQUFPO1FBQ2pELElBQUl2QixPQUFPO1lBQ1QsSUFBSTBCLHdCQUF3QkMsZUFBZUM7WUFDM0MsNkJBQTZCO1lBQzdCLElBQUk1QixNQUFNTixLQUFLLEVBQUVNLE1BQU1OLEtBQUssQ0FBQ2EsTUFBTSxHQUFHO1lBQ3RDLHdDQUF3QztZQUN4QyxJQUFJLENBQUNtQix5QkFBeUIzQixlQUFlTCxLQUFLLEtBQUssUUFBUWdDLHVCQUF1QnhELE9BQU8sRUFBRTZCLGVBQWVMLEtBQUssQ0FBQ3hCLE9BQU8sR0FBRzZCLGVBQWVMLEtBQUssQ0FBQ3hCLE9BQU8sQ0FBQytDLE1BQU0sQ0FBQ1ksQ0FBQUEsSUFBS0EsTUFBTTdCO1lBQzdLLG9CQUFvQjtZQUNwQixJQUFJLENBQUMyQixnQkFBZ0IzQixNQUFNTixLQUFLLEtBQUssUUFBUWlDLGNBQWNqRCxNQUFNLEVBQUU7Z0JBQ2pFb0QsT0FBTy9CLGdCQUFnQkMsT0FBT0EsTUFBTU4sS0FBSyxDQUFDaEIsTUFBTTtZQUNsRCxPQUFPLElBQUlzQixNQUFNSSxVQUFVLElBQUlMLGVBQWVLLFVBQVUsRUFBRTtnQkFDeEQsSUFBSTJCO2dCQUNKaEMsZUFBZWlDLE1BQU0sQ0FBQ2hDO2dCQUN0QixtQkFBbUI7Z0JBQ25CLDJDQUEyQztnQkFDM0MsSUFBSSxDQUFDK0IsZ0JBQWdCL0IsTUFBTU4sS0FBSyxLQUFLLFFBQVFxQyxjQUFjbkQsSUFBSSxFQUFFO29CQUMvRHFELG9CQUFvQkMsZ0JBQWdCbEMsUUFBUUE7Z0JBQzlDO1lBQ0Y7WUFFQSxzRkFBc0Y7WUFDdEYsZ0ZBQWdGO1lBQ2hGLDhEQUE4RDtZQUM5RCx3QkFBd0I7WUFDeEIsZ0RBQWdEO1lBQ2hELHdFQUF3RTtZQUN4RSxFQUFFO1lBQ0YsOEZBQThGO1lBQzlGLHlFQUF5RTtZQUN6RSxNQUFNbUMsY0FBYyxDQUFDUCxnQkFBZ0I1QixNQUFNTixLQUFLLEtBQUssT0FBTyxLQUFLLElBQUlrQyxjQUFjdkMsU0FBUztZQUM1RixNQUFNK0MsZ0JBQWdCLENBQUNELGVBQWdCWixDQUFBQSxZQUFZckMsWUFBWWMsTUFBTXVCLE9BQU8sS0FBSyxPQUFPQSxPQUFNO1lBRTlGLHdGQUF3RjtZQUN4RixxQ0FBcUM7WUFDckMsSUFBSSxDQUFDWSxhQUFhO2dCQUNoQixJQUFJRTtnQkFDSmhCLGdCQUFnQixDQUFDZ0IsZ0JBQWdCckMsTUFBTU4sS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJMkMsY0FBY25FLE9BQU8sRUFBRThCLE9BQU9vQztnQkFDL0ZmLGdCQUFnQnJCLE1BQU1nQixRQUFRLEVBQUVoQixPQUFPb0M7WUFDekM7WUFFQSxvQkFBb0I7WUFDcEIsT0FBT3BDLE1BQU1OLEtBQUs7WUFFbEIscURBQXFEO1lBQ3JELElBQUkwQyxpQkFBaUJwQyxNQUFNdUIsT0FBTyxJQUFJdkIsTUFBTXhCLElBQUksS0FBSyxTQUFTO2dCQUM1RCxNQUFNOEQsV0FBVztvQkFDZixJQUFJO3dCQUNGdEMsTUFBTXVCLE9BQU87b0JBQ2YsRUFBRSxPQUFPZ0IsR0FBRztvQkFDVixPQUFPLEdBQ1Q7Z0JBQ0Y7Z0JBRUEsbURBQW1EO2dCQUNuRCxJQUFJLE9BQU9DLDZCQUE2QixhQUFhO29CQUNuRDlFLG9FQUF5QkEsQ0FBQ0MsNERBQXFCQSxFQUFFMkU7Z0JBQ25ELE9BQU87b0JBQ0xBO2dCQUNGO1lBQ0Y7WUFDQTdCLG1CQUFtQlY7UUFDckI7SUFDRjtJQUNBLFNBQVMwQyxlQUFlekQsUUFBUSxFQUFFUixJQUFJLEVBQUVrRSxRQUFRLEVBQUVDLEtBQUs7UUFDckQsSUFBSUM7UUFDSixNQUFNckMsU0FBUyxDQUFDcUMsa0JBQWtCNUQsU0FBU1UsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJa0QsZ0JBQWdCckMsTUFBTTtRQUMzRixJQUFJLENBQUNBLFFBQVE7UUFDYixNQUFNc0MsY0FBY3RFLGVBQWVDLE1BQU1rRSxVQUFVMUQsU0FBU1UsS0FBSyxDQUFDZCxJQUFJO1FBRXRFLDBEQUEwRDtRQUMxRCxxRUFBcUU7UUFDckUsNkRBQTZEO1FBQzdELElBQUlJLFNBQVNnQyxRQUFRLEVBQUU7WUFDckIsS0FBSyxNQUFNaEIsU0FBU2hCLFNBQVNnQyxRQUFRLENBQUU7Z0JBQ3JDLElBQUloQixNQUFNTixLQUFLLEVBQUVJLFlBQVkrQyxhQUFhN0M7WUFDNUM7WUFDQWhCLFNBQVNnQyxRQUFRLEdBQUdoQyxTQUFTZ0MsUUFBUSxDQUFDQyxNQUFNLENBQUNqQixDQUFBQSxRQUFTLENBQUNBLE1BQU1OLEtBQUs7UUFDcEU7UUFDQVYsU0FBU1UsS0FBSyxDQUFDeEIsT0FBTyxDQUFDc0QsT0FBTyxDQUFDeEIsQ0FBQUEsUUFBU0YsWUFBWStDLGFBQWE3QztRQUNqRWhCLFNBQVNVLEtBQUssQ0FBQ3hCLE9BQU8sR0FBRyxFQUFFO1FBQzNCLElBQUksQ0FBQ2MsU0FBU1UsS0FBSyxDQUFDb0QsdUJBQXVCLEVBQUU7WUFDM0NyQixZQUFZbEIsUUFBUXZCO1FBQ3RCO1FBQ0EsSUFBSTZELFlBQVl0QyxNQUFNLEVBQUU7WUFDdEJzQyxZQUFZbkQsS0FBSyxDQUFDb0QsdUJBQXVCLEdBQUc7UUFDOUM7UUFDQWhELFlBQVlTLFFBQVFzQztRQUVwQiw2Q0FBNkM7UUFDN0MsSUFBSUEsWUFBWUUsT0FBTyxJQUFJRixZQUFZbkQsS0FBSyxDQUFDc0QsVUFBVSxFQUFFO1lBQ3ZELE1BQU1DLFlBQVlmLGdCQUFnQlcsYUFBYUssUUFBUTtZQUN2REQsVUFBVUUsUUFBUSxDQUFDQyxXQUFXLENBQUM5QyxJQUFJLENBQUN1QztRQUN0QztRQUNBO1lBQUNGO1lBQU9BLE1BQU1VLFNBQVM7U0FBQyxDQUFDN0IsT0FBTyxDQUFDbUIsQ0FBQUE7WUFDL0IsSUFBSUEsVUFBVSxNQUFNO2dCQUNsQkEsTUFBTVcsU0FBUyxHQUFHVDtnQkFDbEIsSUFBSUYsTUFBTVksR0FBRyxFQUFFO29CQUNiLElBQUksT0FBT1osTUFBTVksR0FBRyxLQUFLLFlBQVlaLE1BQU1ZLEdBQUcsQ0FBQ1Y7eUJBQWtCRixNQUFNWSxHQUFHLENBQUNDLE9BQU8sR0FBR1g7Z0JBQ3ZGO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsNkNBQTZDO0lBQzdDLE1BQU1ZLHFCQUFxQixLQUFPO0lBQ2xDLE1BQU1DLGFBQWFqRyx1REFBVUEsQ0FBQztRQUM1QmM7UUFDQWtEO1FBQ0EzQjtRQUNBNkQsb0JBQW9CN0Q7UUFDcEJZO1FBQ0FrRCxrQkFBa0I7UUFDbEJDLG1CQUFtQjtRQUNuQkMscUJBQXFCO1FBQ3JCQyxtQkFBbUI7UUFDbkJDLFdBQVcsQ0FBQztRQUNaQyx3QkFBd0IsQ0FBQ0MsV0FBV2xFO1lBQ2xDLElBQUksQ0FBQ0EsT0FBTztZQUVaLHNDQUFzQztZQUN0QyxNQUFNbUUsUUFBUUQsVUFBVWhCLFFBQVEsR0FBR2lCLEtBQUs7WUFDeEMsSUFBSSxDQUFDQSxNQUFNekUsS0FBSyxFQUFFO1lBRWxCLHlDQUF5QztZQUN6Q3lFLE1BQU16RSxLQUFLLENBQUNkLElBQUksR0FBR3NGO1lBQ25CcEUsWUFBWXFFLE9BQU9uRTtRQUNyQjtRQUNBb0UsMEJBQTBCLENBQUNGLFdBQVdsRTtZQUNwQyxJQUFJLENBQUNBLE9BQU87WUFDWnlCLFlBQVl5QyxVQUFVaEIsUUFBUSxHQUFHaUIsS0FBSyxFQUFFbkU7UUFDMUM7UUFDQXFFLHlCQUF5QixDQUFDSCxXQUFXbEUsT0FBT1c7WUFDMUMsSUFBSSxDQUFDWCxTQUFTLENBQUNXLGFBQWE7WUFFNUIsc0NBQXNDO1lBQ3RDLE1BQU13RCxRQUFRRCxVQUFVaEIsUUFBUSxHQUFHaUIsS0FBSztZQUN4QyxJQUFJLENBQUNBLE1BQU16RSxLQUFLLEVBQUU7WUFDbEJnQixhQUFheUQsT0FBT25FLE9BQU9XO1FBQzdCO1FBQ0EyRCxvQkFBb0IsSUFBTTtRQUMxQkMscUJBQXFCQyxDQUFBQSxvQkFBcUJBO1FBQzFDQyx5QkFBd0J6RixRQUFRO1lBQzlCLElBQUkwRjtZQUNKLE1BQU1DLGFBQWEsQ0FBQ0QsbUJBQW1CMUYsWUFBWSxPQUFPLEtBQUssSUFBSUEsU0FBU1UsS0FBSyxLQUFLLE9BQU9nRixtQkFBbUIsQ0FBQztZQUNqSCxpREFBaUQ7WUFDakQsMENBQTBDO1lBQzFDLE9BQU9FLFFBQVFELFdBQVdFLFFBQVE7UUFDcEM7UUFDQUMsZUFBYzlGLFFBQVEsRUFBRStGLEtBQUssRUFBRUMsUUFBUSxFQUFFdEMsUUFBUTtZQUMvQyxJQUFJdUM7WUFDSixNQUFNTixhQUFhLENBQUNNLG1CQUFtQmpHLFlBQVksT0FBTyxLQUFLLElBQUlBLFNBQVNVLEtBQUssS0FBSyxPQUFPdUYsbUJBQW1CLENBQUM7WUFFakgsbUJBQW1CO1lBQ25CLElBQUlOLFdBQVd0RixTQUFTLElBQUlxRCxTQUFTekQsTUFBTSxJQUFJeUQsU0FBU3pELE1BQU0sS0FBS0QsVUFBVTtnQkFDM0UsT0FBTztvQkFBQztpQkFBSztZQUNmLE9BQU87Z0JBQ0wscUVBQXFFO2dCQUNyRSxNQUFNLEVBQ0pQLE1BQU15RyxVQUFVLEVBQUUsRUFDbEJsRSxVQUFVbUUsRUFBRSxFQUNaLEdBQUdDLFNBQ0osR0FBRzFDO2dCQUNKLE1BQU0sRUFDSmpFLE1BQU00RyxVQUFVLEVBQUUsRUFDbEJyRSxVQUFVc0UsRUFBRSxFQUNaLEdBQUdDLFNBQ0osR0FBR1A7Z0JBRUosb0RBQW9EO2dCQUNwRCxJQUFJLENBQUN6RixNQUFNQyxPQUFPLENBQUMwRixVQUFVLE1BQU0sSUFBSS9GLE1BQU07Z0JBRTdDLHdFQUF3RTtnQkFDeEUsSUFBSStGLFFBQVFNLElBQUksQ0FBQyxDQUFDQyxPQUFPdEUsUUFBVXNFLFVBQVVKLE9BQU8sQ0FBQ2xFLE1BQU0sR0FBRyxPQUFPO29CQUFDO2lCQUFLO2dCQUMzRSxtREFBbUQ7Z0JBQ25ELE1BQU11RSxPQUFPQyxVQUFVM0csVUFBVW9HLFNBQVNHLFNBQVM7Z0JBQ25ELElBQUlHLEtBQUtFLE9BQU8sQ0FBQ0MsTUFBTSxFQUFFLE9BQU87b0JBQUM7b0JBQU9IO2lCQUFLO2dCQUU3QyxzQ0FBc0M7Z0JBQ3RDLE9BQU87WUFDVDtRQUNGO1FBQ0FJLGNBQWE5RyxRQUFRLEVBQUUsQ0FBQytHLGFBQWFMLEtBQUssRUFBRWxILElBQUksRUFBRXdILFNBQVMsRUFBRXRELFFBQVEsRUFBRUMsS0FBSztZQUMxRSxnRUFBZ0U7WUFDaEUsSUFBSW9ELGFBQWF0RCxlQUFlekQsVUFBVVIsTUFBTWtFLFVBQVVDO2lCQUVyRDlDLGFBQWFiLFVBQVUwRztRQUM5QjtRQUNBTyxhQUFZakgsUUFBUSxFQUFFK0YsS0FBSyxFQUFFbUIsTUFBTSxFQUFFQyxJQUFJO1lBQ3ZDLElBQUlDO1lBQ0osaURBQWlEO1lBQ2pELDhGQUE4RjtZQUM5RixNQUFNekIsYUFBYSxDQUFDeUIsbUJBQW1CcEgsU0FBU1UsS0FBSyxLQUFLLE9BQU8wRyxtQkFBbUIsQ0FBQztZQUNyRixJQUFJcEgsU0FBUytELE9BQU8sSUFBSTRCLFdBQVdFLFFBQVEsSUFBSUYsV0FBVzNCLFVBQVUsRUFBRTtnQkFDcEVkLGdCQUFnQmxELFVBQVVrRSxRQUFRLEdBQUdDLFFBQVEsQ0FBQ0MsV0FBVyxDQUFDOUMsSUFBSSxDQUFDdEI7WUFDakU7UUFDRjtRQUNBcUgsbUJBQW1CckgsQ0FBQUEsV0FBWUE7UUFDL0JzSCxrQkFBa0IsSUFBTTtRQUN4QkMsb0JBQW9CckMsQ0FBQUEsWUFBYTlFLFFBQVE4RSxVQUFVaEIsUUFBUSxHQUFHaUIsS0FBSztRQUNuRXFDLGtCQUFrQixLQUFPO1FBQ3pCQyxzQkFBc0IsSUFBTTtRQUM1QkMsZ0JBQWdCLElBQU07UUFDdEJDLGNBQWEzSCxRQUFRO1lBQ25CLElBQUk0SDtZQUNKLHNDQUFzQztZQUN0QyxNQUFNLEVBQ0psSSxRQUFRRixJQUFJLEVBQ1orQixNQUFNLEVBQ1AsR0FBRyxDQUFDcUcsbUJBQW1CNUgsU0FBU1UsS0FBSyxLQUFLLE9BQU9rSCxtQkFBbUIsQ0FBQztZQUN0RSxJQUFJcEksUUFBUStCLFFBQVF1QixPQUFPdkIsUUFBUXZCLFVBQVVSO1lBQzdDLElBQUlRLFNBQVNvQixVQUFVLEVBQUVwQixTQUFTNkgsT0FBTyxHQUFHO1lBQzVDcEcsbUJBQW1CekI7UUFDckI7UUFDQThILGdCQUFlOUgsUUFBUSxFQUFFTCxLQUFLO1lBQzVCLElBQUlvSTtZQUNKLDBDQUEwQztZQUMxQyxNQUFNLEVBQ0pySSxRQUFRRixJQUFJLEVBQ1orQixNQUFNLEVBQ1AsR0FBRyxDQUFDd0csbUJBQW1CL0gsU0FBU1UsS0FBSyxLQUFLLE9BQU9xSCxtQkFBbUIsQ0FBQztZQUN0RSxJQUFJdkksUUFBUStCLFFBQVE3QixPQUFPNkIsUUFBUXZCLFVBQVVSO1lBQzdDLElBQUlRLFNBQVNvQixVQUFVLElBQUl6QixNQUFNa0ksT0FBTyxJQUFJLFFBQVFsSSxNQUFNa0ksT0FBTyxFQUFFN0gsU0FBUzZILE9BQU8sR0FBRztZQUN0RnBHLG1CQUFtQnpCO1FBQ3JCO1FBQ0FnSSxvQkFBb0J2RDtRQUNwQndELGtCQUFrQnhEO1FBQ2xCeUQsb0JBQW9CekQ7UUFDcEIsOEVBQThFO1FBQzlFLG1CQUFtQjtRQUNuQjBELHlCQUF5QixJQUFNN0ksb0JBQW9CQSxzQkFBc0J2Qiw0RUFBb0JBO1FBQzdGcUssMEJBQTBCLEtBQU87UUFDakNDLHlCQUF5QixLQUFPO1FBQ2hDQyx1QkFBdUIsS0FBTztRQUM5QkMsS0FBSyxPQUFPQyxnQkFBZ0IsZUFBZUMsR0FBR0MsR0FBRyxDQUFDRixZQUFZRCxHQUFHLElBQUlDLFlBQVlELEdBQUcsR0FBR0UsR0FBR0MsR0FBRyxDQUFDQyxLQUFLSixHQUFHLElBQUlJLEtBQUtKLEdBQUcsR0FBRyxJQUFNO1FBQzNILDhFQUE4RTtRQUM5RUssaUJBQWlCSCxHQUFHQyxHQUFHLENBQUNHLGNBQWNBLGFBQWEzSTtRQUNuRDRJLGVBQWVMLEdBQUdDLEdBQUcsQ0FBQ0ssZ0JBQWdCQSxlQUFlN0k7SUFDdkQ7SUFDQSxPQUFPO1FBQ0x3RTtRQUNBc0UsWUFBWW5JO0lBQ2Q7QUFDRjtBQUVBLElBQUlvSSxrQkFBa0JDO0FBQ3RCOztDQUVDLEdBQ0QsTUFBTUMsZ0JBQWdCbEosQ0FBQUEsU0FBVSxnQkFBZ0JBLFVBQVUsc0JBQXNCQTtBQUNoRjs7Q0FFQyxHQUNELE1BQU1tSixxQkFBcUI7SUFDekIsSUFBSUM7SUFDSixPQUFPLENBQUNBLG1CQUFtQnJLLFVBQVVzSyxlQUFlLEtBQUssT0FBT0QsbUJBQW1CO0FBQ3JGO0FBQ0EsTUFBTUUsdUJBQXVCQyxDQUFBQSxNQUFPQSxPQUFPQSxJQUFJRCxvQkFBb0I7QUFDbkUsTUFBTUUsUUFBUUMsQ0FBQUEsTUFBT0EsT0FBT0EsSUFBSUMsY0FBYyxDQUFDO0FBRS9DOzs7Ozs7OztDQVFDLEdBQ0QsTUFBTUMsNEJBQTRCLE1BQTBOLEdBQUs5TCxDQUFxQixHQUFHQSw0Q0FBZTtBQUN4UyxTQUFTc00sbUJBQW1CQyxFQUFFO0lBQzVCLE1BQU05RixNQUFNekcseUNBQVksQ0FBQ3VNO0lBQ3pCVCwwQkFBMEIsSUFBTSxLQUFNckYsQ0FBQUEsSUFBSUMsT0FBTyxHQUFHNkYsRUFBQyxHQUFJO1FBQUNBO0tBQUc7SUFDN0QsT0FBTzlGO0FBQ1Q7QUFDQSxTQUFTZ0csTUFBTSxFQUNiQyxHQUFHLEVBQ0o7SUFDQ1osMEJBQTBCO1FBQ3hCWSxJQUFJLElBQUlDLFFBQVEsSUFBTTtRQUN0QixPQUFPLElBQU1ELElBQUk7SUFDbkIsR0FBRztRQUFDQTtLQUFJO0lBQ1IsT0FBTztBQUNUO0FBQ0EsTUFBTUUsc0JBQXNCNU0sNENBQWU7SUFDekM4TSxZQUFZLEdBQUduTCxJQUFJLENBQUU7UUFDbkIsS0FBSyxJQUFJQTtRQUNULElBQUksQ0FBQ29MLEtBQUssR0FBRztZQUNYQyxPQUFPO1FBQ1Q7SUFDRjtJQUNBQyxrQkFBa0JDLEdBQUcsRUFBRTtRQUNyQixJQUFJLENBQUNyTCxLQUFLLENBQUM2SyxHQUFHLENBQUNRO0lBQ2pCO0lBQ0FDLFNBQVM7UUFDUCxPQUFPLElBQUksQ0FBQ0osS0FBSyxDQUFDQyxLQUFLLEdBQUcsT0FBTyxJQUFJLENBQUNuTCxLQUFLLENBQUNxQyxRQUFRO0lBQ3REO0FBQ0Y7QUFDQTBJLGNBQWNRLHdCQUF3QixHQUFHLElBQU87UUFDOUNKLE9BQU87SUFDVDtBQUNBLE1BQU1LLFVBQVU7QUFDaEIsTUFBTUMsV0FBVyxJQUFJQztBQUNyQixNQUFNQyxZQUFZOUIsQ0FBQUEsTUFBT0EsT0FBTyxDQUFDLENBQUNBLElBQUkrQixRQUFRLElBQUksQ0FBQyxDQUFDL0IsSUFBSTVDLE9BQU87QUFDL0QsU0FBUzRFLGFBQWFDLEdBQUc7SUFDdkIsSUFBSUM7SUFDSix1RUFBdUU7SUFDdkUscUVBQXFFO0lBQ3JFLE1BQU1wTCxTQUFTLE1BQWtCLEdBQWMsQ0FBcUYsR0FBRztJQUN2SSxPQUFPQyxNQUFNQyxPQUFPLENBQUNpTCxPQUFPRyxLQUFLQyxHQUFHLENBQUNELEtBQUtFLEdBQUcsQ0FBQ0wsR0FBRyxDQUFDLEVBQUUsRUFBRW5MLFNBQVNtTCxHQUFHLENBQUMsRUFBRSxJQUFJQTtBQUMzRTtBQUVBOztDQUVDLEdBQ0QsTUFBTU0sZUFBZXJDLENBQUFBO0lBQ25CLElBQUlzQztJQUNKLE9BQU8sQ0FBQ0EsT0FBT3RDLElBQUloSixLQUFLLEtBQUssT0FBTyxLQUFLLElBQUlzTCxLQUFLcE0sSUFBSSxDQUFDc0UsUUFBUTtBQUNqRTtBQUVBOztDQUVDLEdBQ0QsU0FBU2hCLGdCQUFnQmxDLEtBQUs7SUFDNUIsSUFBSXBCLE9BQU9vQixNQUFNTixLQUFLLENBQUNkLElBQUk7SUFDM0IsTUFBT0EsS0FBS3NFLFFBQVEsR0FBRytILFlBQVksQ0FBRXJNLE9BQU9BLEtBQUtzRSxRQUFRLEdBQUcrSCxZQUFZO0lBQ3hFLE9BQU9yTTtBQUNUO0FBQ0Esb0NBQW9DO0FBQ3BDLE1BQU02SSxLQUFLO0lBQ1RpQixLQUFLd0MsQ0FBQUEsSUFBS0EsTUFBTXJOLE9BQU9xTixNQUFNLENBQUN6RCxHQUFHMEQsR0FBRyxDQUFDRCxNQUFNLE9BQU9BLE1BQU07SUFDeER4RCxLQUFLd0QsQ0FBQUEsSUFBSyxPQUFPQSxNQUFNO0lBQ3ZCRSxLQUFLRixDQUFBQSxJQUFLLE9BQU9BLE1BQU07SUFDdkJHLEtBQUtILENBQUFBLElBQUssT0FBT0EsTUFBTTtJQUN2QkksS0FBS0osQ0FBQUEsSUFBSyxPQUFPQSxNQUFNO0lBQ3ZCSyxLQUFLTCxDQUFBQSxJQUFLQSxNQUFNLEtBQUs7SUFDckJDLEtBQUtELENBQUFBLElBQUszTCxNQUFNQyxPQUFPLENBQUMwTDtJQUN4Qk0sS0FBSU4sQ0FBQyxFQUFFTyxDQUFDLEVBQUUsRUFDUkMsU0FBUyxTQUFTLEVBQ2xCeE4sVUFBVSxXQUFXLEVBQ3JCeU4sU0FBUyxJQUFJLEVBQ2QsR0FBRyxDQUFDLENBQUM7UUFDSix3REFBd0Q7UUFDeEQsSUFBSSxPQUFPVCxNQUFNLE9BQU9PLEtBQUssQ0FBQyxDQUFDUCxNQUFNLENBQUMsQ0FBQ08sR0FBRyxPQUFPO1FBQ2pELG1DQUFtQztRQUNuQyxJQUFJaEUsR0FBRzJELEdBQUcsQ0FBQ0YsTUFBTXpELEdBQUc0RCxHQUFHLENBQUNILE1BQU16RCxHQUFHNkQsR0FBRyxDQUFDSixJQUFJLE9BQU9BLE1BQU1PO1FBQ3RELE1BQU1HLFFBQVFuRSxHQUFHaUIsR0FBRyxDQUFDd0M7UUFDckIsSUFBSVUsU0FBUzFOLFlBQVksYUFBYSxPQUFPZ04sTUFBTU87UUFDbkQsTUFBTUksUUFBUXBFLEdBQUcwRCxHQUFHLENBQUNEO1FBQ3JCLElBQUlXLFNBQVNILFdBQVcsYUFBYSxPQUFPUixNQUFNTztRQUNsRCxnRUFBZ0U7UUFDaEUsSUFBSSxDQUFDSSxTQUFTRCxLQUFJLEtBQU1WLE1BQU1PLEdBQUcsT0FBTztRQUN4QywrQkFBK0I7UUFDL0IsSUFBSUs7UUFDSixtQ0FBbUM7UUFDbkMsSUFBS0EsS0FBS1osRUFBRyxJQUFJLENBQUVZLENBQUFBLEtBQUtMLENBQUFBLEdBQUksT0FBTztRQUNuQyxxQ0FBcUM7UUFDckMsSUFBSUcsU0FBU0YsV0FBVyxhQUFheE4sWUFBWSxXQUFXO1lBQzFELElBQUs0TixLQUFLSCxTQUFTRixJQUFJUCxFQUFHLElBQUksQ0FBQ3pELEdBQUcrRCxHQUFHLENBQUNOLENBQUMsQ0FBQ1ksRUFBRSxFQUFFTCxDQUFDLENBQUNLLEVBQUUsRUFBRTtnQkFDaERIO2dCQUNBek4sU0FBUztZQUNYLElBQUksT0FBTztRQUNiLE9BQU87WUFDTCxJQUFLNE4sS0FBS0gsU0FBU0YsSUFBSVAsRUFBRyxJQUFJQSxDQUFDLENBQUNZLEVBQUUsS0FBS0wsQ0FBQyxDQUFDSyxFQUFFLEVBQUUsT0FBTztRQUN0RDtRQUNBLG9CQUFvQjtRQUNwQixJQUFJckUsR0FBRzhELEdBQUcsQ0FBQ08sSUFBSTtZQUNiLGtEQUFrRDtZQUNsRCxJQUFJRCxTQUFTWCxFQUFFckYsTUFBTSxLQUFLLEtBQUs0RixFQUFFNUYsTUFBTSxLQUFLLEdBQUcsT0FBTztZQUN0RCxtREFBbUQ7WUFDbkQsSUFBSStGLFNBQVMvTixPQUFPa08sSUFBSSxDQUFDYixHQUFHckYsTUFBTSxLQUFLLEtBQUtoSSxPQUFPa08sSUFBSSxDQUFDTixHQUFHNUYsTUFBTSxLQUFLLEdBQUcsT0FBTztZQUNoRixnQ0FBZ0M7WUFDaEMsSUFBSXFGLE1BQU1PLEdBQUcsT0FBTztRQUN0QjtRQUNBLE9BQU87SUFDVDtBQUNGO0FBRUE7O0NBRUMsR0FDRCxTQUFTTyxXQUFXL00sTUFBTTtJQUN4QixNQUFNZ04sT0FBTztRQUNYQyxPQUFPLENBQUM7UUFDUkMsV0FBVyxDQUFDO0lBQ2Q7SUFDQSxJQUFJbE4sUUFBUTtRQUNWQSxPQUFPbU4sUUFBUSxDQUFDMUQsQ0FBQUE7WUFDZCxJQUFJQSxJQUFJN0osSUFBSSxFQUFFb04sS0FBS0MsS0FBSyxDQUFDeEQsSUFBSTdKLElBQUksQ0FBQyxHQUFHNko7WUFDckMsSUFBSUEsSUFBSTJELFFBQVEsSUFBSSxDQUFDSixLQUFLRSxTQUFTLENBQUN6RCxJQUFJMkQsUUFBUSxDQUFDeE4sSUFBSSxDQUFDLEVBQUVvTixLQUFLRSxTQUFTLENBQUN6RCxJQUFJMkQsUUFBUSxDQUFDeE4sSUFBSSxDQUFDLEdBQUc2SixJQUFJMkQsUUFBUTtRQUMxRztJQUNGO0lBQ0EsT0FBT0o7QUFDVDtBQUVBLDRDQUE0QztBQUM1QyxTQUFTMUssUUFBUW1ILEdBQUc7SUFDbEIsSUFBSUEsSUFBSW5ILE9BQU8sSUFBSW1ILElBQUlsSyxJQUFJLEtBQUssU0FBU2tLLElBQUluSCxPQUFPO0lBQ3BELElBQUssTUFBTStLLEtBQUs1RCxJQUFLO1FBQ25CNEQsRUFBRS9LLE9BQU8sSUFBSSxPQUFPLEtBQUssSUFBSStLLEVBQUUvSyxPQUFPO1FBQ3RDLE9BQU9tSCxHQUFHLENBQUM0RCxFQUFFO0lBQ2Y7QUFDRjtBQUVBLGlFQUFpRTtBQUNqRSxTQUFTbE4sUUFBUUgsTUFBTSxFQUFFNEssS0FBSztJQUM1QixNQUFNN0ssV0FBV0M7SUFDakJELFNBQVNVLEtBQUssR0FBRztRQUNmbEIsTUFBTTtRQUNOSSxNQUFNO1FBQ04yTixnQkFBZ0I7UUFDaEI5TSxlQUFlLENBQUM7UUFDaEJ1RCxZQUFZO1FBQ1o2QixVQUFVLENBQUM7UUFDWDNHLFNBQVMsRUFBRTtRQUNYcUMsUUFBUTtRQUNSLEdBQUdzSixLQUFLO0lBQ1Y7SUFDQSxPQUFPNUs7QUFDVDtBQUNBLFNBQVN1TixRQUFReE4sUUFBUSxFQUFFeU4sR0FBRztJQUM1QixJQUFJbk4sU0FBU047SUFDYixJQUFJeU4sSUFBSUMsUUFBUSxDQUFDLE1BQU07UUFDckIsTUFBTUMsVUFBVUYsSUFBSUcsS0FBSyxDQUFDO1FBQzFCLE1BQU1DLE9BQU9GLFFBQVFHLEdBQUc7UUFDeEJ4TixTQUFTcU4sUUFBUUksTUFBTSxDQUFDLENBQUNDLEtBQUtQLE1BQVFPLEdBQUcsQ0FBQ1AsSUFBSSxFQUFFek47UUFDaEQsT0FBTztZQUNMTTtZQUNBbU4sS0FBS0k7UUFDUDtJQUNGLE9BQU8sT0FBTztRQUNadk47UUFDQW1OO0lBQ0Y7QUFDRjtBQUVBLHFEQUFxRDtBQUNyRCxNQUFNUSxjQUFjO0FBQ3BCLFNBQVN2TyxPQUFPNkIsTUFBTSxFQUFFUCxLQUFLLEVBQUV4QixJQUFJO0lBQ2pDLElBQUlpSixHQUFHMkQsR0FBRyxDQUFDNU0sT0FBTztRQUNoQixpREFBaUQ7UUFDakQsSUFBSXlPLFlBQVlDLElBQUksQ0FBQzFPLE9BQU87WUFDMUIsTUFBTUksT0FBT0osS0FBSzJPLE9BQU8sQ0FBQ0YsYUFBYTtZQUN2QyxNQUFNLEVBQ0ozTixNQUFNLEVBQ05tTixHQUFHLEVBQ0osR0FBR0QsUUFBUWpNLFFBQVEzQjtZQUNwQixJQUFJLENBQUNXLE1BQU1DLE9BQU8sQ0FBQ0YsTUFBTSxDQUFDbU4sSUFBSSxHQUFHbk4sTUFBTSxDQUFDbU4sSUFBSSxHQUFHLEVBQUU7UUFDbkQ7UUFDQSxNQUFNLEVBQ0puTixNQUFNLEVBQ05tTixHQUFHLEVBQ0osR0FBR0QsUUFBUWpNLFFBQVEvQjtRQUNwQndCLE1BQU1OLEtBQUssQ0FBQzZNLGNBQWMsR0FBR2pOLE1BQU0sQ0FBQ21OLElBQUk7UUFDeENuTixNQUFNLENBQUNtTixJQUFJLEdBQUd6TTtJQUNoQixPQUFPQSxNQUFNTixLQUFLLENBQUM2TSxjQUFjLEdBQUcvTixLQUFLK0IsUUFBUVA7QUFDbkQ7QUFDQSxTQUFTOEIsT0FBT3ZCLE1BQU0sRUFBRVAsS0FBSyxFQUFFeEIsSUFBSTtJQUNqQyxJQUFJMEIsY0FBY1U7SUFDbEIsSUFBSTZHLEdBQUcyRCxHQUFHLENBQUM1TSxPQUFPO1FBQ2hCLE1BQU0sRUFDSmMsTUFBTSxFQUNObU4sR0FBRyxFQUNKLEdBQUdELFFBQVFqTSxRQUFRL0I7UUFDcEIsTUFBTTRPLFdBQVdwTixNQUFNTixLQUFLLENBQUM2TSxjQUFjO1FBQzNDLHdGQUF3RjtRQUN4RixJQUFJYSxhQUFhbE8sV0FBVyxPQUFPSSxNQUFNLENBQUNtTixJQUFJO2FBRXpDbk4sTUFBTSxDQUFDbU4sSUFBSSxHQUFHVztJQUNyQixPQUFPLENBQUNsTixlQUFlRixNQUFNTixLQUFLLEtBQUssT0FBTyxLQUFLLElBQUlRLGFBQWFxTSxjQUFjLElBQUksT0FBTyxLQUFLLElBQUlyTSxhQUFhcU0sY0FBYyxDQUFDaE0sUUFBUVA7SUFDeklZLENBQUFBLGdCQUFnQlosTUFBTU4sS0FBSyxLQUFLLE9BQU8sT0FBTyxPQUFPa0IsY0FBYzJMLGNBQWM7QUFDcEY7QUFDQSx3RUFBd0U7QUFDeEUsU0FBUzVHLFVBQVUzRyxRQUFRLEVBQUUsRUFDM0JnQyxVQUFVbUUsRUFBRSxFQUNac0gsS0FBS1ksRUFBRSxFQUNQOUosS0FBSytKLEVBQUUsRUFDUCxHQUFHM08sT0FDSixFQUFFLEVBQ0RxQyxVQUFVdU0sRUFBRSxFQUNaZCxLQUFLZSxFQUFFLEVBQ1BqSyxLQUFLa0ssRUFBRSxFQUNQLEdBQUdMLFVBQ0osR0FBRyxDQUFDLENBQUMsRUFBRXBMLFNBQVMsS0FBSztJQUNwQixNQUFNMkMsYUFBYTNGLFNBQVNVLEtBQUs7SUFDakMsTUFBTWlOLFVBQVU5TyxPQUFPOE8sT0FBTyxDQUFDaE87SUFDL0IsTUFBTWlILFVBQVUsRUFBRTtJQUVsQixvRUFBb0U7SUFDcEUsSUFBSTVELFFBQVE7UUFDVixNQUFNMEwsZUFBZTdQLE9BQU9rTyxJQUFJLENBQUNxQjtRQUNqQyxJQUFLLElBQUl0QixJQUFJLEdBQUdBLElBQUk0QixhQUFhN0gsTUFBTSxFQUFFaUcsSUFBSztZQUM1QyxJQUFJLENBQUNuTixNQUFNZ0ssY0FBYyxDQUFDK0UsWUFBWSxDQUFDNUIsRUFBRSxHQUFHYSxRQUFRZ0IsT0FBTyxDQUFDO2dCQUFDRCxZQUFZLENBQUM1QixFQUFFO2dCQUFFM0IsVUFBVTthQUFTO1FBQ25HO0lBQ0Y7SUFDQXdDLFFBQVFuTCxPQUFPLENBQUMsQ0FBQyxDQUFDaUwsS0FBS2hILE1BQU07UUFDM0IsSUFBSTdDO1FBQ0osK0JBQStCO1FBQy9CLElBQUksQ0FBQ0Esa0JBQWtCNUQsU0FBU1UsS0FBSyxLQUFLLFFBQVFrRCxnQkFBZ0J2RCxTQUFTLElBQUlvTixRQUFRLFVBQVU7UUFDakcsNEJBQTRCO1FBQzVCLElBQUloRixHQUFHK0QsR0FBRyxDQUFDL0YsT0FBTzJILFFBQVEsQ0FBQ1gsSUFBSSxHQUFHO1FBQ2xDLGdDQUFnQztRQUNoQyxJQUFJLG1EQUFtRFMsSUFBSSxDQUFDVCxNQUFNLE9BQU83RyxRQUFRdEYsSUFBSSxDQUFDO1lBQUNtTTtZQUFLaEg7WUFBTztZQUFNLEVBQUU7U0FBQztRQUM1RyxxQkFBcUI7UUFDckIsSUFBSWtILFVBQVUsRUFBRTtRQUNoQixJQUFJRixJQUFJQyxRQUFRLENBQUMsTUFBTUMsVUFBVUYsSUFBSUcsS0FBSyxDQUFDO1FBQzNDaEgsUUFBUXRGLElBQUksQ0FBQztZQUFDbU07WUFBS2hIO1lBQU87WUFBT2tIO1NBQVE7UUFFekMsc0JBQXNCO1FBQ3RCLElBQUssTUFBTWlCLFFBQVFqUCxNQUFPO1lBQ3hCLE1BQU04RyxRQUFROUcsS0FBSyxDQUFDaVAsS0FBSztZQUN6QixJQUFJQSxLQUFLQyxVQUFVLENBQUMsQ0FBQyxFQUFFcEIsSUFBSSxDQUFDLENBQUMsR0FBRzdHLFFBQVF0RixJQUFJLENBQUM7Z0JBQUNzTjtnQkFBTW5JO2dCQUFPO2dCQUFPbUksS0FBS2hCLEtBQUssQ0FBQzthQUFLO1FBQ3BGO0lBQ0Y7SUFDQSxNQUFNckMsV0FBVztRQUNmLEdBQUc1TCxLQUFLO0lBQ1Y7SUFDQSxJQUFJZ0csY0FBYyxRQUFRQSxXQUFXbEYsYUFBYSxJQUFJa0YsY0FBYyxRQUFRQSxXQUFXbEYsYUFBYSxDQUFDaEIsSUFBSSxFQUFFOEwsU0FBUzlMLElBQUksR0FBR2tHLFdBQVdsRixhQUFhLENBQUNoQixJQUFJO0lBQ3hKLElBQUlrRyxjQUFjLFFBQVFBLFdBQVdsRixhQUFhLElBQUlrRixjQUFjLFFBQVFBLFdBQVdsRixhQUFhLENBQUNmLE1BQU0sRUFBRTZMLFNBQVM3TCxNQUFNLEdBQUdpRyxXQUFXbEYsYUFBYSxDQUFDZixNQUFNO0lBQzlKLE9BQU87UUFDTDZMO1FBQ0EzRTtJQUNGO0FBQ0Y7QUFDQSxNQUFNa0ksVUFBVSxPQUFPQyxZQUFZLGVBQWVBLGtCQUF5QjtBQUUzRSx5REFBeUQ7QUFDekQsU0FBU2xPLGFBQWFiLFFBQVEsRUFBRWlOLElBQUk7SUFDbEMsSUFBSXZIO0lBQ0osMkNBQTJDO0lBQzNDLE1BQU1DLGFBQWEzRixTQUFTVSxLQUFLO0lBQ2pDLE1BQU1kLE9BQU8rRixjQUFjLE9BQU8sS0FBSyxJQUFJQSxXQUFXL0YsSUFBSTtJQUMxRCxNQUFNcUUsWUFBWXJFLFFBQVEsT0FBTyxLQUFLLElBQUlBLEtBQUtzRSxRQUFRLElBQUksT0FBTyxLQUFLLElBQUl0RSxLQUFLc0UsUUFBUTtJQUN4RixNQUFNLEVBQ0pxSCxRQUFRLEVBQ1IzRSxPQUFPLEVBQ1IsR0FBRzBFLFVBQVUyQixRQUFRQSxPQUFPdEcsVUFBVTNHLFVBQVVpTjtJQUNqRCxNQUFNK0IsZUFBZXJKLGNBQWMsT0FBTyxLQUFLLElBQUlBLFdBQVczQixVQUFVO0lBRXhFLHlCQUF5QjtJQUN6QixJQUFJaEUsU0FBU1UsS0FBSyxFQUFFVixTQUFTVSxLQUFLLENBQUNELGFBQWEsR0FBRzhLO0lBQ25ELElBQUssSUFBSXVCLElBQUksR0FBR0EsSUFBSWxHLFFBQVFDLE1BQU0sRUFBRWlHLElBQUs7UUFDdkMsSUFBSSxDQUFDVyxLQUFLaEgsT0FBT3dJLFNBQVNsQyxLQUFLLEdBQUduRyxPQUFPLENBQUNrRyxFQUFFO1FBRTVDLDREQUE0RDtRQUM1RCx3REFBd0Q7UUFDeEQsSUFBSTNELGNBQWNuSixXQUFXO1lBQzNCLE1BQU1rUCxlQUFlO1lBQ3JCLE1BQU1DLGlCQUFpQjtZQUN2QixNQUFNQyx1QkFBdUI7WUFDN0IsSUFBSTNCLFFBQVEsWUFBWTtnQkFDdEJBLE1BQU07Z0JBQ05oSCxRQUFRQSxVQUFVeUksZUFBZUMsaUJBQWlCQztZQUNwRCxPQUFPLElBQUkzQixRQUFRLGtCQUFrQjtnQkFDbkNBLE1BQU07Z0JBQ05oSCxRQUFRQSxVQUFVeUksZUFBZUMsaUJBQWlCQztZQUNwRDtRQUNGO1FBQ0EsSUFBSUMsa0JBQWtCclA7UUFDdEIsSUFBSXNQLGFBQWFELGVBQWUsQ0FBQzVCLElBQUk7UUFFckMsdUJBQXVCO1FBQ3ZCLElBQUlWLEtBQUtsRyxNQUFNLEVBQUU7WUFDZnlJLGFBQWF2QyxLQUFLZ0IsTUFBTSxDQUFDLENBQUNDLEtBQUtQLE1BQVFPLEdBQUcsQ0FBQ1AsSUFBSSxFQUFFek47WUFDakQsMkRBQTJEO1lBQzNELElBQUksQ0FBRXNQLENBQUFBLGNBQWNBLFdBQVc5RSxHQUFHLEdBQUc7Z0JBQ25DLE1BQU0sQ0FBQzNLLE1BQU0sR0FBRzBQLGVBQWUsR0FBR3hDLEtBQUt5QyxPQUFPO2dCQUM5Q0gsa0JBQWtCRSxlQUFlQyxPQUFPLEdBQUd6QixNQUFNLENBQUMsQ0FBQ0MsS0FBS1AsTUFBUU8sR0FBRyxDQUFDUCxJQUFJLEVBQUV6TjtnQkFDMUV5TixNQUFNNU47WUFDUjtRQUNGO1FBRUEsa0RBQWtEO1FBQ2xELDBFQUEwRTtRQUMxRSwrRUFBK0U7UUFDL0Usa0RBQWtEO1FBQ2xELDREQUE0RDtRQUM1RCxJQUFJNEcsVUFBVTBFLFVBQVUsVUFBVTtZQUNoQyxJQUFJa0UsZ0JBQWdCekUsV0FBVyxFQUFFO2dCQUMvQiwwRUFBMEU7Z0JBQzFFLElBQUk2RSxPQUFPckUsU0FBU3NFLEdBQUcsQ0FBQ0wsZ0JBQWdCekUsV0FBVztnQkFDbkQsSUFBSSxDQUFDNkUsTUFBTTtvQkFDVCxtQkFBbUI7b0JBQ25CQSxPQUFPLElBQUlKLGdCQUFnQnpFLFdBQVc7b0JBQ3RDUSxTQUFTWixHQUFHLENBQUM2RSxnQkFBZ0J6RSxXQUFXLEVBQUU2RTtnQkFDNUM7Z0JBQ0FoSixRQUFRZ0osSUFBSSxDQUFDaEMsSUFBSTtZQUNuQixPQUFPO2dCQUNMLHVEQUF1RDtnQkFDdkRoSCxRQUFRO1lBQ1Y7UUFDRjtRQUVBLCtCQUErQjtRQUMvQixJQUFJd0ksV0FBV3RKLFlBQVk7WUFDekIsSUFBSWMsT0FBT2QsV0FBV0UsUUFBUSxDQUFDNEgsSUFBSSxHQUFHaEg7aUJBQVcsT0FBT2QsV0FBV0UsUUFBUSxDQUFDNEgsSUFBSTtZQUNoRjlILFdBQVczQixVQUFVLEdBQUduRixPQUFPa08sSUFBSSxDQUFDcEgsV0FBV0UsUUFBUSxFQUFFZ0IsTUFBTTtRQUNqRSxPQUVLLElBQUl5SSxjQUFjQSxXQUFXOUUsR0FBRyxJQUFLOEUsQ0FBQUEsV0FBV0ssSUFBSSxJQUFJTCxzQkFBc0J6Uix5Q0FBWSxHQUFHO1lBQ2hHLHVCQUF1QjtZQUN2QixJQUFJMEMsTUFBTUMsT0FBTyxDQUFDaUcsUUFBUTtnQkFDeEIsSUFBSTZJLFdBQVdPLFNBQVMsRUFBRVAsV0FBV08sU0FBUyxDQUFDcEo7cUJBQVk2SSxXQUFXOUUsR0FBRyxJQUFJL0Q7WUFDL0UsT0FFSyxJQUFJNkksV0FBV0ssSUFBSSxJQUFJbEosU0FBU0EsTUFBTW1FLFdBQVcsSUFDdEQsMEZBQTBGO1lBQzFGLG9EQUFvRDtZQUNwRCwwREFBMEQ7WUFDMUQsc0NBQXNDO1lBQ3RDa0UsQ0FBQUEsVUFBVVEsV0FBVzFFLFdBQVcsQ0FBQy9LLElBQUksS0FBSzRHLE1BQU1tRSxXQUFXLENBQUMvSyxJQUFJLEdBQUd5UCxXQUFXMUUsV0FBVyxLQUFLbkUsTUFBTW1FLFdBQVcsR0FBRztnQkFDaEgwRSxXQUFXSyxJQUFJLENBQUNsSjtZQUNsQixPQUdLLElBQUlBLFVBQVV2RyxXQUFXO2dCQUM1QixJQUFJNFA7Z0JBQ0osTUFBTUMsVUFBVSxDQUFDRCxjQUFjUixVQUFTLEtBQU0sT0FBTyxLQUFLLElBQUlRLFlBQVlDLE9BQU87Z0JBQ2pGLDhCQUE4QjtnQkFDOUIsSUFBSSxDQUFDQSxXQUFXVCxXQUFXVSxTQUFTLEVBQUVWLFdBQVdVLFNBQVMsQ0FBQ3ZKO3FCQUV0RCxJQUFJNkksc0JBQXNCelIseUNBQVksSUFBSTRJLGlCQUFpQjVJLHlDQUFZLEVBQUV5UixXQUFXVyxJQUFJLEdBQUd4SixNQUFNd0osSUFBSTtxQkFFckdYLFdBQVc5RSxHQUFHLENBQUMvRDtnQkFDcEIsbUVBQW1FO2dCQUNuRSwyQkFBMkI7Z0JBQzNCLHlEQUF5RDtnQkFDekQsSUFBSSxDQUFDMkMsd0JBQXdCbkYsYUFBYSxDQUFDQSxVQUFVaU0sTUFBTSxJQUFJSCxTQUFTVCxXQUFXYSxtQkFBbUI7WUFDeEc7UUFDQSxpQ0FBaUM7UUFDbkMsT0FBTztZQUNMLElBQUlDO1lBQ0pmLGVBQWUsQ0FBQzVCLElBQUksR0FBR2hIO1lBRXZCLDBDQUEwQztZQUMxQyx5REFBeUQ7WUFDekQsSUFBSSxDQUFDMkosdUJBQXVCZixlQUFlLENBQUM1QixJQUFJLEtBQUssUUFBUTJDLHFCQUFxQkMsU0FBUyxJQUMzRix1RkFBdUY7WUFDdkZoQixlQUFlLENBQUM1QixJQUFJLENBQUM2QyxNQUFNLEtBQUt6Uyw2Q0FBZ0IsSUFBSXdSLGVBQWUsQ0FBQzVCLElBQUksQ0FBQ2pPLElBQUksS0FBSzNCLG1EQUFzQixJQUFJb0csV0FBVztnQkFDckgsTUFBTXdNLFVBQVVwQixlQUFlLENBQUM1QixJQUFJO2dCQUNwQyxJQUFJdEUsY0FBY3NILFlBQVl0SCxjQUFjbEYsVUFBVXlNLEVBQUUsR0FBR0QsUUFBUUUsVUFBVSxHQUFHMU0sVUFBVXlNLEVBQUUsQ0FBQ0UsZ0JBQWdCO3FCQUFNSCxRQUFRSSxRQUFRLEdBQUc1TSxVQUFVeU0sRUFBRSxDQUFDSSxjQUFjO1lBQ25LO1FBQ0Y7UUFDQXJQLG1CQUFtQnpCO0lBQ3JCO0lBQ0EsSUFBSTJGLGNBQWNBLFdBQVdwRSxNQUFNLElBQUl2QixTQUFTK0QsT0FBTyxJQUFJaUwsaUJBQWlCckosV0FBVzNCLFVBQVUsRUFBRTtRQUNqRyx5Q0FBeUM7UUFDekMsTUFBTUcsV0FBV2pCLGdCQUFnQmxELFVBQVVrRSxRQUFRLEdBQUdDLFFBQVE7UUFDOUQsaUVBQWlFO1FBQ2pFLE1BQU1oQyxRQUFRZ0MsU0FBU0MsV0FBVyxDQUFDaEMsT0FBTyxDQUFDcEM7UUFDM0MsSUFBSW1DLFFBQVEsQ0FBQyxHQUFHZ0MsU0FBU0MsV0FBVyxDQUFDMk0sTUFBTSxDQUFDNU8sT0FBTztRQUNuRCx3RUFBd0U7UUFDeEUsSUFBSXdELFdBQVczQixVQUFVLEVBQUVHLFNBQVNDLFdBQVcsQ0FBQzlDLElBQUksQ0FBQ3RCO0lBQ3ZEO0lBRUEsNkZBQTZGO0lBQzdGLDZDQUE2QztJQUM3QyxNQUFNZ1IsYUFBYXBLLFFBQVFDLE1BQU0sS0FBSyxLQUFLRCxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSztJQUM3RCxJQUFJLENBQUNvSyxjQUFjcEssUUFBUUMsTUFBTSxJQUFJLENBQUNuQixtQkFBbUIxRixTQUFTVSxLQUFLLEtBQUssUUFBUWdGLGlCQUFpQm5FLE1BQU0sRUFBRUMsZUFBZXhCO0lBQzVILE9BQU9BO0FBQ1Q7QUFDQSxTQUFTeUIsbUJBQW1CekIsUUFBUTtJQUNsQyxJQUFJaUcsa0JBQWtCZ0w7SUFDdEIsTUFBTXBHLFFBQVEsQ0FBQzVFLG1CQUFtQmpHLFNBQVNVLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSSxDQUFDdVEsd0JBQXdCaEwsaUJBQWlCckcsSUFBSSxLQUFLLE9BQU8sS0FBSyxJQUFJcVIsc0JBQXNCL00sUUFBUSxJQUFJLE9BQU8sS0FBSyxJQUFJK00sc0JBQXNCL00sUUFBUTtJQUN4TixJQUFJMkcsU0FBU0EsTUFBTTFHLFFBQVEsQ0FBQytNLE1BQU0sS0FBSyxHQUFHckcsTUFBTXNHLFVBQVU7QUFDNUQ7QUFDQSxTQUFTM1AsZUFBZXhCLFFBQVE7SUFDOUJBLFNBQVNvUixRQUFRLElBQUksT0FBTyxLQUFLLElBQUlwUixTQUFTb1IsUUFBUSxDQUFDcFI7QUFDekQ7QUFDQSxTQUFTcVIsYUFBYUMsTUFBTSxFQUFFQyxJQUFJO0lBQ2hDLHdEQUF3RDtJQUN4RCx3REFBd0Q7SUFDeEQsSUFBSSxDQUFDRCxPQUFPRSxNQUFNLEVBQUU7UUFDbEIsSUFBSWpJLHFCQUFxQitILFNBQVM7WUFDaENBLE9BQU9HLElBQUksR0FBR0YsS0FBS0csS0FBSyxHQUFHLENBQUM7WUFDNUJKLE9BQU9LLEtBQUssR0FBR0osS0FBS0csS0FBSyxHQUFHO1lBQzVCSixPQUFPTSxHQUFHLEdBQUdMLEtBQUtNLE1BQU0sR0FBRztZQUMzQlAsT0FBT1EsTUFBTSxHQUFHUCxLQUFLTSxNQUFNLEdBQUcsQ0FBQztRQUNqQyxPQUFPO1lBQ0xQLE9BQU9TLE1BQU0sR0FBR1IsS0FBS0csS0FBSyxHQUFHSCxLQUFLTSxNQUFNO1FBQzFDO1FBQ0FQLE9BQU9VLHNCQUFzQjtRQUM3Qix5REFBeUQ7UUFDekQseURBQXlEO1FBQ3pEVixPQUFPVyxpQkFBaUI7SUFDMUI7QUFDRjtBQUVBLFNBQVNDLE9BQU9DLEtBQUs7SUFDbkIsT0FBTyxDQUFDQSxNQUFNQyxXQUFXLElBQUlELE1BQU1sUyxNQUFNLEVBQUVvUyxJQUFJLEdBQUcsTUFBTUYsTUFBTWhRLEtBQUssR0FBR2dRLE1BQU1HLFVBQVU7QUFDeEY7QUFFQSxnR0FBZ0c7QUFDaEcsaUVBQWlFO0FBQ2pFLFNBQVNDO0lBQ1AsSUFBSUM7SUFDSixpRkFBaUY7SUFDakYsd0RBQXdEO0lBQ3hELE1BQU1DLGNBQWMsT0FBT0MsU0FBUyxlQUFlQSxRQUFRLE1BQWtCLElBQWU3SSxDQUFNQTtJQUNsRyxJQUFJLENBQUM0SSxhQUFhLE9BQU8xVSw0RUFBb0JBO0lBQzdDLE1BQU04QixPQUFPLENBQUMyUyxxQkFBcUJDLFlBQVlOLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSUssbUJBQW1CaFQsSUFBSTtJQUNoRyxPQUFRSztRQUNOLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUNILE9BQU81Qiw2RUFBcUJBO1FBQzlCLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUNILE9BQU9ELCtFQUF1QkE7UUFDaEM7WUFDRSxPQUFPRCw0RUFBb0JBO0lBQy9CO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDRCxTQUFTNFUsOEJBQThCQyxXQUFXLEVBQUVsSixHQUFHLEVBQUVtSixRQUFRLEVBQUVDLFNBQVM7SUFDMUUsTUFBTUMsY0FBY0YsU0FBU25ELEdBQUcsQ0FBQ2hHO0lBQ2pDLElBQUlxSixhQUFhO1FBQ2ZGLFNBQVNHLE1BQU0sQ0FBQ3RKO1FBQ2hCLHlEQUF5RDtRQUN6RCxJQUFJbUosU0FBU3RCLElBQUksS0FBSyxHQUFHO1lBQ3ZCcUIsWUFBWUksTUFBTSxDQUFDRjtZQUNuQkMsWUFBWXpTLE1BQU0sQ0FBQzJTLHFCQUFxQixDQUFDSDtRQUMzQztJQUNGO0FBQ0Y7QUFDQSxTQUFTN1Asb0JBQW9CaVEsS0FBSyxFQUFFalQsTUFBTTtJQUN4QyxNQUFNLEVBQ0prRSxRQUFRLEVBQ1QsR0FBRytPLE1BQU1oUCxRQUFRO0lBQ2xCLHVEQUF1RDtJQUN2REMsU0FBU0MsV0FBVyxHQUFHRCxTQUFTQyxXQUFXLENBQUNuQyxNQUFNLENBQUNrUixDQUFBQSxJQUFLQSxNQUFNbFQ7SUFDOURrRSxTQUFTaVAsV0FBVyxHQUFHalAsU0FBU2lQLFdBQVcsQ0FBQ25SLE1BQU0sQ0FBQ2tSLENBQUFBLElBQUtBLE1BQU1sVDtJQUM5RGtFLFNBQVNrUCxPQUFPLENBQUM3USxPQUFPLENBQUMsQ0FBQ2lFLE9BQU9nSDtRQUMvQixJQUFJaEgsTUFBTTJMLFdBQVcsS0FBS25TLFVBQVV3RyxNQUFNeEcsTUFBTSxLQUFLQSxRQUFRO1lBQzNELGlEQUFpRDtZQUNqRGtFLFNBQVNrUCxPQUFPLENBQUNMLE1BQU0sQ0FBQ3ZGO1FBQzFCO0lBQ0Y7SUFDQXRKLFNBQVN5TyxXQUFXLENBQUNwUSxPQUFPLENBQUMsQ0FBQ3FRLFVBQVVDO1FBQ3RDSCw4QkFBOEJ4TyxTQUFTeU8sV0FBVyxFQUFFM1MsUUFBUTRTLFVBQVVDO0lBQ3hFO0FBQ0Y7QUFDQSxTQUFTUSxhQUFhSixLQUFLO0lBQ3pCLHFCQUFxQixHQUNyQixTQUFTSyxrQkFBa0JwQixLQUFLO1FBQzlCLE1BQU0sRUFDSmhPLFFBQVEsRUFDVCxHQUFHK08sTUFBTWhQLFFBQVE7UUFDbEIsTUFBTXNQLEtBQUtyQixNQUFNc0IsT0FBTyxHQUFHdFAsU0FBU3VQLFlBQVksQ0FBQyxFQUFFO1FBQ25ELE1BQU1DLEtBQUt4QixNQUFNeUIsT0FBTyxHQUFHelAsU0FBU3VQLFlBQVksQ0FBQyxFQUFFO1FBQ25ELE9BQU85SCxLQUFLaUksS0FBSyxDQUFDakksS0FBS2tJLElBQUksQ0FBQ04sS0FBS0EsS0FBS0csS0FBS0E7SUFDN0M7SUFFQSx1R0FBdUcsR0FDdkcsU0FBU0ksb0JBQW9CN1UsT0FBTztRQUNsQyxPQUFPQSxRQUFRK0MsTUFBTSxDQUFDeUgsQ0FBQUEsTUFBTztnQkFBQztnQkFBUTtnQkFBUTtnQkFBUztnQkFBTzthQUFRLENBQUNsRCxJQUFJLENBQUMzRyxDQUFBQTtnQkFDMUUsSUFBSW1NO2dCQUNKLE9BQU8sQ0FBQ0EsT0FBT3RDLElBQUloSixLQUFLLEtBQUssT0FBTyxLQUFLLElBQUlzTCxLQUFLbkcsUUFBUSxDQUFDLGNBQWNoRyxLQUFLO1lBQ2hGO0lBQ0Y7SUFDQSxTQUFTbVUsVUFBVTdCLEtBQUssRUFBRWxRLE1BQU07UUFDOUIsTUFBTTRJLFFBQVFxSSxNQUFNaFAsUUFBUTtRQUM1QixNQUFNK1AsYUFBYSxJQUFJQztRQUN2QixNQUFNQyxnQkFBZ0IsRUFBRTtRQUN4QiwyQ0FBMkM7UUFDM0MsTUFBTUMsZ0JBQWdCblMsU0FBU0EsT0FBTzRJLE1BQU0xRyxRQUFRLENBQUNDLFdBQVcsSUFBSXlHLE1BQU0xRyxRQUFRLENBQUNDLFdBQVc7UUFDOUYsMkNBQTJDO1FBQzNDLElBQUssSUFBSTBJLElBQUksR0FBR0EsSUFBSXNILGNBQWN2TixNQUFNLEVBQUVpRyxJQUFLO1lBQzdDLE1BQU1qQyxRQUFRa0IsYUFBYXFJLGFBQWEsQ0FBQ3RILEVBQUU7WUFDM0MsSUFBSWpDLE9BQU87Z0JBQ1RBLE1BQU13SixTQUFTLENBQUMvQyxNQUFNLEdBQUdwUjtZQUMzQjtRQUNGO1FBQ0EsSUFBSSxDQUFDMkssTUFBTW9CLFlBQVksRUFBRTtZQUN2QixrREFBa0Q7WUFDbERwQixNQUFNeUosTUFBTSxDQUFDQyxPQUFPLElBQUksT0FBTyxLQUFLLElBQUkxSixNQUFNeUosTUFBTSxDQUFDQyxPQUFPLENBQUNwQyxPQUFPdEg7UUFDdEU7UUFDQSxTQUFTMkosY0FBYzlLLEdBQUc7WUFDeEIsTUFBTW1CLFFBQVFrQixhQUFhckM7WUFDM0Isa0ZBQWtGO1lBQ2xGLElBQUksQ0FBQ21CLFNBQVMsQ0FBQ0EsTUFBTXlKLE1BQU0sQ0FBQ0csT0FBTyxJQUFJNUosTUFBTXdKLFNBQVMsQ0FBQy9DLE1BQU0sS0FBSyxNQUFNLE9BQU8sRUFBRTtZQUVqRixnRkFBZ0Y7WUFDaEYsSUFBSXpHLE1BQU13SixTQUFTLENBQUMvQyxNQUFNLEtBQUtwUixXQUFXO2dCQUN4QyxJQUFJd1U7Z0JBQ0o3SixNQUFNeUosTUFBTSxDQUFDQyxPQUFPLElBQUksT0FBTyxLQUFLLElBQUkxSixNQUFNeUosTUFBTSxDQUFDQyxPQUFPLENBQUNwQyxPQUFPdEgsT0FBTyxDQUFDNkosc0JBQXNCN0osTUFBTW9CLFlBQVksS0FBSyxPQUFPLEtBQUssSUFBSXlJLG9CQUFvQnhRLFFBQVE7Z0JBQ3JLLHVFQUF1RTtnQkFDdkUsSUFBSTJHLE1BQU13SixTQUFTLENBQUMvQyxNQUFNLEtBQUtwUixXQUFXMkssTUFBTXdKLFNBQVMsQ0FBQy9DLE1BQU0sR0FBRztZQUNyRTtZQUVBLDZCQUE2QjtZQUM3QixPQUFPekcsTUFBTXdKLFNBQVMsQ0FBQy9DLE1BQU0sR0FBR3pHLE1BQU13SixTQUFTLENBQUNNLGVBQWUsQ0FBQ2pMLEtBQUssUUFBUSxFQUFFO1FBQ2pGO1FBRUEsaUJBQWlCO1FBQ2pCLElBQUlrTCxPQUFPUixhQUNYLG9CQUFvQjtTQUNuQlMsT0FBTyxDQUFDTCxjQUNULHNDQUFzQztTQUNyQ00sSUFBSSxDQUFDLENBQUM1SSxHQUFHTztZQUNSLE1BQU1zSSxTQUFTaEosYUFBYUcsRUFBRWpNLE1BQU07WUFDcEMsTUFBTStVLFNBQVNqSixhQUFhVSxFQUFFeE0sTUFBTTtZQUNwQyxJQUFJLENBQUM4VSxVQUFVLENBQUNDLFFBQVEsT0FBTzlJLEVBQUUrSSxRQUFRLEdBQUd4SSxFQUFFd0ksUUFBUTtZQUN0RCxPQUFPRCxPQUFPVixNQUFNLENBQUNZLFFBQVEsR0FBR0gsT0FBT1QsTUFBTSxDQUFDWSxRQUFRLElBQUloSixFQUFFK0ksUUFBUSxHQUFHeEksRUFBRXdJLFFBQVE7UUFDbkYsRUFDQSx3QkFBd0I7U0FDdkJoVCxNQUFNLENBQUNrVCxDQUFBQTtZQUNOLE1BQU1DLEtBQUtsRCxPQUFPaUQ7WUFDbEIsSUFBSWxCLFdBQVdvQixHQUFHLENBQUNELEtBQUssT0FBTztZQUMvQm5CLFdBQVc1UyxHQUFHLENBQUMrVDtZQUNmLE9BQU87UUFDVDtRQUVBLGtEQUFrRDtRQUNsRCw4RkFBOEY7UUFDOUYsSUFBSXZLLE1BQU15SixNQUFNLENBQUNyUyxNQUFNLEVBQUUyUyxPQUFPL0osTUFBTXlKLE1BQU0sQ0FBQ3JTLE1BQU0sQ0FBQzJTLE1BQU0vSjtRQUUxRCw0REFBNEQ7UUFDNUQsS0FBSyxNQUFNeUssT0FBT1YsS0FBTTtZQUN0QixJQUFJeEMsY0FBY2tELElBQUlyVixNQUFNO1lBQzVCLGtCQUFrQjtZQUNsQixNQUFPbVMsWUFBYTtnQkFDbEIsSUFBSW1EO2dCQUNKLElBQUksQ0FBQ0EsUUFBUW5ELFlBQVkxUixLQUFLLEtBQUssUUFBUTZVLE1BQU12UixVQUFVLEVBQUVtUSxjQUFjN1MsSUFBSSxDQUFDO29CQUM5RSxHQUFHZ1UsR0FBRztvQkFDTmxEO2dCQUNGO2dCQUNBQSxjQUFjQSxZQUFZN1EsTUFBTTtZQUNsQztRQUNGO1FBRUEsb0ZBQW9GO1FBQ3BGLElBQUksZUFBZTRRLFNBQVN0SCxNQUFNMUcsUUFBUSxDQUFDeU8sV0FBVyxDQUFDeUMsR0FBRyxDQUFDbEQsTUFBTVcsU0FBUyxHQUFHO1lBQzNFLEtBQUssSUFBSUMsZUFBZWxJLE1BQU0xRyxRQUFRLENBQUN5TyxXQUFXLENBQUNsRCxHQUFHLENBQUN5QyxNQUFNVyxTQUFTLEVBQUUwQyxNQUFNLEdBQUk7Z0JBQ2hGLElBQUksQ0FBQ3ZCLFdBQVdvQixHQUFHLENBQUNuRCxPQUFPYSxZQUFZMEMsWUFBWSxJQUFJdEIsY0FBYzdTLElBQUksQ0FBQ3lSLFlBQVkwQyxZQUFZO1lBQ3BHO1FBQ0Y7UUFDQSxPQUFPdEI7SUFDVDtJQUVBLDBEQUEwRCxHQUMxRCxTQUFTdUIsaUJBQWlCdkIsYUFBYSxFQUFFaEMsS0FBSyxFQUFFd0QsS0FBSyxFQUFFclMsUUFBUTtRQUM3RCxNQUFNVyxZQUFZaVAsTUFBTWhQLFFBQVE7UUFFaEMsZ0VBQWdFO1FBQ2hFLElBQUlpUSxjQUFjdE4sTUFBTSxFQUFFO1lBQ3hCLE1BQU1sQixhQUFhO2dCQUNqQmlRLFNBQVM7WUFDWDtZQUNBLEtBQUssTUFBTU4sT0FBT25CLGNBQWU7Z0JBQy9CLE1BQU10SixRQUFRa0IsYUFBYXVKLElBQUlyVixNQUFNLEtBQUtnRTtnQkFDMUMsTUFBTSxFQUNKb1EsU0FBUyxFQUNUd0IsT0FBTyxFQUNQdkUsTUFBTSxFQUNObk4sUUFBUSxFQUNULEdBQUcwRztnQkFDSixNQUFNaUwsbUJBQW1CLElBQUlqWSwwQ0FBYSxDQUFDZ1ksUUFBUWhULENBQUMsRUFBRWdULFFBQVFHLENBQUMsRUFBRSxHQUFHQyxTQUFTLENBQUMzRTtnQkFDOUUsTUFBTTRFLG9CQUFvQmQsQ0FBQUE7b0JBQ3hCLElBQUllLHVCQUF1QkM7b0JBQzNCLE9BQU8sQ0FBQ0Qsd0JBQXdCLENBQUNDLHlCQUF5QmpTLFNBQVN5TyxXQUFXLENBQUNsRCxHQUFHLENBQUMwRixHQUFFLEtBQU0sT0FBTyxLQUFLLElBQUlnQix1QkFBdUJmLEdBQUcsQ0FBQ0MsSUFBSWxELFdBQVcsTUFBTSxPQUFPK0Qsd0JBQXdCO2dCQUM1TDtnQkFDQSxNQUFNRSxvQkFBb0JqQixDQUFBQTtvQkFDeEIsTUFBTXJDLGNBQWM7d0JBQ2xCMEMsY0FBY0g7d0JBQ2RoVixRQUFRNlIsTUFBTTdSLE1BQU07b0JBQ3RCO29CQUNBLElBQUk2RCxTQUFTeU8sV0FBVyxDQUFDeUMsR0FBRyxDQUFDRCxLQUFLO3dCQUNoQyxrRUFBa0U7d0JBQ2xFLHFCQUFxQjt3QkFDckJqUixTQUFTeU8sV0FBVyxDQUFDbEQsR0FBRyxDQUFDMEYsSUFBSTVLLEdBQUcsQ0FBQzhLLElBQUlsRCxXQUFXLEVBQUVXO29CQUNwRCxPQUFPO3dCQUNMLGdFQUFnRTt3QkFDaEUsK0RBQStEO3dCQUMvRCxpQkFBaUI7d0JBQ2pCNU8sU0FBU3lPLFdBQVcsQ0FBQ3BJLEdBQUcsQ0FBQzRLLElBQUksSUFBSS9KLElBQUk7NEJBQUM7Z0NBQUNpSyxJQUFJbEQsV0FBVztnQ0FBRVc7NkJBQVk7eUJBQUM7b0JBQ3ZFO29CQUNBWixNQUFNN1IsTUFBTSxDQUFDK1YsaUJBQWlCLENBQUNqQjtnQkFDakM7Z0JBQ0EsTUFBTW5DLHdCQUF3Qm1DLENBQUFBO29CQUM1QixNQUFNdkMsV0FBVzFPLFNBQVN5TyxXQUFXLENBQUNsRCxHQUFHLENBQUMwRjtvQkFDMUMsSUFBSXZDLFVBQVU7d0JBQ1pGLDhCQUE4QnhPLFNBQVN5TyxXQUFXLEVBQUUwQyxJQUFJbEQsV0FBVyxFQUFFUyxVQUFVdUM7b0JBQ2pGO2dCQUNGO2dCQUVBLHlCQUF5QjtnQkFDekIsSUFBSWtCLG9CQUFvQixDQUFDO2dCQUN6Qix1YUFBdWE7Z0JBQ3ZhLElBQUssSUFBSTFILFFBQVF1RCxNQUFPO29CQUN0QixJQUFJb0UsV0FBV3BFLEtBQUssQ0FBQ3ZELEtBQUs7b0JBQzFCLG1FQUFtRTtvQkFDbkUsbUNBQW1DO29CQUNuQyxJQUFJLE9BQU8ySCxhQUFhLFlBQVlELGlCQUFpQixDQUFDMUgsS0FBSyxHQUFHMkg7Z0JBQ2hFO2dCQUNBLElBQUlDLGVBQWU7b0JBQ2pCLEdBQUdsQixHQUFHO29CQUNOLEdBQUdnQixpQkFBaUI7b0JBQ3BCVDtvQkFDQTFCO29CQUNBeUIsU0FBU2pRLFdBQVdpUSxPQUFPO29CQUMzQkQ7b0JBQ0FHO29CQUNBVyxLQUFLcEMsVUFBVW9DLEdBQUc7b0JBQ2xCbkYsUUFBUUE7b0JBQ1IsaURBQWlEO29CQUNqRG9GO3dCQUNFLHlEQUF5RDt3QkFDekQsOEVBQThFO3dCQUM5RSxNQUFNQyxxQkFBcUIsZUFBZXhFLFNBQVNoTyxTQUFTeU8sV0FBVyxDQUFDbEQsR0FBRyxDQUFDeUMsTUFBTVcsU0FBUzt3QkFFM0YsdUNBQXVDO3dCQUN2QyxJQUNBLDBDQUEwQzt3QkFDMUMsQ0FBQzZELHNCQUNELG9EQUFvRDt3QkFDcERBLG1CQUFtQnRCLEdBQUcsQ0FBQ0MsSUFBSWxELFdBQVcsR0FBRzs0QkFDdkNvRSxhQUFhWixPQUFPLEdBQUdqUSxXQUFXaVEsT0FBTyxHQUFHOzRCQUM1Qyx5REFBeUQ7NEJBQ3pELG1GQUFtRjs0QkFDbkYsSUFBSXpSLFNBQVNrUCxPQUFPLENBQUM5QixJQUFJLElBQUloUixNQUFNcVcsSUFBSSxDQUFDelMsU0FBU2tQLE9BQU8sQ0FBQ21DLE1BQU0sSUFBSXFCLElBQUksQ0FBQy9KLENBQUFBLElBQUtBLEVBQUVzRixXQUFXLEtBQUtrRCxJQUFJbEQsV0FBVyxHQUFHO2dDQUMvRyxnRkFBZ0Y7Z0NBQ2hGLE1BQU0wRSxTQUFTM0MsY0FBY3BVLEtBQUssQ0FBQyxHQUFHb1UsY0FBYy9SLE9BQU8sQ0FBQ2tUO2dDQUM1RHlCLGNBQWM7dUNBQUlEO29DQUFReEI7aUNBQUk7NEJBQ2hDO3dCQUNGO29CQUNGO29CQUNBLGlFQUFpRTtvQkFDakVoVixRQUFRO3dCQUNONFY7d0JBQ0FHO3dCQUNBcEQ7b0JBQ0Y7b0JBQ0ErRCxlQUFlO3dCQUNiZDt3QkFDQUc7d0JBQ0FwRDtvQkFDRjtvQkFDQWdFLGFBQWE5RTtnQkFDZjtnQkFFQSxtQkFBbUI7Z0JBQ25CN08sU0FBU2tUO2dCQUNULHVEQUF1RDtnQkFDdkQsSUFBSTdRLFdBQVdpUSxPQUFPLEtBQUssTUFBTTtZQUNuQztRQUNGO1FBQ0EsT0FBT3pCO0lBQ1Q7SUFDQSxTQUFTNEMsY0FBYzVDLGFBQWE7UUFDbEMsTUFBTSxFQUNKaFEsUUFBUSxFQUNULEdBQUcrTyxNQUFNaFAsUUFBUTtRQUNsQixLQUFLLE1BQU1nVCxjQUFjL1MsU0FBU2tQLE9BQU8sQ0FBQ21DLE1BQU0sR0FBSTtZQUNsRCx3RkFBd0Y7WUFDeEYsMkVBQTJFO1lBQzNFLElBQUksQ0FBQ3JCLGNBQWN0TixNQUFNLElBQUksQ0FBQ3NOLGNBQWMwQyxJQUFJLENBQUN2QixDQUFBQSxNQUFPQSxJQUFJclYsTUFBTSxLQUFLaVgsV0FBV2pYLE1BQU0sSUFBSXFWLElBQUluVCxLQUFLLEtBQUsrVSxXQUFXL1UsS0FBSyxJQUFJbVQsSUFBSWhELFVBQVUsS0FBSzRFLFdBQVc1RSxVQUFVLEdBQUc7Z0JBQ3ZLLE1BQU1GLGNBQWM4RSxXQUFXOUUsV0FBVztnQkFDMUMsTUFBTXBTLFdBQVdvUyxZQUFZMVIsS0FBSztnQkFDbEMsTUFBTW1GLFdBQVc3RixZQUFZLE9BQU8sS0FBSyxJQUFJQSxTQUFTNkYsUUFBUTtnQkFDOUQxQixTQUFTa1AsT0FBTyxDQUFDTCxNQUFNLENBQUNkLE9BQU9nRjtnQkFDL0IsSUFBSWxYLFlBQVksUUFBUUEsU0FBU2dFLFVBQVUsRUFBRTtvQkFDM0MsaURBQWlEO29CQUNqRCxNQUFNaUosT0FBTzt3QkFDWCxHQUFHaUssVUFBVTt3QkFDYi9DO29CQUNGO29CQUNBdE8sU0FBU3NSLFlBQVksSUFBSSxPQUFPLEtBQUssSUFBSXRSLFNBQVNzUixZQUFZLENBQUNsSztvQkFDL0RwSCxTQUFTdVIsY0FBYyxJQUFJLE9BQU8sS0FBSyxJQUFJdlIsU0FBU3VSLGNBQWMsQ0FBQ25LO2dCQUNyRTtZQUNGO1FBQ0Y7SUFDRjtJQUNBLFNBQVNvSyxjQUFjbEYsS0FBSyxFQUFFalQsT0FBTztRQUNuQyxJQUFLLElBQUk0TixJQUFJLEdBQUdBLElBQUk1TixRQUFRMkgsTUFBTSxFQUFFaUcsSUFBSztZQUN2QyxNQUFNOU0sV0FBV2QsT0FBTyxDQUFDNE4sRUFBRSxDQUFDcE0sS0FBSztZQUNqQ1YsWUFBWSxPQUFPLEtBQUssSUFBSUEsU0FBUzZGLFFBQVEsQ0FBQ3lSLGVBQWUsSUFBSSxPQUFPLEtBQUssSUFBSXRYLFNBQVM2RixRQUFRLENBQUN5UixlQUFlLENBQUNuRjtRQUNySDtJQUNGO0lBQ0EsU0FBU29GLGNBQWMxWCxJQUFJO1FBQ3pCLHdCQUF3QjtRQUN4QixPQUFRQTtZQUNOLEtBQUs7WUFDTCxLQUFLO2dCQUNILE9BQU8sSUFBTWtYLGNBQWMsRUFBRTtZQUMvQixLQUFLO2dCQUNILE9BQU81RSxDQUFBQTtvQkFDTCxNQUFNLEVBQ0poTyxRQUFRLEVBQ1QsR0FBRytPLE1BQU1oUCxRQUFRO29CQUNsQixJQUFJLGVBQWVpTyxTQUFTaE8sU0FBU3lPLFdBQVcsQ0FBQ3lDLEdBQUcsQ0FBQ2xELE1BQU1XLFNBQVMsR0FBRzt3QkFDckUscUZBQXFGO3dCQUNyRiwyRkFBMkY7d0JBQzNGLDBGQUEwRjt3QkFDMUYscUZBQXFGO3dCQUNyRjBFLHNCQUFzQjs0QkFDcEIsa0RBQWtEOzRCQUNsRCxJQUFJclQsU0FBU3lPLFdBQVcsQ0FBQ3lDLEdBQUcsQ0FBQ2xELE1BQU1XLFNBQVMsR0FBRztnQ0FDN0MzTyxTQUFTeU8sV0FBVyxDQUFDSSxNQUFNLENBQUNiLE1BQU1XLFNBQVM7Z0NBQzNDaUUsY0FBYyxFQUFFOzRCQUNsQjt3QkFDRjtvQkFDRjtnQkFDRjtRQUNKO1FBRUEsa0NBQWtDO1FBQ2xDLE9BQU8sU0FBU1UsWUFBWXRGLEtBQUs7WUFDL0IsTUFBTSxFQUNKbUYsZUFBZSxFQUNmblQsUUFBUSxFQUNULEdBQUcrTyxNQUFNaFAsUUFBUTtZQUVsQixvQkFBb0I7WUFDcEJDLFNBQVN1VCxTQUFTLENBQUNsVCxPQUFPLEdBQUcyTjtZQUU3Qix1QkFBdUI7WUFDdkIsTUFBTXdGLGdCQUFnQjlYLFNBQVM7WUFDL0IsTUFBTStYLGVBQWUvWCxTQUFTLGFBQWFBLFNBQVMsbUJBQW1CQSxTQUFTO1lBQ2hGLE1BQU1vQyxTQUFTMFYsZ0JBQWdCNUQsc0JBQXNCN1Q7WUFDckQsTUFBTTBVLE9BQU9aLFVBQVU3QixPQUFPbFE7WUFDOUIsTUFBTTBULFFBQVFpQyxlQUFlckUsa0JBQWtCcEIsU0FBUztZQUV4RCwyQ0FBMkM7WUFDM0MsSUFBSXRTLFNBQVMsaUJBQWlCO2dCQUM1QnNFLFNBQVN1UCxZQUFZLEdBQUc7b0JBQUN2QixNQUFNc0IsT0FBTztvQkFBRXRCLE1BQU15QixPQUFPO2lCQUFDO2dCQUN0RHpQLFNBQVNpUCxXQUFXLEdBQUd3QixLQUFLaUQsR0FBRyxDQUFDdkMsQ0FBQUEsTUFBT0EsSUFBSWxELFdBQVc7WUFDeEQ7WUFFQSxtRUFBbUU7WUFDbkUsd0ZBQXdGO1lBQ3hGLElBQUl3RixnQkFBZ0IsQ0FBQ2hELEtBQUsvTixNQUFNLEVBQUU7Z0JBQ2hDLElBQUk4TyxTQUFTLEdBQUc7b0JBQ2QwQixjQUFjbEYsT0FBT2hPLFNBQVNDLFdBQVc7b0JBQ3pDLElBQUlrVCxpQkFBaUJBLGdCQUFnQm5GO2dCQUN2QztZQUNGO1lBQ0EsdUJBQXVCO1lBQ3ZCLElBQUl3RixlQUFlWixjQUFjbkM7WUFDakMsU0FBU2tELFlBQVk3SyxJQUFJO2dCQUN2QixNQUFNbUYsY0FBY25GLEtBQUttRixXQUFXO2dCQUNwQyxNQUFNcFMsV0FBV29TLFlBQVkxUixLQUFLO2dCQUNsQyxNQUFNbUYsV0FBVzdGLFlBQVksT0FBTyxLQUFLLElBQUlBLFNBQVM2RixRQUFRO2dCQUU5RCw2QkFBNkI7Z0JBQzdCLElBQUksQ0FBRTdGLENBQUFBLFlBQVksUUFBUUEsU0FBU2dFLFVBQVUsR0FBRztnQkFFaEQ7Ozs7Ozs7Ozs7Ozs7U0FhQyxHQUVELElBQUkyVCxlQUFlO29CQUNqQixpQkFBaUI7b0JBQ2pCLElBQUk5UixTQUFTa1MsYUFBYSxJQUFJbFMsU0FBU21TLGNBQWMsSUFBSW5TLFNBQVNzUixZQUFZLElBQUl0UixTQUFTdVIsY0FBYyxFQUFFO3dCQUN6Ryx3REFBd0Q7d0JBQ3hELE1BQU1oQyxLQUFLbEQsT0FBT2pGO3dCQUNsQixNQUFNZ0wsY0FBYzlULFNBQVNrUCxPQUFPLENBQUMzRCxHQUFHLENBQUMwRjt3QkFDekMsSUFBSSxDQUFDNkMsYUFBYTs0QkFDaEIsd0VBQXdFOzRCQUN4RTlULFNBQVNrUCxPQUFPLENBQUM3SSxHQUFHLENBQUM0SyxJQUFJbkk7NEJBQ3pCcEgsU0FBU2tTLGFBQWEsSUFBSSxPQUFPLEtBQUssSUFBSWxTLFNBQVNrUyxhQUFhLENBQUM5Szs0QkFDakVwSCxTQUFTbVMsY0FBYyxJQUFJLE9BQU8sS0FBSyxJQUFJblMsU0FBU21TLGNBQWMsQ0FBQy9LO3dCQUNyRSxPQUFPLElBQUlnTCxZQUFZckMsT0FBTyxFQUFFOzRCQUM5Qiw4RkFBOEY7NEJBQzlGM0ksS0FBS3lKLGVBQWU7d0JBQ3RCO29CQUNGO29CQUNBLGtCQUFrQjtvQkFDbEI3USxTQUFTcVMsYUFBYSxJQUFJLE9BQU8sS0FBSyxJQUFJclMsU0FBU3FTLGFBQWEsQ0FBQ2pMO2dCQUNuRSxPQUFPO29CQUNMLHVCQUF1QjtvQkFDdkIsTUFBTWtMLFVBQVV0UyxRQUFRLENBQUNoRyxLQUFLO29CQUM5QixJQUFJc1ksU0FBUzt3QkFDWCwyRkFBMkY7d0JBQzNGLG9DQUFvQzt3QkFDcEMsSUFBSSxDQUFDUCxnQkFBZ0J6VCxTQUFTaVAsV0FBVyxDQUFDMUYsUUFBUSxDQUFDMEUsY0FBYzs0QkFDL0QsbUNBQW1DOzRCQUNuQ2lGLGNBQWNsRixPQUFPaE8sU0FBU0MsV0FBVyxDQUFDbkMsTUFBTSxDQUFDaEMsQ0FBQUEsU0FBVSxDQUFDa0UsU0FBU2lQLFdBQVcsQ0FBQzFGLFFBQVEsQ0FBQ3pOOzRCQUMxRix1QkFBdUI7NEJBQ3ZCa1ksUUFBUWxMO3dCQUNWO29CQUNGLE9BQU87d0JBQ0wsNkdBQTZHO3dCQUM3RyxJQUFJMkssZ0JBQWdCelQsU0FBU2lQLFdBQVcsQ0FBQzFGLFFBQVEsQ0FBQzBFLGNBQWM7NEJBQzlEaUYsY0FBY2xGLE9BQU9oTyxTQUFTQyxXQUFXLENBQUNuQyxNQUFNLENBQUNoQyxDQUFBQSxTQUFVLENBQUNrRSxTQUFTaVAsV0FBVyxDQUFDMUYsUUFBUSxDQUFDek47d0JBQzVGO29CQUNGO2dCQUNGO1lBQ0Y7WUFDQXlWLGlCQUFpQmQsTUFBTXpDLE9BQU93RCxPQUFPbUM7UUFDdkM7SUFDRjtJQUNBLE9BQU87UUFDTFA7SUFDRjtBQUNGO0FBRUEsbURBQW1EO0FBQ25ELE1BQU1hLGNBQWM7SUFBQztJQUFPO0lBQU87SUFBVztJQUFnQjtJQUFVO0lBQVU7SUFBYztJQUFXO0lBQVE7Q0FBVztBQUM5SCxNQUFNQyxhQUFhN08sQ0FBQUEsTUFBTyxDQUFDLENBQUVBLENBQUFBLE9BQU8sUUFBUUEsSUFBSXlCLE1BQU07QUFDdEQsTUFBTXFOLFVBQVUsV0FBVyxHQUFFeGEsZ0RBQW1CLENBQUM7QUFDakQsTUFBTTBhLGNBQWMsQ0FBQ3JILFlBQVlzSDtJQUMvQixNQUFNeFUsWUFBWTlGLG1EQUFNQSxDQUFDLENBQUNxTSxLQUFLa0Y7UUFDN0IsTUFBTWdKLFdBQVcsSUFBSTdhLDBDQUFhO1FBQ2xDLE1BQU04YSxnQkFBZ0IsSUFBSTlhLDBDQUFhO1FBQ3ZDLE1BQU0rYSxhQUFhLElBQUkvYSwwQ0FBYTtRQUNwQyxTQUFTZ2IsbUJBQW1CdkgsU0FBUzVCLE1BQU00QixNQUFNLEVBQUVoUixTQUFTcVksYUFBYSxFQUFFcEgsT0FBTzdCLE1BQU02QixJQUFJO1lBQzFGLE1BQU0sRUFDSkcsS0FBSyxFQUNMRyxNQUFNLEVBQ05ELEdBQUcsRUFDSEgsSUFBSSxFQUNMLEdBQUdGO1lBQ0osTUFBTVEsU0FBU0wsUUFBUUc7WUFDdkIsSUFBSXZSLE9BQU93WSxTQUFTLEVBQUVGLFdBQVdqSixJQUFJLENBQUNyUDtpQkFBYXNZLFdBQVdwTyxHQUFHLElBQUlsSztZQUNyRSxNQUFNMlUsV0FBVzNELE9BQU95SCxnQkFBZ0IsQ0FBQ0wsVUFBVU0sVUFBVSxDQUFDSjtZQUM5RCxJQUFJclAscUJBQXFCK0gsU0FBUztnQkFDaEMsT0FBTztvQkFDTEksT0FBT0EsUUFBUUosT0FBTzJILElBQUk7b0JBQzFCcEgsUUFBUUEsU0FBU1AsT0FBTzJILElBQUk7b0JBQzVCckg7b0JBQ0FIO29CQUNBeUgsUUFBUTtvQkFDUmpFO29CQUNBbEQ7Z0JBQ0Y7WUFDRixPQUFPO2dCQUNMLE1BQU1vSCxNQUFNN0gsT0FBTzZILEdBQUcsR0FBR3ZOLEtBQUt3TixFQUFFLEdBQUcsS0FBSyxrQ0FBa0M7Z0JBQzFFLE1BQU1DLElBQUksSUFBSXpOLEtBQUswTixHQUFHLENBQUNILE1BQU0sS0FBS2xFLFVBQVUsaUJBQWlCO2dCQUM3RCxNQUFNc0UsSUFBSUYsSUFBSzNILENBQUFBLFFBQVFHLE1BQUs7Z0JBQzVCLE9BQU87b0JBQ0xILE9BQU82SDtvQkFDUDFILFFBQVF3SDtvQkFDUnpIO29CQUNBSDtvQkFDQXlILFFBQVF4SCxRQUFRNkg7b0JBQ2hCdEU7b0JBQ0FsRDtnQkFDRjtZQUNGO1FBQ0Y7UUFDQSxJQUFJeUgscUJBQXFCdFo7UUFDekIsTUFBTXVaLHdCQUF3QmpWLENBQUFBLFVBQVdnRyxJQUFJSyxDQUFBQSxRQUFVO29CQUNyRHJDLGFBQWE7d0JBQ1gsR0FBR3FDLE1BQU1yQyxXQUFXO3dCQUNwQmhFO29CQUNGO2dCQUNGO1FBQ0EsTUFBTXFSLFVBQVUsSUFBSWhZLDBDQUFhO1FBQ2pDLE1BQU1vRyxZQUFZO1lBQ2hCdUc7WUFDQWtGO1lBQ0EsMENBQTBDO1lBQzFDZ0IsSUFBSTtZQUNKWSxRQUFRO1lBQ1IrQyxXQUFXO1lBQ1hDLFFBQVE7Z0JBQ05ZLFVBQVU7Z0JBQ1ZULFNBQVM7Z0JBQ1RrRixXQUFXO1lBQ2I7WUFDQUMsSUFBSTtZQUNKelUsT0FBTztZQUNQZ00sWUFBWSxDQUFDRCxTQUFTLENBQUMsR0FBS0MsV0FBV3pCLE9BQU93QjtZQUM5Q3VILFNBQVMsQ0FBQ29CLFdBQVdDLG1CQUFxQnJCLFFBQVFvQixXQUFXQyxrQkFBa0JwSztZQUMvRXFLLFFBQVE7WUFDUjdKLFFBQVE7WUFDUjhKLE1BQU07WUFDTkMsVUFBVTtZQUNWQyxPQUFPLElBQUlyYyx3Q0FBVztZQUN0QmdZO1lBQ0F1RSxPQUFPdkU7WUFDUHdFLFdBQVc7WUFDWC9DLGlCQUFpQnBYO1lBQ2pCc0ksYUFBYTtnQkFDWGhFLFNBQVM7Z0JBQ1RxSCxLQUFLO2dCQUNMQyxLQUFLO2dCQUNMd08sVUFBVTtnQkFDVkMsU0FBUztvQkFDUCxNQUFNMVAsUUFBUTZFO29CQUNkLGdCQUFnQjtvQkFDaEIsSUFBSThKLG9CQUFvQnpRLGFBQWF5UTtvQkFDckMsOEJBQThCO29CQUM5QixJQUFJM08sTUFBTXJDLFdBQVcsQ0FBQ2hFLE9BQU8sS0FBS3FHLE1BQU1yQyxXQUFXLENBQUNxRCxHQUFHLEVBQUU0TixzQkFBc0I1TyxNQUFNckMsV0FBVyxDQUFDcUQsR0FBRztvQkFDcEcsd0ZBQXdGO29CQUN4RjJOLHFCQUFxQjNRLFdBQVcsSUFBTTRRLHNCQUFzQi9KLE1BQU1sSCxXQUFXLENBQUNzRCxHQUFHLEdBQUdqQixNQUFNckMsV0FBVyxDQUFDOFIsUUFBUTtnQkFDaEg7WUFDRjtZQUNBL0ksTUFBTTtnQkFDSkcsT0FBTztnQkFDUEcsUUFBUTtnQkFDUkQsS0FBSztnQkFDTEgsTUFBTTtnQkFDTitJLGFBQWE7WUFDZjtZQUNBQyxVQUFVO2dCQUNSQyxZQUFZO2dCQUNaalAsS0FBSztnQkFDTGlHLE9BQU87Z0JBQ1BHLFFBQVE7Z0JBQ1JELEtBQUs7Z0JBQ0xILE1BQU07Z0JBQ05NLFFBQVE7Z0JBQ1JrRCxVQUFVO2dCQUNWaUUsUUFBUTtnQkFDUkw7WUFDRjtZQUNBOEIsV0FBV3JHLENBQUFBLFNBQVU5SixJQUFJSyxDQUFBQSxRQUFVO3dCQUNqQyxHQUFHQSxLQUFLO3dCQUNSeUosUUFBUTs0QkFDTixHQUFHekosTUFBTXlKLE1BQU07NEJBQ2YsR0FBR0EsTUFBTTt3QkFDWDtvQkFDRjtZQUNBc0csU0FBUyxDQUFDbEosT0FBT0csUUFBUTJJLGFBQWE1SSxLQUFLSDtnQkFDekMsTUFBTUgsU0FBUzVCLE1BQU00QixNQUFNO2dCQUMzQixNQUFNQyxPQUFPO29CQUNYRztvQkFDQUc7b0JBQ0FELEtBQUtBLE9BQU87b0JBQ1pILE1BQU1BLFFBQVE7b0JBQ2QrSTtnQkFDRjtnQkFDQWhRLElBQUlLLENBQUFBLFFBQVU7d0JBQ1owRzt3QkFDQWtKLFVBQVU7NEJBQ1IsR0FBRzVQLE1BQU00UCxRQUFROzRCQUNqQixHQUFHNUIsbUJBQW1CdkgsUUFBUXFILGVBQWVwSCxLQUFLO3dCQUNwRDtvQkFDRjtZQUNGO1lBQ0FzSixRQUFRcFAsQ0FBQUEsTUFBT2pCLElBQUlLLENBQUFBO29CQUNqQixNQUFNaVEsV0FBV3RQLGFBQWFDO29CQUM5QixPQUFPO3dCQUNMZ1AsVUFBVTs0QkFDUixHQUFHNVAsTUFBTTRQLFFBQVE7NEJBQ2pCaFAsS0FBS3FQOzRCQUNMSixZQUFZN1AsTUFBTTRQLFFBQVEsQ0FBQ0MsVUFBVSxJQUFJSTt3QkFDM0M7b0JBQ0Y7Z0JBQ0Y7WUFDQUMsY0FBYyxDQUFDVixZQUFZLFFBQVE7Z0JBQ2pDLE1BQU1ILFFBQVF4SyxNQUFNd0ssS0FBSztnQkFFekIsaUZBQWlGO2dCQUNqRkEsTUFBTWMsSUFBSTtnQkFDVmQsTUFBTWUsV0FBVyxHQUFHO2dCQUNwQixJQUFJWixjQUFjLFNBQVM7b0JBQ3pCSCxNQUFNZ0IsS0FBSztvQkFDWGhCLE1BQU1lLFdBQVcsR0FBRztnQkFDdEI7Z0JBQ0F6USxJQUFJLElBQU87d0JBQ1Q2UDtvQkFDRjtZQUNGO1lBQ0FwTyxjQUFjL0w7WUFDZGlFLFVBQVU7Z0JBQ1JnWCxRQUFRO2dCQUNSakcsVUFBVTtnQkFDVmhFLFFBQVE7Z0JBQ1J3RyxXQUFXLFdBQVcsR0FBRTVaLDRDQUFlO2dCQUN2Q3NHLGFBQWEsRUFBRTtnQkFDZmlQLFNBQVMsSUFBSWhJO2dCQUNiZ1EsYUFBYSxFQUFFO2dCQUNmM0gsY0FBYztvQkFBQztvQkFBRztpQkFBRTtnQkFDcEJOLGFBQWEsRUFBRTtnQkFDZlIsYUFBYSxJQUFJdkg7Z0JBQ2pCaVEsV0FBVyxDQUFDL1csS0FBSzJRLFVBQVVoQztvQkFDekIsTUFBTS9PLFdBQVd1TCxNQUFNdkwsUUFBUTtvQkFDL0IsbUZBQW1GO29CQUNuRixpRkFBaUY7b0JBQ2pGLDZFQUE2RTtvQkFDN0UsdURBQXVEO29CQUN2REEsU0FBUytRLFFBQVEsR0FBRy9RLFNBQVMrUSxRQUFRLEdBQUlBLENBQUFBLFdBQVcsSUFBSSxJQUFJO29CQUM1RC9RLFNBQVNrWCxXQUFXLENBQUMvWixJQUFJLENBQUM7d0JBQ3hCaUQ7d0JBQ0EyUTt3QkFDQWhDO29CQUNGO29CQUNBLHVFQUF1RTtvQkFDdkUsNkRBQTZEO29CQUM3RC9PLFNBQVNrWCxXQUFXLEdBQUdsWCxTQUFTa1gsV0FBVyxDQUFDdkcsSUFBSSxDQUFDLENBQUM1SSxHQUFHTyxJQUFNUCxFQUFFZ0osUUFBUSxHQUFHekksRUFBRXlJLFFBQVE7b0JBQ2xGLE9BQU87d0JBQ0wsTUFBTS9RLFdBQVd1TCxNQUFNdkwsUUFBUTt3QkFDL0IsSUFBSUEsWUFBWSxRQUFRQSxTQUFTa1gsV0FBVyxFQUFFOzRCQUM1QywyREFBMkQ7NEJBQzNEbFgsU0FBUytRLFFBQVEsR0FBRy9RLFNBQVMrUSxRQUFRLEdBQUlBLENBQUFBLFdBQVcsSUFBSSxJQUFJOzRCQUM1RCw4QkFBOEI7NEJBQzlCL1EsU0FBU2tYLFdBQVcsR0FBR2xYLFNBQVNrWCxXQUFXLENBQUNwWixNQUFNLENBQUNzWixDQUFBQSxJQUFLQSxFQUFFaFgsR0FBRyxLQUFLQTt3QkFDcEU7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0EsT0FBT047SUFDVDtJQUNBLE1BQU00RyxRQUFRNUcsVUFBVUMsUUFBUTtJQUNoQyxJQUFJc1gsVUFBVTNRLE1BQU0wRyxJQUFJO0lBQ3hCLElBQUlrSyxTQUFTNVEsTUFBTTRQLFFBQVEsQ0FBQ2hQLEdBQUc7SUFDL0IsSUFBSWlRLFlBQVk3USxNQUFNeUcsTUFBTTtJQUM1QnJOLFVBQVVxWCxTQUFTLENBQUM7UUFDbEIsTUFBTSxFQUNKaEssTUFBTSxFQUNOQyxJQUFJLEVBQ0prSixRQUFRLEVBQ1IvSixFQUFFLEVBQ0ZsRyxHQUFHLEVBQ0osR0FBR3ZHLFVBQVVDLFFBQVE7UUFFdEIsK0RBQStEO1FBQy9ELElBQUlxTixLQUFLRyxLQUFLLEtBQUs4SixRQUFROUosS0FBSyxJQUFJSCxLQUFLTSxNQUFNLEtBQUsySixRQUFRM0osTUFBTSxJQUFJNEksU0FBU2hQLEdBQUcsS0FBS2dRLFFBQVE7WUFDN0YsSUFBSUU7WUFDSkgsVUFBVWpLO1lBQ1ZrSyxTQUFTaEIsU0FBU2hQLEdBQUc7WUFDckIsMkJBQTJCO1lBQzNCNEYsYUFBYUMsUUFBUUM7WUFDckJiLEdBQUdrTCxhQUFhLENBQUNuQixTQUFTaFAsR0FBRztZQUM3QixNQUFNK08sY0FBYyxDQUFDbUIsb0JBQW9CcEssS0FBS2lKLFdBQVcsS0FBSyxPQUFPbUIsb0JBQW9CLE9BQU9FLHNCQUFzQixlQUFlbkwsR0FBR29MLFVBQVUsWUFBWUQ7WUFDOUpuTCxHQUFHa0ssT0FBTyxDQUFDckosS0FBS0csS0FBSyxFQUFFSCxLQUFLTSxNQUFNLEVBQUUySTtRQUN0QztRQUVBLDBDQUEwQztRQUMxQyxJQUFJbEosV0FBV29LLFdBQVc7WUFDeEJBLFlBQVlwSztZQUNaLGtCQUFrQjtZQUNsQjlHLElBQUlLLENBQUFBLFFBQVU7b0JBQ1o0UCxVQUFVO3dCQUNSLEdBQUc1UCxNQUFNNFAsUUFBUTt3QkFDakIsR0FBRzVQLE1BQU00UCxRQUFRLENBQUM1QixrQkFBa0IsQ0FBQ3ZILE9BQU87b0JBQzlDO2dCQUNGO1FBQ0Y7SUFDRjtJQUVBLDJCQUEyQjtJQUMzQnJOLFVBQVVxWCxTQUFTLENBQUN6USxDQUFBQSxRQUFTc0csV0FBV3RHO0lBRXhDLG9CQUFvQjtJQUNwQixPQUFPNUc7QUFDVDtBQUVBLFNBQVM4WCxXQUFXelksUUFBUSxFQUFFMFksSUFBSTtJQUNoQyxNQUFNQyxNQUFNO1FBQ1YzWTtJQUNGO0lBQ0EwWSxLQUFLM2EsR0FBRyxDQUFDNGE7SUFDVCxPQUFPLElBQU0sS0FBS0QsS0FBS2hKLE1BQU0sQ0FBQ2lKO0FBQ2hDO0FBQ0EsSUFBSW5QO0FBQ0osSUFBSW9QLGdCQUFnQixJQUFJaEk7QUFDeEIsSUFBSWlJLHFCQUFxQixJQUFJakk7QUFDN0IsSUFBSWtJLG9CQUFvQixJQUFJbEk7QUFFNUI7OztDQUdDLEdBQ0QsTUFBTW1JLFlBQVkvWSxDQUFBQSxXQUFZeVksV0FBV3pZLFVBQVU0WTtBQUVuRDs7O0NBR0MsR0FDRCxNQUFNSSxpQkFBaUJoWixDQUFBQSxXQUFZeVksV0FBV3pZLFVBQVU2WTtBQUV4RDs7O0NBR0MsR0FDRCxNQUFNSSxVQUFValosQ0FBQUEsV0FBWXlZLFdBQVd6WSxVQUFVOFk7QUFDakQsU0FBU0ksSUFBSUMsT0FBTyxFQUFFNUMsU0FBUztJQUM3QixJQUFJLENBQUM0QyxRQUFRbEwsSUFBSSxFQUFFO0lBQ25CLEtBQUssTUFBTSxFQUNUak8sUUFBUSxFQUNULElBQUltWixRQUFRakgsTUFBTSxHQUFJO1FBQ3JCbFMsU0FBU3VXO0lBQ1g7QUFDRjtBQUNBLFNBQVM2QyxtQkFBbUJsZCxJQUFJLEVBQUVxYSxTQUFTO0lBQ3pDLE9BQVFyYTtRQUNOLEtBQUs7WUFDSCxPQUFPZ2QsSUFBSU4sZUFBZXJDO1FBQzVCLEtBQUs7WUFDSCxPQUFPMkMsSUFBSUwsb0JBQW9CdEM7UUFDakMsS0FBSztZQUNILE9BQU8yQyxJQUFJSixtQkFBbUJ2QztJQUNsQztBQUNGO0FBQ0EsSUFBSXdCO0FBQ0osSUFBSXNCO0FBQ0osU0FBU0MsU0FBUy9DLFNBQVMsRUFBRWhQLEtBQUssRUFBRWdTLEtBQUs7SUFDdkMsb0JBQW9CO0lBQ3BCLElBQUlsSCxRQUFROUssTUFBTXFQLEtBQUssQ0FBQzRDLFFBQVE7SUFDaEMsa0ZBQWtGO0lBQ2xGLElBQUlqUyxNQUFNd1AsU0FBUyxLQUFLLFdBQVcsT0FBT1IsY0FBYyxVQUFVO1FBQ2hFbEUsUUFBUWtFLFlBQVloUCxNQUFNcVAsS0FBSyxDQUFDZSxXQUFXO1FBQzNDcFEsTUFBTXFQLEtBQUssQ0FBQzZDLE9BQU8sR0FBR2xTLE1BQU1xUCxLQUFLLENBQUNlLFdBQVc7UUFDN0NwUSxNQUFNcVAsS0FBSyxDQUFDZSxXQUFXLEdBQUdwQjtJQUM1QjtJQUNBLDhCQUE4QjtJQUM5QndCLGNBQWN4USxNQUFNMUcsUUFBUSxDQUFDa1gsV0FBVztJQUN4QyxJQUFLdk8sSUFBSSxHQUFHQSxJQUFJdU8sWUFBWXhVLE1BQU0sRUFBRWlHLElBQUs7UUFDdkM2UCxlQUFldEIsV0FBVyxDQUFDdk8sRUFBRTtRQUM3QjZQLGFBQWFwWSxHQUFHLENBQUNDLE9BQU8sQ0FBQ21ZLGFBQWF6SixLQUFLLENBQUNoUCxRQUFRLElBQUl5UixPQUFPa0g7SUFDakU7SUFDQSxpQkFBaUI7SUFDakIsSUFBSSxDQUFDaFMsTUFBTTFHLFFBQVEsQ0FBQytRLFFBQVEsSUFBSXJLLE1BQU02RixFQUFFLENBQUN6RixNQUFNLEVBQUVKLE1BQU02RixFQUFFLENBQUN6RixNQUFNLENBQUNKLE1BQU0xRixLQUFLLEVBQUUwRixNQUFNeUcsTUFBTTtJQUMxRix1QkFBdUI7SUFDdkJ6RyxNQUFNMUcsUUFBUSxDQUFDK00sTUFBTSxHQUFHdEYsS0FBS0UsR0FBRyxDQUFDLEdBQUdqQixNQUFNMUcsUUFBUSxDQUFDK00sTUFBTSxHQUFHO0lBQzVELE9BQU9yRyxNQUFNd1AsU0FBUyxLQUFLLFdBQVcsSUFBSXhQLE1BQU0xRyxRQUFRLENBQUMrTSxNQUFNO0FBQ2pFO0FBQ0EsU0FBUzhMLFdBQVdDLEtBQUs7SUFDdkIsSUFBSUMsVUFBVTtJQUNkLElBQUlDLHFCQUFxQjtJQUN6QixJQUFJQztJQUNKLElBQUlQO0lBQ0osSUFBSWhTO0lBQ0osU0FBU3dTLEtBQUt4RCxTQUFTO1FBQ3JCZ0QsUUFBUXJGLHNCQUFzQjZGO1FBQzlCSCxVQUFVO1FBQ1ZFLFNBQVM7UUFFVCxjQUFjO1FBQ2RWLG1CQUFtQixVQUFVN0M7UUFFN0IsbUJBQW1CO1FBQ25Cc0QscUJBQXFCO1FBQ3JCLEtBQUssTUFBTXZkLFFBQVFxZCxNQUFNekgsTUFBTSxHQUFJO1lBQ2pDLElBQUk4SDtZQUNKelMsUUFBUWpMLEtBQUtzVCxLQUFLLENBQUNoUCxRQUFRO1lBQzNCLDREQUE0RDtZQUM1RCxJQUFJMkcsTUFBTTFHLFFBQVEsQ0FBQ2dYLE1BQU0sSUFBS3RRLENBQUFBLE1BQU13UCxTQUFTLEtBQUssWUFBWXhQLE1BQU0xRyxRQUFRLENBQUMrTSxNQUFNLEdBQUcsTUFBTSxDQUFFLEVBQUNvTSxlQUFlelMsTUFBTTZGLEVBQUUsQ0FBQ2tKLEVBQUUsS0FBSyxRQUFRMEQsYUFBYUMsWUFBWSxHQUFHO2dCQUNoS0gsVUFBVVIsU0FBUy9DLFdBQVdoUDtZQUNoQztRQUNGO1FBQ0FzUyxxQkFBcUI7UUFFckIsb0JBQW9CO1FBQ3BCVCxtQkFBbUIsU0FBUzdDO1FBRTVCLDBDQUEwQztRQUMxQyxJQUFJdUQsV0FBVyxHQUFHO1lBQ2hCLDBEQUEwRDtZQUMxRFYsbUJBQW1CLFFBQVE3QztZQUUzQix3QkFBd0I7WUFDeEJxRCxVQUFVO1lBQ1YsT0FBT00scUJBQXFCWDtRQUM5QjtJQUNGO0lBQ0EsU0FBUzFMLFdBQVd0RyxLQUFLLEVBQUVxRyxTQUFTLENBQUM7UUFDbkMsSUFBSXVNO1FBQ0osSUFBSSxDQUFDNVMsT0FBTyxPQUFPb1MsTUFBTXphLE9BQU8sQ0FBQzVDLENBQUFBLE9BQVF1UixXQUFXdlIsS0FBS3NULEtBQUssQ0FBQ2hQLFFBQVEsSUFBSWdOO1FBQzNFLElBQUksQ0FBQ3VNLGdCQUFnQjVTLE1BQU02RixFQUFFLENBQUNrSixFQUFFLEtBQUssUUFBUTZELGNBQWNGLFlBQVksSUFBSSxDQUFDMVMsTUFBTTFHLFFBQVEsQ0FBQ2dYLE1BQU0sSUFBSXRRLE1BQU13UCxTQUFTLEtBQUssU0FBUztRQUNsSSxJQUFJbkosU0FBUyxHQUFHO1lBQ2Qsb0RBQW9EO1lBQ3BELDRDQUE0QztZQUM1Q3JHLE1BQU0xRyxRQUFRLENBQUMrTSxNQUFNLEdBQUd0RixLQUFLQyxHQUFHLENBQUMsSUFBSWhCLE1BQU0xRyxRQUFRLENBQUMrTSxNQUFNLEdBQUdBO1FBQy9ELE9BQU87WUFDTCxJQUFJaU0sb0JBQW9CO2dCQUN0Qiw0RUFBNEU7Z0JBQzVFdFMsTUFBTTFHLFFBQVEsQ0FBQytNLE1BQU0sR0FBRztZQUMxQixPQUFPO2dCQUNMLGdFQUFnRTtnQkFDaEVyRyxNQUFNMUcsUUFBUSxDQUFDK00sTUFBTSxHQUFHO1lBQzFCO1FBQ0Y7UUFFQSw0Q0FBNEM7UUFDNUMsSUFBSSxDQUFDZ00sU0FBUztZQUNaQSxVQUFVO1lBQ1YxRixzQkFBc0I2RjtRQUN4QjtJQUNGO0lBQ0EsU0FBUzVFLFFBQVFvQixTQUFTLEVBQUVDLG1CQUFtQixJQUFJLEVBQUVqUCxLQUFLLEVBQUVnUyxLQUFLO1FBQy9ELElBQUkvQyxrQkFBa0I0QyxtQkFBbUIsVUFBVTdDO1FBQ25ELElBQUksQ0FBQ2hQLE9BQU8sS0FBSyxNQUFNakwsUUFBUXFkLE1BQU16SCxNQUFNLEdBQUlvSCxTQUFTL0MsV0FBV2phLEtBQUtzVCxLQUFLLENBQUNoUCxRQUFRO2FBQVMwWSxTQUFTL0MsV0FBV2hQLE9BQU9nUztRQUMxSCxJQUFJL0Msa0JBQWtCNEMsbUJBQW1CLFNBQVM3QztJQUNwRDtJQUNBLE9BQU87UUFDTHdEO1FBQ0FsTTtRQUNBc0g7SUFDRjtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDRCxTQUFTaUYsa0JBQWtCblosR0FBRztJQUM1QixNQUFNdkUsV0FBV2xDLHlDQUFZLENBQUM7SUFDOUI4TCwwQkFBMEIsSUFBTSxLQUFNNUosQ0FBQUEsU0FBU3dFLE9BQU8sR0FBR0QsSUFBSUMsT0FBTyxDQUFDOUQsS0FBSyxHQUFHO1FBQUM2RDtLQUFJO0lBQ2xGLE9BQU92RTtBQUNUO0FBQ0EsU0FBUzJkO0lBQ1AsTUFBTXpLLFFBQVFwViw2Q0FBZ0IsQ0FBQ3dhO0lBQy9CLElBQUksQ0FBQ3BGLE9BQU8sTUFBTSxJQUFJL1MsTUFBTTtJQUM1QixPQUFPK1M7QUFDVDtBQUVBOzs7Q0FHQyxHQUNELFNBQVMySyxTQUFTQyxXQUFXalQsQ0FBQUEsUUFBU0EsS0FBSyxFQUFFa1QsVUFBVTtJQUNyRCxPQUFPSixXQUFXRyxVQUFVQztBQUM5QjtBQUVBOzs7O0NBSUMsR0FDRCxTQUFTQyxTQUFTMWEsUUFBUSxFQUFFMmEsaUJBQWlCLENBQUM7SUFDNUMsTUFBTS9LLFFBQVF5SztJQUNkLE1BQU1yQyxZQUFZcEksTUFBTWhQLFFBQVEsR0FBR0MsUUFBUSxDQUFDbVgsU0FBUztJQUNyRCxjQUFjO0lBQ2QsTUFBTS9XLE1BQU02RixtQkFBbUI5RztJQUMvQiw2Q0FBNkM7SUFDN0NzRywwQkFBMEIsSUFBTTBSLFVBQVUvVyxLQUFLMFosZ0JBQWdCL0ssUUFBUTtRQUFDK0s7UUFBZ0IzQztRQUFXcEk7S0FBTTtJQUN6RyxPQUFPO0FBQ1Q7QUFFQTs7O0NBR0MsR0FDRCxTQUFTZ0wsU0FBU2plLE1BQU07SUFDdEIsT0FBT25DLDBDQUFhLENBQUMsSUFBTWtQLFdBQVcvTSxTQUFTO1FBQUNBO0tBQU87QUFDekQ7QUFDQSxNQUFNbWUsa0JBQWtCLElBQUlDO0FBQzVCLFNBQVNDLFVBQVVDLFVBQVUsRUFBRUMsVUFBVTtJQUN2QyxPQUFPLFNBQVVDLEtBQUssRUFBRSxHQUFHQyxLQUFLO1FBQzlCLDBDQUEwQztRQUMxQyxJQUFJQyxTQUFTUCxnQkFBZ0IxTyxHQUFHLENBQUMrTztRQUNqQyxJQUFJLENBQUNFLFFBQVE7WUFDWEEsU0FBUyxJQUFJRjtZQUNiTCxnQkFBZ0I1VCxHQUFHLENBQUNpVSxPQUFPRTtRQUM3QjtRQUNBLElBQUlKLFlBQVlBLFdBQVdJO1FBQzNCLG9DQUFvQztRQUNwQyxPQUFPbFUsUUFBUW1VLEdBQUcsQ0FBQ0YsTUFBTTdHLEdBQUcsQ0FBQzZHLENBQUFBLFFBQVMsSUFBSWpVLFFBQVEsQ0FBQ29VLEtBQUtDLFNBQVdILE9BQU9JLElBQUksQ0FBQ0wsT0FBT3pSLENBQUFBO29CQUNwRixJQUFJQSxLQUFLOUgsS0FBSyxFQUFFdEcsT0FBT00sTUFBTSxDQUFDOE4sTUFBTUQsV0FBV0MsS0FBSzlILEtBQUs7b0JBQ3pEMFosSUFBSTVSO2dCQUNOLEdBQUd1UixZQUFZMVQsQ0FBQUEsUUFBU2dVLE9BQU8sSUFBSTNlLE1BQU0sQ0FBQyxlQUFlLEVBQUV1ZSxNQUFNLEVBQUUsRUFBRTVULFNBQVMsT0FBTyxLQUFLLElBQUlBLE1BQU1rVSxPQUFPLENBQUMsQ0FBQztJQUMvRztBQUNGO0FBQ0E7Ozs7O0NBS0MsR0FDRCxTQUFTQyxVQUFVUixLQUFLLEVBQUVDLEtBQUssRUFBRUgsVUFBVSxFQUFFQyxVQUFVO0lBQ3JELG9DQUFvQztJQUNwQyxNQUFNelIsT0FBT3hNLE1BQU1DLE9BQU8sQ0FBQ2tlLFNBQVNBLFFBQVE7UUFBQ0E7S0FBTTtJQUNuRCxNQUFNUSxVQUFVOWdCLHNEQUFPQSxDQUFDa2dCLFVBQVVDLFlBQVlDLGFBQWE7UUFBQ0M7V0FBVTFSO0tBQUssRUFBRTtRQUMzRW9TLE9BQU8xVyxHQUFHK0QsR0FBRztJQUNmO0lBQ0Esc0JBQXNCO0lBQ3RCLE9BQU9qTSxNQUFNQyxPQUFPLENBQUNrZSxTQUFTUSxVQUFVQSxPQUFPLENBQUMsRUFBRTtBQUNwRDtBQUVBOztDQUVDLEdBQ0RELFVBQVU1Z0IsT0FBTyxHQUFHLFNBQVVvZ0IsS0FBSyxFQUFFQyxLQUFLLEVBQUVILFVBQVU7SUFDcEQsTUFBTXhSLE9BQU94TSxNQUFNQyxPQUFPLENBQUNrZSxTQUFTQSxRQUFRO1FBQUNBO0tBQU07SUFDbkQsT0FBT3JnQixzREFBT0EsQ0FBQ2lnQixVQUFVQyxhQUFhO1FBQUNFO1dBQVUxUjtLQUFLO0FBQ3hEO0FBRUE7O0NBRUMsR0FDRGtTLFVBQVUzZ0IsS0FBSyxHQUFHLFNBQVVtZ0IsS0FBSyxFQUFFQyxLQUFLO0lBQ3RDLE1BQU0zUixPQUFPeE0sTUFBTUMsT0FBTyxDQUFDa2UsU0FBU0EsUUFBUTtRQUFDQTtLQUFNO0lBQ25ELE9BQU9wZ0Isb0RBQUtBLENBQUM7UUFBQ21nQjtXQUFVMVI7S0FBSztBQUMvQjtBQUVBLE1BQU1rUSxRQUFRLElBQUk1UjtBQUNsQixNQUFNLEVBQ0o4RixVQUFVLEVBQ1ZzSCxPQUFPLEVBQ1IsR0FBR3VFLFdBQVdDO0FBQ2YsTUFBTSxFQUNKdlksVUFBVSxFQUNWc0UsVUFBVSxFQUNYLEdBQUc1SixlQUFlNmQsT0FBTzFLO0FBQzFCLE1BQU02TSxlQUFlO0lBQ25CbGdCLFNBQVM7SUFDVHlOLFFBQVE7QUFDVjtBQUNBLE1BQU0wUyx5QkFBeUIsQ0FBQzNPLElBQUk0TztJQUNsQyxNQUFNQyxpQkFBaUIsT0FBTzdPLE9BQU8sYUFBYUEsR0FBRzRPLFVBQVU1TztJQUMvRCxJQUFJMkgsV0FBV2tILGlCQUFpQixPQUFPQTtTQUFvQixPQUFPLElBQUkxaEIsZ0RBQW1CLENBQUM7UUFDeEY0aEIsaUJBQWlCO1FBQ2pCSCxRQUFRQTtRQUNSSSxXQUFXO1FBQ1hDLE9BQU87UUFDUCxHQUFHalAsRUFBRTtJQUNQO0FBQ0Y7QUFDQSxTQUFTa1AsbUJBQW1CTixNQUFNLEVBQUVPLFdBQVc7SUFDN0MsTUFBTUMsZUFBZSxPQUFPakUsc0JBQXNCLGVBQWV5RCxrQkFBa0J6RDtJQUNuRixJQUFJZ0UsYUFBYTtRQUNmLE1BQU0sRUFDSm5PLEtBQUssRUFDTEcsTUFBTSxFQUNORCxHQUFHLEVBQ0hILElBQUksRUFDSitJLGNBQWNzRixZQUFZLEVBQzNCLEdBQUdEO1FBQ0osT0FBTztZQUNMbk87WUFDQUc7WUFDQUQ7WUFDQUg7WUFDQStJO1FBQ0Y7SUFDRixPQUFPLElBQUksT0FBT3FCLHNCQUFzQixlQUFleUQsa0JBQWtCekQscUJBQXFCeUQsT0FBT1MsYUFBYSxFQUFFO1FBQ2xILE1BQU0sRUFDSnJPLEtBQUssRUFDTEcsTUFBTSxFQUNORCxHQUFHLEVBQ0hILElBQUksRUFDTCxHQUFHNk4sT0FBT1MsYUFBYSxDQUFDQyxxQkFBcUI7UUFDOUMsT0FBTztZQUNMdE87WUFDQUc7WUFDQUQ7WUFDQUg7WUFDQStJLGFBQWFzRjtRQUNmO0lBQ0YsT0FBTyxJQUFJLE9BQU9HLG9CQUFvQixlQUFlWCxrQkFBa0JXLGlCQUFpQjtRQUN0RixPQUFPO1lBQ0x2TyxPQUFPNE4sT0FBTzVOLEtBQUs7WUFDbkJHLFFBQVF5TixPQUFPek4sTUFBTTtZQUNyQkQsS0FBSztZQUNMSCxNQUFNO1lBQ04rSSxhQUFhc0Y7UUFDZjtJQUNGO0lBQ0EsT0FBTztRQUNMcE8sT0FBTztRQUNQRyxRQUFRO1FBQ1JELEtBQUs7UUFDTEgsTUFBTTtJQUNSO0FBQ0Y7QUFDQSxTQUFTeU8sV0FBV1osTUFBTTtJQUN4QiwyQ0FBMkM7SUFDM0MsTUFBTWEsV0FBV2xELE1BQU12TixHQUFHLENBQUM0UDtJQUMzQixNQUFNYyxZQUFZRCxZQUFZLE9BQU8sS0FBSyxJQUFJQSxTQUFTeGMsS0FBSztJQUM1RCxNQUFNMGMsWUFBWUYsWUFBWSxPQUFPLEtBQUssSUFBSUEsU0FBU2pOLEtBQUs7SUFDNUQsSUFBSWlOLFVBQVVHLFFBQVFDLElBQUksQ0FBQztJQUUzQix5REFBeUQ7SUFDekQsd0RBQXdEO0lBQ3hELE1BQU1DLHNCQUFzQixPQUFPQyxnQkFBZ0IsYUFDbkQsZ0VBQWdFO0lBQ2hFLDBDQUEwQztJQUMxQ0EsY0FDQSxzRUFBc0U7SUFDdEVILFFBQVF4VixLQUFLO0lBRWIsZUFBZTtJQUNmLE1BQU1vSSxRQUFRbU4sYUFBYTdILFlBQVlySCxZQUFZc0g7SUFDbkQsa0JBQWtCO0lBQ2xCLE1BQU05VSxRQUFReWMsYUFBYTFiLFdBQVdnYyxlQUFlLENBQUN4TixPQUFPaFYsc0VBQWNBLEVBQUUsTUFBTSxPQUFPLE1BQU0sSUFBSXNpQixxQkFBcUI7SUFDekgsU0FBUztJQUNULElBQUksQ0FBQ0wsVUFBVWxELE1BQU16UyxHQUFHLENBQUM4VSxRQUFRO1FBQy9CM2I7UUFDQXVQO0lBQ0Y7SUFFQSxTQUFTO0lBQ1QsSUFBSXlOO0lBQ0osSUFBSUMsYUFBYTtJQUNqQixJQUFJQztJQUNKLE9BQU87UUFDTEMsV0FBVW5oQixRQUFRLENBQUMsQ0FBQztZQUNsQixJQUFJLEVBQ0YrUSxJQUFJcVEsUUFBUSxFQUNaeFAsTUFBTXlQLFNBQVMsRUFDZjdiLE9BQU84YixZQUFZLEVBQ25CM00sTUFBTSxFQUNOcU0sV0FBV08saUJBQWlCLEVBQzVCQyxVQUFVLEtBQUssRUFDZmpSLFNBQVMsS0FBSyxFQUNkOEosT0FBTyxLQUFLLEVBQ1pELFNBQVMsS0FBSyxFQUNkcUgsZUFBZSxLQUFLLEVBQ3BCL0csWUFBWSxRQUFRLEVBQ3BCNU8sTUFBTTtnQkFBQztnQkFBRzthQUFFLEVBQ1pqRCxhQUFBQSxZQUFXLEVBQ1g2TCxXQUFXZ04sY0FBYyxFQUN6Qi9QLFFBQVFnUSxhQUFhLEVBQ3JCaEssZUFBZSxFQUNoQixHQUFHM1g7WUFDSixJQUFJa0wsUUFBUXFJLE1BQU1oUCxRQUFRO1lBRTFCLG1DQUFtQztZQUNuQyxJQUFJd00sS0FBSzdGLE1BQU02RixFQUFFO1lBQ2pCLElBQUksQ0FBQzdGLE1BQU02RixFQUFFLEVBQUU3RixNQUFNTCxHQUFHLENBQUM7Z0JBQ3ZCa0csSUFBSUEsS0FBSzJPLHVCQUF1QjBCLFVBQVV6QjtZQUM1QztZQUVBLG9DQUFvQztZQUNwQyxJQUFJakwsWUFBWXhKLE1BQU13SixTQUFTO1lBQy9CLElBQUksQ0FBQ0EsV0FBV3hKLE1BQU1MLEdBQUcsQ0FBQztnQkFDeEI2SixXQUFXQSxZQUFZLElBQUl4Vyw0Q0FBZTtZQUM1QztZQUVBLHdCQUF3QjtZQUN4QixNQUFNLEVBQ0oyakIsTUFBTSxFQUNOLEdBQUdDLFNBQ0osR0FBR0osa0JBQWtCLENBQUM7WUFDdkIsSUFBSSxDQUFDNVksR0FBRytELEdBQUcsQ0FBQ2lWLFNBQVNwTixXQUFXK0ssZUFBZXBXLFdBQVdxTCxXQUFXO2dCQUNuRSxHQUFHb04sT0FBTztZQUNaO1lBQ0EsSUFBSSxDQUFDaFosR0FBRytELEdBQUcsQ0FBQ2dWLFFBQVFuTixVQUFVbU4sTUFBTSxFQUFFcEMsZUFBZXBXLFdBQVdxTCxXQUFXO2dCQUN6RW1OLFFBQVE7b0JBQ04sR0FBR25OLFVBQVVtTixNQUFNO29CQUNuQixHQUFHQSxNQUFNO2dCQUNYO1lBQ0Y7WUFFQSw0REFBNEQ7WUFDNUQsSUFBSSxDQUFDM1csTUFBTXlHLE1BQU0sSUFBSXpHLE1BQU15RyxNQUFNLEtBQUt1UCxjQUFjLENBQUNwWSxHQUFHK0QsR0FBRyxDQUFDcVUsWUFBWVMsZUFBZWxDLGVBQWU7Z0JBQ3BHeUIsYUFBYVM7Z0JBQ2IsTUFBTUksV0FBV0oseUJBQXlCempCLHlDQUFZO2dCQUN0RCxNQUFNeVQsU0FBU29RLFdBQVdKLGdCQUFnQkYsZUFBZSxJQUFJdmpCLHFEQUF3QixDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsS0FBSyxRQUFRLElBQUlBLG9EQUF1QixDQUFDLElBQUksR0FBRyxLQUFLO2dCQUN2SixJQUFJLENBQUM2akIsVUFBVTtvQkFDYnBRLE9BQU9vSCxRQUFRLENBQUNvSixDQUFDLEdBQUc7b0JBQ3BCLElBQUlSLGVBQWU7d0JBQ2pCdFksV0FBV3NJLFFBQVFnUTt3QkFDbkIsNENBQTRDO3dCQUM1QywwREFBMEQ7d0JBQzFELElBQUksWUFBWUEsaUJBQWlCLFVBQVVBLGlCQUFpQixXQUFXQSxpQkFBaUIsWUFBWUEsaUJBQWlCLFNBQVNBLGVBQWU7NEJBQzNJaFEsT0FBT0UsTUFBTSxHQUFHOzRCQUNoQkYsT0FBT1Usc0JBQXNCO3dCQUMvQjtvQkFDRjtvQkFDQSxtQ0FBbUM7b0JBQ25DLElBQUksQ0FBQ25ILE1BQU15RyxNQUFNLElBQUksQ0FBRWdRLENBQUFBLGlCQUFpQixRQUFRQSxjQUFjUyxRQUFRLEdBQUd6USxPQUFPMFEsTUFBTSxDQUFDLEdBQUcsR0FBRztnQkFDL0Y7Z0JBQ0FuWCxNQUFNTCxHQUFHLENBQUM7b0JBQ1I4RztnQkFDRjtnQkFFQSxzQkFBc0I7Z0JBQ3RCLGdEQUFnRDtnQkFDaEQrQyxVQUFVL0MsTUFBTSxHQUFHQTtZQUNyQjtZQUVBLGdDQUFnQztZQUNoQyxJQUFJLENBQUN6RyxNQUFNMUYsS0FBSyxFQUFFO2dCQUNoQixJQUFJQTtnQkFDSixJQUFJOGIsZ0JBQWdCLFFBQVFBLGFBQWFnQixPQUFPLEVBQUU7b0JBQ2hEOWMsUUFBUThiO2dCQUNWLE9BQU87b0JBQ0w5YixRQUFRLElBQUl0SCx3Q0FBVztvQkFDdkIsSUFBSW9qQixjQUFjalksV0FBVzdELE9BQU84YjtnQkFDdEM7Z0JBQ0FwVyxNQUFNTCxHQUFHLENBQUM7b0JBQ1JyRixPQUFPL0UsUUFBUStFO2dCQUNqQjtZQUNGO1lBRUEsNkJBQTZCO1lBQzdCLElBQUksQ0FBQzBGLE1BQU0rTyxFQUFFLEVBQUU7Z0JBQ2IsSUFBSXVJO2dCQUNKLGlDQUFpQztnQkFDakMsTUFBTUMsZ0JBQWdCLENBQUN2SSxXQUFXZ0Q7b0JBQ2hDLE1BQU1oUyxRQUFRcUksTUFBTWhQLFFBQVE7b0JBQzVCLElBQUkyRyxNQUFNd1AsU0FBUyxLQUFLLFNBQVM7b0JBQ2pDNUIsUUFBUW9CLFdBQVcsTUFBTWhQLE9BQU9nUztnQkFDbEM7Z0JBRUEscUNBQXFDO2dCQUNyQyxNQUFNd0Ysc0JBQXNCO29CQUMxQixNQUFNeFgsUUFBUXFJLE1BQU1oUCxRQUFRO29CQUM1QjJHLE1BQU02RixFQUFFLENBQUNrSixFQUFFLENBQUNuRixPQUFPLEdBQUc1SixNQUFNNkYsRUFBRSxDQUFDa0osRUFBRSxDQUFDMkQsWUFBWTtvQkFDOUMxUyxNQUFNNkYsRUFBRSxDQUFDa0osRUFBRSxDQUFDMEksZ0JBQWdCLENBQUN6WCxNQUFNNkYsRUFBRSxDQUFDa0osRUFBRSxDQUFDMkQsWUFBWSxHQUFHNkUsZ0JBQWdCO29CQUN4RSxJQUFJLENBQUN2WCxNQUFNNkYsRUFBRSxDQUFDa0osRUFBRSxDQUFDMkQsWUFBWSxFQUFFcE0sV0FBV3RHO2dCQUM1QztnQkFFQSx3QkFBd0I7Z0JBQ3hCLE1BQU0rTyxLQUFLO29CQUNUMkk7d0JBQ0UsTUFBTTdSLEtBQUt3QyxNQUFNaFAsUUFBUSxHQUFHd00sRUFBRTt3QkFDOUJBLEdBQUdrSixFQUFFLENBQUM0SSxnQkFBZ0IsQ0FBQyxnQkFBZ0JIO3dCQUN2QzNSLEdBQUdrSixFQUFFLENBQUM0SSxnQkFBZ0IsQ0FBQyxjQUFjSDtvQkFDdkM7b0JBQ0FJO3dCQUNFLE1BQU0vUixLQUFLd0MsTUFBTWhQLFFBQVEsR0FBR3dNLEVBQUU7d0JBQzlCQSxHQUFHa0osRUFBRSxDQUFDOEksbUJBQW1CLENBQUMsZ0JBQWdCTDt3QkFDMUMzUixHQUFHa0osRUFBRSxDQUFDOEksbUJBQW1CLENBQUMsY0FBY0w7b0JBQzFDO2dCQUNGO2dCQUVBLG9DQUFvQztnQkFDcEMsSUFBSSxPQUFRLEVBQUNGLFNBQVN6UixHQUFHa0osRUFBRSxLQUFLLE9BQU8sS0FBSyxJQUFJdUksT0FBT0ssZ0JBQWdCLE1BQU0sWUFBWTVJLEdBQUcySSxPQUFPO2dCQUNuRzFYLE1BQU1MLEdBQUcsQ0FBQztvQkFDUm9QO2dCQUNGO1lBQ0Y7WUFFQSxnQkFBZ0I7WUFDaEIsSUFBSWxKLEdBQUdpUyxTQUFTLEVBQUU7Z0JBQ2hCLE1BQU1DLGFBQWFsUyxHQUFHaVMsU0FBUyxDQUFDbE8sT0FBTztnQkFDdkMsTUFBTW9PLFVBQVVuUyxHQUFHaVMsU0FBUyxDQUFDbmpCLElBQUk7Z0JBQ2pDa1IsR0FBR2lTLFNBQVMsQ0FBQ2xPLE9BQU8sR0FBRyxDQUFDLENBQUMwTTtnQkFDekIsSUFBSTFZLEdBQUc2RCxHQUFHLENBQUM2VSxVQUFVO29CQUNuQnpRLEdBQUdpUyxTQUFTLENBQUNuakIsSUFBSSxHQUFHM0IsbURBQXNCO2dCQUM1QyxPQUFPLElBQUk0SyxHQUFHMkQsR0FBRyxDQUFDK1UsVUFBVTtvQkFDMUIsSUFBSTRCO29CQUNKLE1BQU1DLFFBQVE7d0JBQ1pDLE9BQU9wbEIsaURBQW9CO3dCQUMzQnNsQixZQUFZdGxCLCtDQUFrQjt3QkFDOUJ3bEIsTUFBTXhsQixtREFBc0I7d0JBQzVCeWxCLFVBQVV6bEIsK0NBQWtCO29CQUM5QjtvQkFDQTZTLEdBQUdpUyxTQUFTLENBQUNuakIsSUFBSSxHQUFHLENBQUN1akIsaUJBQWlCQyxLQUFLLENBQUM3QixRQUFRLEtBQUssT0FBTzRCLGlCQUFpQmxsQixtREFBc0I7Z0JBQ3pHLE9BQU8sSUFBSTRLLEdBQUdpQixHQUFHLENBQUN5WCxVQUFVO29CQUMxQnRpQixPQUFPTSxNQUFNLENBQUN1UixHQUFHaVMsU0FBUyxFQUFFeEI7Z0JBQzlCO2dCQUNBLElBQUl5QixlQUFlbFMsR0FBR2lTLFNBQVMsQ0FBQ2xPLE9BQU8sSUFBSW9PLFlBQVluUyxHQUFHaVMsU0FBUyxDQUFDbmpCLElBQUksRUFBRWtSLEdBQUdpUyxTQUFTLENBQUNhLFdBQVcsR0FBRztZQUN2RztZQUVBLDRDQUE0QztZQUM1Qyx5RUFBeUU7WUFDekUsTUFBTWxhLGtCQUFrQkY7WUFDeEIsSUFBSUUsaUJBQWlCO2dCQUNuQixJQUFJLGFBQWFBLGlCQUFpQkEsZ0JBQWdCbUwsT0FBTyxHQUFHLENBQUNzRjtxQkFBWSxJQUFJLGdCQUFnQnpRLGlCQUFpQkEsZ0JBQWdCbWEsVUFBVSxHQUFHMUo7WUFDN0k7WUFDQSxJQUFJLENBQUM2RyxZQUFZO2dCQUNmLG9EQUFvRDtnQkFDcEQsTUFBTThDLGlCQUFpQjtnQkFDdkIsTUFBTXhVLGVBQWU7Z0JBQ3JCbEcsV0FBVzBILElBQUk7b0JBQ2JJLGdCQUFnQlosU0FBU3dULGlCQUFpQnhVO29CQUMxQ3lVLGFBQWEzSixPQUFPbmMsZ0RBQW1CLEdBQUdBLHdEQUEyQjtnQkFDdkU7WUFDRjtZQUVBLGdDQUFnQztZQUNoQyxJQUFJZ04sTUFBTWtQLE1BQU0sS0FBS0EsUUFBUWxQLE1BQU1MLEdBQUcsQ0FBQyxJQUFPO29CQUM1Q3VQO2dCQUNGO1lBQ0EsSUFBSWxQLE1BQU1xRixNQUFNLEtBQUtBLFFBQVFyRixNQUFNTCxHQUFHLENBQUMsSUFBTztvQkFDNUMwRjtnQkFDRjtZQUNBLElBQUlyRixNQUFNbVAsSUFBSSxLQUFLQSxNQUFNblAsTUFBTUwsR0FBRyxDQUFDLElBQU87b0JBQ3hDd1A7Z0JBQ0Y7WUFFQSxlQUFlO1lBQ2YsSUFBSStHLFlBQVksQ0FBQ3RZLEdBQUdDLEdBQUcsQ0FBQ3FZLGFBQWEsQ0FBQzFJLFdBQVcwSSxhQUFhLENBQUN0WSxHQUFHK0QsR0FBRyxDQUFDdVUsVUFBVXJRLElBQUkwTyxlQUFlcFcsV0FBVzBILElBQUlxUTtZQUNsSCwwQkFBMEI7WUFDMUIsSUFBSXpNLFVBQVUsQ0FBQ3pKLE1BQU15SixNQUFNLENBQUN6TyxRQUFRLEVBQUVnRixNQUFNTCxHQUFHLENBQUM7Z0JBQzlDOEosUUFBUUEsT0FBT3BCO1lBQ2pCO1lBQ0EsNkRBQTZEO1lBQzdELE1BQU0zQixPQUFPcU8sbUJBQW1CTixRQUFRMEI7WUFDeEMsSUFBSSxDQUFDdlksR0FBRytELEdBQUcsQ0FBQytFLE1BQU0xRyxNQUFNMEcsSUFBSSxFQUFFNk4sZUFBZTtnQkFDM0N2VSxNQUFNK1AsT0FBTyxDQUFDckosS0FBS0csS0FBSyxFQUFFSCxLQUFLTSxNQUFNLEVBQUVOLEtBQUtpSixXQUFXLEVBQUVqSixLQUFLSyxHQUFHLEVBQUVMLEtBQUtFLElBQUk7WUFDOUU7WUFDQSxtQkFBbUI7WUFDbkIsSUFBSWhHLE9BQU9aLE1BQU00UCxRQUFRLENBQUNoUCxHQUFHLEtBQUtELGFBQWFDLE1BQU1aLE1BQU1nUSxNQUFNLENBQUNwUDtZQUNsRSxrQkFBa0I7WUFDbEIsSUFBSVosTUFBTXdQLFNBQVMsS0FBS0EsV0FBV3hQLE1BQU1rUSxZQUFZLENBQUNWO1lBQ3RELHVCQUF1QjtZQUN2QixJQUFJLENBQUN4UCxNQUFNeU0sZUFBZSxFQUFFek0sTUFBTUwsR0FBRyxDQUFDO2dCQUNwQzhNO1lBQ0Y7WUFDQSxvQkFBb0I7WUFDcEIsSUFBSTlPLGdCQUFlLENBQUNDLEdBQUcrRCxHQUFHLENBQUNoRSxjQUFhcUMsTUFBTXJDLFdBQVcsRUFBRTRXLGVBQWV2VSxNQUFNTCxHQUFHLENBQUNLLENBQUFBLFFBQVU7b0JBQzVGckMsYUFBYTt3QkFDWCxHQUFHcUMsTUFBTXJDLFdBQVc7d0JBQ3BCLEdBQUdBLFlBQVc7b0JBQ2hCO2dCQUNGO1lBRUEsYUFBYTtZQUNibVksWUFBWU87WUFDWk4sYUFBYTtZQUNiLE9BQU8sSUFBSTtRQUNiO1FBQ0EzVixRQUFPakosUUFBUTtZQUNiLDBEQUEwRDtZQUMxRCxJQUFJLENBQUM0ZSxZQUFZLElBQUksQ0FBQ0UsU0FBUztZQUMvQnBjLFdBQVdvZixlQUFlLENBQUUsV0FBVyxHQUFFdmxCLHNEQUFHQSxDQUFDd2xCLFVBQVU7Z0JBQ3JEN1EsT0FBT0E7Z0JBQ1BsUixVQUFVQTtnQkFDVjJlLFdBQVdBO2dCQUNYcUQsYUFBYTFFO1lBQ2YsSUFBSTNiLE9BQU8sTUFBTSxJQUFNekQ7WUFDdkIsT0FBT2dUO1FBQ1Q7UUFDQStRO1lBQ0VDLHVCQUF1QjVFO1FBQ3pCO0lBQ0Y7QUFDRjtBQUNBLFNBQVNyVSxPQUFPakosUUFBUSxFQUFFc2QsTUFBTSxFQUFFNkUsTUFBTTtJQUN0QzdELFFBQVFDLElBQUksQ0FBQztJQUNiLE1BQU0zZ0IsT0FBT3NnQixXQUFXWjtJQUN4QjFmLEtBQUtraEIsU0FBUyxDQUFDcUQ7SUFDZixPQUFPdmtCLEtBQUtxTCxNQUFNLENBQUNqSjtBQUNyQjtBQUNBLFNBQVMraEIsU0FBUyxFQUNoQjdRLEtBQUssRUFDTGxSLFFBQVEsRUFDUjJlLFNBQVMsRUFDVHFELFdBQVcsRUFDWjtJQUNDcGEsMEJBQTBCO1FBQ3hCLE1BQU1pQixRQUFRcUksTUFBTWhQLFFBQVE7UUFDNUIsbURBQW1EO1FBQ25EMkcsTUFBTUwsR0FBRyxDQUFDSyxDQUFBQSxRQUFVO2dCQUNsQjFHLFVBQVU7b0JBQ1IsR0FBRzBHLE1BQU0xRyxRQUFRO29CQUNqQmdYLFFBQVE7Z0JBQ1Y7WUFDRjtRQUNBLHVGQUF1RjtRQUN2RixJQUFJd0YsV0FBV0EsVUFBVTlWO1FBQ3pCLHdGQUF3RjtRQUN4RixnREFBZ0Q7UUFDaEQsSUFBSSxDQUFDcUksTUFBTWhQLFFBQVEsR0FBR29RLE1BQU0sQ0FBQ3FGLFNBQVMsRUFBRTlPLE1BQU15SixNQUFNLENBQUNpTyxPQUFPLElBQUksT0FBTyxLQUFLLElBQUkxWCxNQUFNeUosTUFBTSxDQUFDaU8sT0FBTyxDQUFDeUI7SUFDckcsdURBQXVEO0lBQ3pELEdBQUcsRUFBRTtJQUNMLE9BQU8sV0FBVyxHQUFFemxCLHNEQUFHQSxDQUFDK1osUUFBUXlMLFFBQVEsRUFBRTtRQUN4Q3RkLE9BQU95TTtRQUNQbFIsVUFBVUE7SUFDWjtBQUNGO0FBQ0EsU0FBU2tpQix1QkFBdUI1RSxNQUFNLEVBQUVoYyxRQUFRO0lBQzlDLE1BQU0xRCxPQUFPcWQsTUFBTXZOLEdBQUcsQ0FBQzRQO0lBQ3ZCLE1BQU0zYixRQUFRL0QsUUFBUSxPQUFPLEtBQUssSUFBSUEsS0FBSytELEtBQUs7SUFDaEQsSUFBSUEsT0FBTztRQUNULE1BQU1rSCxRQUFRakwsUUFBUSxPQUFPLEtBQUssSUFBSUEsS0FBS3NULEtBQUssQ0FBQ2hQLFFBQVE7UUFDekQsSUFBSTJHLE9BQU9BLE1BQU0xRyxRQUFRLENBQUNnWCxNQUFNLEdBQUc7UUFDbkN6VyxXQUFXb2YsZUFBZSxDQUFDLE1BQU1uZ0IsT0FBTyxNQUFNO1lBQzVDLElBQUlrSCxPQUFPO2dCQUNUaEMsV0FBVztvQkFDVCxJQUFJO3dCQUNGLElBQUl1YixXQUFXQyx1QkFBdUJDLFlBQVlDO3dCQUNsRDFaLE1BQU15SixNQUFNLENBQUNtTyxVQUFVLElBQUksT0FBTyxLQUFLLElBQUk1WCxNQUFNeUosTUFBTSxDQUFDbU8sVUFBVTt3QkFDakUyQixDQUFBQSxZQUFZdlosTUFBTTZGLEVBQUUsS0FBSyxPQUFPLEtBQUssSUFBSSxDQUFDMlQsd0JBQXdCRCxVQUFVSSxXQUFXLEtBQUssT0FBTyxLQUFLLElBQUlILHNCQUFzQjloQixPQUFPLElBQUksT0FBTyxLQUFLLElBQUk4aEIsc0JBQXNCOWhCLE9BQU87d0JBQzFMK2hCLENBQUFBLGFBQWF6WixNQUFNNkYsRUFBRSxLQUFLLE9BQU8sS0FBSyxJQUFJNFQsV0FBV0csZ0JBQWdCLElBQUksT0FBTyxLQUFLLElBQUlILFdBQVdHLGdCQUFnQjt3QkFDckgsSUFBSSxDQUFDRixhQUFhMVosTUFBTTZGLEVBQUUsS0FBSyxRQUFRNlQsV0FBVzNLLEVBQUUsRUFBRS9PLE1BQU0rTyxFQUFFLENBQUM2SSxVQUFVO3dCQUN6RWxnQixRQUFRc0k7d0JBQ1JvUyxNQUFNakssTUFBTSxDQUFDc007d0JBQ2IsSUFBSWhjLFVBQVVBLFNBQVNnYztvQkFDekIsRUFBRSxPQUFPL2IsR0FBRztvQkFDVixPQUFPLEdBQ1Q7Z0JBQ0YsR0FBRztZQUNMO1FBQ0Y7SUFDRjtBQUNGO0FBQ0EsU0FBU21oQixhQUFhMWlCLFFBQVEsRUFBRWtELFNBQVMsRUFBRTJGLEtBQUs7SUFDOUMsT0FBTyxXQUFXLEdBQUV0TSxzREFBR0EsQ0FBQ29tQixRQUFRO1FBQzlCM2lCLFVBQVVBO1FBQ1ZrRCxXQUFXQTtRQUNYMkYsT0FBT0E7SUFDVCxHQUFHM0YsVUFBVW1OLElBQUk7QUFDbkI7QUFDQSxTQUFTc1MsT0FBTyxFQUNkOVosUUFBUSxDQUFDLENBQUMsRUFDVjdJLFFBQVEsRUFDUmtELFNBQVMsRUFDVjtJQUNDOzs7OzRCQUkwQixHQUMxQixNQUFNLEVBQ0pvUCxNQUFNLEVBQ04vQyxJQUFJLEVBQ0osR0FBR3FULE1BQ0osR0FBRy9aO0lBQ0osTUFBTW9CLGVBQWUwUjtJQUNyQixNQUFNLENBQUN0SixVQUFVLEdBQUd2VywyQ0FBYyxDQUFDLElBQU0sSUFBSUQsNENBQWU7SUFDNUQsTUFBTSxDQUFDZ1ksUUFBUSxHQUFHL1gsMkNBQWMsQ0FBQyxJQUFNLElBQUlELDBDQUFhO0lBQ3hELE1BQU1pbkIsU0FBU2huQiw4Q0FBaUIsQ0FBQyxDQUFDbUcsV0FBVytnQjtRQUMzQyxNQUFNaFIsWUFBWTtZQUNoQixHQUFHL1AsU0FBUztRQUNkLEdBQUcsdUJBQXVCO1FBRTFCLHFFQUFxRTtRQUNyRSxrQ0FBa0M7UUFDbEMsNkZBQTZGO1FBQzdGcEYsT0FBT2tPLElBQUksQ0FBQzlJLFdBQVd6QixPQUFPLENBQUNpTCxDQUFBQTtZQUM3QixJQUNBLGtDQUFrQztZQUNsQzJLLFlBQVkxSyxRQUFRLENBQUNELFFBQ3JCLDZGQUE2RjtZQUM3RiwwRUFBMEU7WUFDMUV4SixTQUFTLENBQUN3SixJQUFJLEtBQUt1WCxXQUFXLENBQUN2WCxJQUFJLElBQUl1WCxXQUFXLENBQUN2WCxJQUFJLEVBQUU7Z0JBQ3ZELE9BQU91RyxTQUFTLENBQUN2RyxJQUFJO1lBQ3ZCO1FBQ0Y7UUFDQSxJQUFJZ04sV0FBV3ZhO1FBQ2YsSUFBSThrQixlQUFlelQsTUFBTTtZQUN2QixNQUFNRCxTQUFTMFQsWUFBWTFULE1BQU07WUFDakMsOENBQThDO1lBQzlDbUosV0FBV3hXLFVBQVV3VyxRQUFRLENBQUM1QixrQkFBa0IsQ0FBQ3ZILFFBQVEsSUFBSXpULDBDQUFhLElBQUkwVDtZQUM5RSxrRUFBa0U7WUFDbEUsSUFBSUQsV0FBV3JOLFVBQVVxTixNQUFNLEVBQUVELGFBQWFDLFFBQVFDO1FBQ3hEO1FBQ0EsT0FBTztZQUNMLG9EQUFvRDtZQUNwRCxHQUFHeUMsU0FBUztZQUNaLGdGQUFnRjtZQUNoRjdPLE9BQU9EO1lBQ1BtUDtZQUNBd0I7WUFDQXVFLE9BQU92RTtZQUNQLDZDQUE2QztZQUM3QzVKO1lBQ0Esa0VBQWtFO1lBQ2xFcUksUUFBUTtnQkFDTixHQUFHclEsVUFBVXFRLE1BQU07Z0JBQ25CLEdBQUkwUSxlQUFlLE9BQU8sS0FBSyxJQUFJQSxZQUFZMVEsTUFBTTtnQkFDckQsR0FBR0EsTUFBTTtZQUNYO1lBQ0EvQyxNQUFNO2dCQUNKLEdBQUd0TixVQUFVc04sSUFBSTtnQkFDakIsR0FBR0EsSUFBSTtZQUNUO1lBQ0FrSixVQUFVO2dCQUNSLEdBQUd4VyxVQUFVd1csUUFBUTtnQkFDckIsR0FBR0EsUUFBUTtZQUNiO1lBQ0EsR0FBR21LLElBQUk7UUFDVDtJQUNGLEdBQ0EsdURBQXVEO0lBQ3ZEO1FBQUMvWjtLQUFNO0lBQ1AsTUFBTSxDQUFDb2EsZUFBZSxHQUFHbm5CLDJDQUFjLENBQUM7UUFDdEMsK0VBQStFO1FBQy9FLE1BQU1vbkIsZ0JBQWdCalosYUFBYS9ILFFBQVE7UUFDM0MsTUFBTWdQLFFBQVEvVSxtREFBTUEsQ0FBQyxDQUFDcU0sS0FBS2tGLE1BQVM7Z0JBQ2xDLEdBQUd3VixhQUFhO2dCQUNoQi9mLE9BQU9EO2dCQUNQbVA7Z0JBQ0F3QjtnQkFDQXVFLE9BQU92RTtnQkFDUDVKO2dCQUNBcUksUUFBUTtvQkFDTixHQUFHNFEsY0FBYzVRLE1BQU07b0JBQ3ZCLEdBQUdBLE1BQU07Z0JBQ1g7Z0JBQ0EvQyxNQUFNO29CQUNKLEdBQUcyVCxjQUFjM1QsSUFBSTtvQkFDckIsR0FBR0EsSUFBSTtnQkFDVDtnQkFDQSxHQUFHcVQsSUFBSTtnQkFDUCx1Q0FBdUM7Z0JBQ3ZDcGE7Z0JBQ0FrRjtnQkFDQSx3Q0FBd0M7Z0JBQ3hDaUwsV0FBV3JHLENBQUFBLFNBQVU5SixJQUFJSyxDQUFBQSxRQUFVOzRCQUNqQyxHQUFHQSxLQUFLOzRCQUNSeUosUUFBUTtnQ0FDTixHQUFHekosTUFBTXlKLE1BQU07Z0NBQ2YsR0FBR0EsTUFBTTs0QkFDWDt3QkFDRjtZQUNGO1FBQ0EsT0FBT3BCO0lBQ1Q7SUFDQXBWLDRDQUFlLENBQUM7UUFDZCxzRkFBc0Y7UUFDdEYsTUFBTXFuQixRQUFRbFosYUFBYXFQLFNBQVMsQ0FBQzhKLENBQUFBLE9BQVFILGVBQWVJLFFBQVEsQ0FBQ3hhLENBQUFBLFFBQVNpYSxPQUFPTSxNQUFNdmE7UUFDM0YsT0FBTztZQUNMc2E7UUFDRjtJQUNBLHVEQUF1RDtJQUN6RCxHQUFHO1FBQUNMO0tBQU87SUFDWGhuQiw0Q0FBZSxDQUFDO1FBQ2RtbkIsZUFBZUksUUFBUSxDQUFDTCxDQUFBQSxjQUFlRixPQUFPN1ksYUFBYS9ILFFBQVEsSUFBSThnQjtJQUN2RSx1REFBdUQ7SUFDekQsR0FBRztRQUFDRjtLQUFPO0lBQ1hobkIsNENBQWUsQ0FBQztRQUNkLE9BQU87WUFDTG1uQixlQUFlSyxPQUFPO1FBQ3hCO0lBQ0EsdURBQXVEO0lBQ3pELEdBQUcsRUFBRTtJQUNMLE9BQU8sV0FBVyxHQUFFL21CLHNEQUFHQSxDQUFDQyx1REFBUUEsRUFBRTtRQUNoQ3dELFVBQVUwQyxXQUFXZ2dCLFlBQVksQ0FBRSxXQUFXLEdBQUVubUIsc0RBQUdBLENBQUMrWixRQUFReUwsUUFBUSxFQUFFO1lBQ3BFdGQsT0FBT3dlO1lBQ1BqakIsVUFBVUE7UUFDWixJQUFJaWpCLGdCQUFnQjtJQUN0QjtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDRCxTQUFTTSxVQUFVbGIsRUFBRTtJQUNuQiwrR0FBK0c7SUFDL0csT0FBTzNGLFdBQVc2Z0IsU0FBUyxDQUFDbGIsSUFBSW5LO0FBQ2xDO0FBQ0F3RSxXQUFXOGdCLGtCQUFrQixDQUFDO0lBQzVCQyxZQUFZMVcsTUFBeUIsR0FBZSxDQUFDLEdBQUc7SUFDeEQyVyxxQkFBcUI7SUFDckJDLFNBQVM3bkIsMENBQWE7QUFDeEI7QUFDQSxNQUFNOG5CLE1BQU05bkIsK0NBQWtCO0FBRTlCLE1BQU1nb0IsYUFBYTtJQUNqQkMsU0FBUztRQUFDO1FBQVM7S0FBTTtJQUN6QkMsZUFBZTtRQUFDO1FBQWU7S0FBTTtJQUNyQ0MsZUFBZTtRQUFDO1FBQVk7S0FBTTtJQUNsQ0MsU0FBUztRQUFDO1FBQVM7S0FBSztJQUN4QkMsZUFBZTtRQUFDO1FBQWU7S0FBSztJQUNwQ0MsYUFBYTtRQUFDO1FBQWE7S0FBSztJQUNoQ2hQLGdCQUFnQjtRQUFDO1FBQWdCO0tBQUs7SUFDdENjLGVBQWU7UUFBQztRQUFlO0tBQUs7SUFDcENtTyxpQkFBaUI7UUFBQztRQUFpQjtLQUFLO0lBQ3hDQyxzQkFBc0I7UUFBQztRQUFzQjtLQUFLO0FBQ3BEO0FBRUEsc0NBQXNDLEdBQ3RDLFNBQVNDLG9CQUFvQnJULEtBQUs7SUFDaEMsTUFBTSxFQUNKcUUsYUFBYSxFQUNkLEdBQUdqRSxhQUFhSjtJQUNqQixPQUFPO1FBQ0xnQyxVQUFVO1FBQ1ZULFNBQVM7UUFDVEYsU0FBUXBDLEtBQUssRUFBRXRILEtBQUssRUFBRXVELFFBQVE7WUFDNUIsdURBQXVEO1lBQ3ZELDRGQUE0RjtZQUM1RnZELE1BQU1nTCxPQUFPLENBQUNyTCxHQUFHLENBQUMySCxNQUFNc0IsT0FBTyxHQUFHNUksTUFBTTBHLElBQUksQ0FBQ0csS0FBSyxHQUFHLElBQUksR0FBRyxDQUFFUyxDQUFBQSxNQUFNeUIsT0FBTyxHQUFHL0ksTUFBTTBHLElBQUksQ0FBQ00sTUFBTSxJQUFJLElBQUk7WUFDdkdoSCxNQUFNd0osU0FBUyxDQUFDbVMsYUFBYSxDQUFDM2IsTUFBTWdMLE9BQU8sRUFBRWhMLE1BQU15RyxNQUFNO1FBQzNEO1FBQ0FxSSxXQUFXelo7UUFDWDJGLFVBQVVoSCxPQUFPa08sSUFBSSxDQUFDK1ksWUFBWS9YLE1BQU0sQ0FBQyxDQUFDQyxLQUFLUCxNQUFTO2dCQUN0RCxHQUFHTyxHQUFHO2dCQUNOLENBQUNQLElBQUksRUFBRThKLGNBQWM5SjtZQUN2QixJQUFJLENBQUM7UUFDTGdaLFFBQVE7WUFDTixJQUFJQztZQUNKLE1BQU0sRUFDSnBTLE1BQU0sRUFDTm5RLFFBQVEsRUFDVCxHQUFHK08sTUFBTWhQLFFBQVE7WUFDbEIsSUFBSSxDQUFDd2lCLHNCQUFzQnZpQixTQUFTdVQsU0FBUyxLQUFLLFFBQVFnUCxvQkFBb0JsaUIsT0FBTyxJQUFJOFAsT0FBT3pPLFFBQVEsRUFBRXlPLE9BQU96TyxRQUFRLENBQUNxUyxhQUFhLENBQUMvVCxTQUFTdVQsU0FBUyxDQUFDbFQsT0FBTztRQUNwSztRQUNBK2QsU0FBU2ppQixDQUFBQTtZQUNQLElBQUlxbUI7WUFDSixNQUFNLEVBQ0puYyxHQUFHLEVBQ0g4SixNQUFNLEVBQ1AsR0FBR3BCLE1BQU1oUCxRQUFRO1lBQ2xCb1EsT0FBT21PLFVBQVUsSUFBSSxPQUFPLEtBQUssSUFBSW5PLE9BQU9tTyxVQUFVO1lBQ3REalksSUFBSUssQ0FBQUEsUUFBVTtvQkFDWnlKLFFBQVE7d0JBQ04sR0FBR3pKLE1BQU15SixNQUFNO3dCQUNmcUYsV0FBV3JaO29CQUNiO2dCQUNGO1lBQ0F6QixPQUFPOE8sT0FBTyxDQUFDLENBQUNnWixtQkFBbUJyUyxPQUFPek8sUUFBUSxLQUFLLE9BQU84Z0IsbUJBQW1CLEVBQUUsRUFBRW5rQixPQUFPLENBQUMsQ0FBQyxDQUFDM0MsTUFBTXNTLE1BQU07Z0JBQ3pHLE1BQU0sQ0FBQ3lVLFdBQVdDLFFBQVEsR0FBR2YsVUFBVSxDQUFDam1CLEtBQUs7Z0JBQzdDUyxPQUFPa2lCLGdCQUFnQixDQUFDb0UsV0FBV3pVLE9BQU87b0JBQ3hDMFU7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0FwRSxZQUFZO1lBQ1YsTUFBTSxFQUNKalksR0FBRyxFQUNIOEosTUFBTSxFQUNQLEdBQUdwQixNQUFNaFAsUUFBUTtZQUNsQixJQUFJb1EsT0FBT3FGLFNBQVMsRUFBRTtnQkFDcEIsSUFBSW1OO2dCQUNKam9CLE9BQU84TyxPQUFPLENBQUMsQ0FBQ21aLG9CQUFvQnhTLE9BQU96TyxRQUFRLEtBQUssT0FBT2loQixvQkFBb0IsRUFBRSxFQUFFdGtCLE9BQU8sQ0FBQyxDQUFDLENBQUMzQyxNQUFNc1MsTUFBTTtvQkFDM0csSUFBSW1DLFVBQVVBLE9BQU9xRixTQUFTLFlBQVlvTixhQUFhO3dCQUNyRCxNQUFNLENBQUNILFVBQVUsR0FBR2QsVUFBVSxDQUFDam1CLEtBQUs7d0JBQ3BDeVUsT0FBT3FGLFNBQVMsQ0FBQytJLG1CQUFtQixDQUFDa0UsV0FBV3pVO29CQUNsRDtnQkFDRjtnQkFDQTNILElBQUlLLENBQUFBLFFBQVU7d0JBQ1p5SixRQUFROzRCQUNOLEdBQUd6SixNQUFNeUosTUFBTTs0QkFDZnFGLFdBQVd6Wjt3QkFDYjtvQkFDRjtZQUNGO1FBQ0Y7SUFDRjtBQUNGO0FBRStsQiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9jcmF0ZS13ZWIvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvZXZlbnRzLTc3NjcxNmJkLmVzbS5qcz8wOGQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERlZmF1bHRFdmVudFByaW9yaXR5LCBDb250aW51b3VzRXZlbnRQcmlvcml0eSwgRGlzY3JldGVFdmVudFByaW9yaXR5LCBDb25jdXJyZW50Um9vdCB9IGZyb20gJ3JlYWN0LXJlY29uY2lsZXIvY29uc3RhbnRzJztcbmltcG9ydCBjcmVhdGUgZnJvbSAnenVzdGFuZCc7XG5pbXBvcnQgeyBzdXNwZW5kLCBwcmVsb2FkLCBjbGVhciB9IGZyb20gJ3N1c3BlbmQtcmVhY3QnO1xuaW1wb3J0IHsganN4LCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCBSZWNvbmNpbGVyIGZyb20gJ3JlYWN0LXJlY29uY2lsZXInO1xuaW1wb3J0IHsgdW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaywgdW5zdGFibGVfSWRsZVByaW9yaXR5IH0gZnJvbSAnc2NoZWR1bGVyJztcblxudmFyIHRocmVlVHlwZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbFxufSk7XG5cbmNvbnN0IGNhdGFsb2d1ZSA9IHt9O1xuY29uc3QgZXh0ZW5kID0gb2JqZWN0cyA9PiB2b2lkIE9iamVjdC5hc3NpZ24oY2F0YWxvZ3VlLCBvYmplY3RzKTtcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKF9yb290cywgX2dldEV2ZW50UHJpb3JpdHkpIHtcbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UodHlwZSwge1xuICAgIGFyZ3MgPSBbXSxcbiAgICBhdHRhY2gsXG4gICAgLi4ucHJvcHNcbiAgfSwgcm9vdCkge1xuICAgIGxldCBuYW1lID0gYCR7dHlwZVswXS50b1VwcGVyQ2FzZSgpfSR7dHlwZS5zbGljZSgxKX1gO1xuICAgIGxldCBpbnN0YW5jZTtcbiAgICBpZiAodHlwZSA9PT0gJ3ByaW1pdGl2ZScpIHtcbiAgICAgIGlmIChwcm9wcy5vYmplY3QgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiUjNGOiBQcmltaXRpdmVzIHdpdGhvdXQgJ29iamVjdCcgYXJlIGludmFsaWQhXCIpO1xuICAgICAgY29uc3Qgb2JqZWN0ID0gcHJvcHMub2JqZWN0O1xuICAgICAgaW5zdGFuY2UgPSBwcmVwYXJlKG9iamVjdCwge1xuICAgICAgICB0eXBlLFxuICAgICAgICByb290LFxuICAgICAgICBhdHRhY2gsXG4gICAgICAgIHByaW1pdGl2ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGNhdGFsb2d1ZVtuYW1lXTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUjNGOiAke25hbWV9IGlzIG5vdCBwYXJ0IG9mIHRoZSBUSFJFRSBuYW1lc3BhY2UhIERpZCB5b3UgZm9yZ2V0IHRvIGV4dGVuZD8gU2VlOiBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvb2JqZWN0cyN1c2luZy0zcmQtcGFydHktb2JqZWN0cy1kZWNsYXJhdGl2ZWx5YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRocm93IGlmIGFuIG9iamVjdCBvciBsaXRlcmFsIHdhcyBwYXNzZWQgZm9yIGFyZ3NcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSkgdGhyb3cgbmV3IEVycm9yKCdSM0Y6IFRoZSBhcmdzIHByb3AgbXVzdCBiZSBhbiBhcnJheSEnKTtcblxuICAgICAgLy8gSW5zdGFuY2lhdGUgbmV3IG9iamVjdCwgbGluayBpdCB0byB0aGUgcm9vdFxuICAgICAgLy8gQXBwZW5kIG1lbW9pemVkIHByb3BzIHdpdGggYXJncyBzbyBpdCdzIG5vdCBmb3Jnb3R0ZW5cbiAgICAgIGluc3RhbmNlID0gcHJlcGFyZShuZXcgdGFyZ2V0KC4uLmFyZ3MpLCB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHJvb3QsXG4gICAgICAgIGF0dGFjaCxcbiAgICAgICAgLy8gU2F2ZSBhcmdzIGluIGNhc2Ugd2UgbmVlZCB0byByZWNvbnN0cnVjdCBsYXRlciBmb3IgSE1SXG4gICAgICAgIG1lbW9pemVkUHJvcHM6IHtcbiAgICAgICAgICBhcmdzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEF1dG8tYXR0YWNoIGdlb21ldHJpZXMgYW5kIG1hdGVyaWFsc1xuICAgIGlmIChpbnN0YW5jZS5fX3IzZi5hdHRhY2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGluc3RhbmNlLmlzQnVmZmVyR2VvbWV0cnkpIGluc3RhbmNlLl9fcjNmLmF0dGFjaCA9ICdnZW9tZXRyeSc7ZWxzZSBpZiAoaW5zdGFuY2UuaXNNYXRlcmlhbCkgaW5zdGFuY2UuX19yM2YuYXR0YWNoID0gJ21hdGVyaWFsJztcbiAgICB9XG5cbiAgICAvLyBJdCBzaG91bGQgTk9UIGNhbGwgb25VcGRhdGUgb24gb2JqZWN0IGluc3RhbmNpYXRpb24sIGJlY2F1c2UgaXQgaGFzbid0IGJlZW4gYWRkZWQgdG8gdGhlXG4gICAgLy8gdmlldyB5ZXQuIElmIHRoZSBjYWxsYmFjayByZWxpZXMgb24gcmVmZXJlbmNlcyBmb3IgaW5zdGFuY2UsIHRoZXkgd29uJ3QgYmUgcmVhZHkgeWV0LCB0aGlzIGlzXG4gICAgLy8gd2h5IGl0IHBhc3NlcyBcInRydWVcIiBoZXJlXG4gICAgLy8gVGhlcmUgaXMgbm8gcmVhc29uIHRvIGFwcGx5IHByb3BzIHRvIGluamVjdHNcbiAgICBpZiAobmFtZSAhPT0gJ2luamVjdCcpIGFwcGx5UHJvcHMkMShpbnN0YW5jZSwgcHJvcHMpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHZhciBfY2hpbGQkX19yM2YsIF9wYXJlbnRJbnN0YW5jZSRfX3IzZjtcbiAgICAgIC8vIFRoZSBhdHRhY2ggYXR0cmlidXRlIGltcGxpZXMgdGhhdCB0aGUgb2JqZWN0IGF0dGFjaGVzIGl0c2VsZiBvbiB0aGUgcGFyZW50XG4gICAgICBpZiAoKF9jaGlsZCRfX3IzZiA9IGNoaWxkLl9fcjNmKSAhPSBudWxsICYmIF9jaGlsZCRfX3IzZi5hdHRhY2gpIHtcbiAgICAgICAgYXR0YWNoKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgY2hpbGQuX19yM2YuYXR0YWNoKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQuaXNPYmplY3QzRCAmJiBwYXJlbnRJbnN0YW5jZS5pc09iamVjdDNEKSB7XG4gICAgICAgIC8vIGFkZCBpbiB0aGUgdXN1YWwgcGFyZW50LWNoaWxkIHdheVxuICAgICAgICBwYXJlbnRJbnN0YW5jZS5hZGQoY2hpbGQpO1xuICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIGlzIGZvciBhbnl0aGluZyB0aGF0IHVzZWQgYXR0YWNoLCBhbmQgZm9yIG5vbi1PYmplY3QzRHMgdGhhdCBkb24ndCBnZXQgYXR0YWNoZWQgdG8gcHJvcHM7XG4gICAgICAvLyB0aGF0IGlzLCBhbnl0aGluZyB0aGF0J3MgYSBjaGlsZCBpbiBSZWFjdCBidXQgbm90IGEgY2hpbGQgaW4gdGhlIHNjZW5lZ3JhcGguXG4gICAgICBpZiAoIWFkZGVkKSAoX3BhcmVudEluc3RhbmNlJF9fcjNmID0gcGFyZW50SW5zdGFuY2UuX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfcGFyZW50SW5zdGFuY2UkX19yM2Yub2JqZWN0cy5wdXNoKGNoaWxkKTtcbiAgICAgIGlmICghY2hpbGQuX19yM2YpIHByZXBhcmUoY2hpbGQsIHt9KTtcbiAgICAgIGNoaWxkLl9fcjNmLnBhcmVudCA9IHBhcmVudEluc3RhbmNlO1xuICAgICAgdXBkYXRlSW5zdGFuY2UoY2hpbGQpO1xuICAgICAgaW52YWxpZGF0ZUluc3RhbmNlKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHZhciBfY2hpbGQkX19yM2YyLCBfcGFyZW50SW5zdGFuY2UkX19yM2YyO1xuICAgICAgaWYgKChfY2hpbGQkX19yM2YyID0gY2hpbGQuX19yM2YpICE9IG51bGwgJiYgX2NoaWxkJF9fcjNmMi5hdHRhY2gpIHtcbiAgICAgICAgYXR0YWNoKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgY2hpbGQuX19yM2YuYXR0YWNoKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQuaXNPYmplY3QzRCAmJiBwYXJlbnRJbnN0YW5jZS5pc09iamVjdDNEKSB7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHBhcmVudEluc3RhbmNlO1xuICAgICAgICBjaGlsZC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnYWRkZWQnXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRJbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnY2hpbGRhZGRlZCcsXG4gICAgICAgICAgY2hpbGRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3RTaWJsaW5ncyA9IHBhcmVudEluc3RhbmNlLmNoaWxkcmVuLmZpbHRlcihzaWJsaW5nID0+IHNpYmxpbmcgIT09IGNoaWxkKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSByZXN0U2libGluZ3MuaW5kZXhPZihiZWZvcmVDaGlsZCk7XG4gICAgICAgIHBhcmVudEluc3RhbmNlLmNoaWxkcmVuID0gWy4uLnJlc3RTaWJsaW5ncy5zbGljZSgwLCBpbmRleCksIGNoaWxkLCAuLi5yZXN0U2libGluZ3Muc2xpY2UoaW5kZXgpXTtcbiAgICAgICAgYWRkZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRlZCkgKF9wYXJlbnRJbnN0YW5jZSRfX3IzZjIgPSBwYXJlbnRJbnN0YW5jZS5fX3IzZikgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJlbnRJbnN0YW5jZSRfX3IzZjIub2JqZWN0cy5wdXNoKGNoaWxkKTtcbiAgICAgIGlmICghY2hpbGQuX19yM2YpIHByZXBhcmUoY2hpbGQsIHt9KTtcbiAgICAgIGNoaWxkLl9fcjNmLnBhcmVudCA9IHBhcmVudEluc3RhbmNlO1xuICAgICAgdXBkYXRlSW5zdGFuY2UoY2hpbGQpO1xuICAgICAgaW52YWxpZGF0ZUluc3RhbmNlKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlUmVjdXJzaXZlKGFycmF5LCBwYXJlbnQsIGRpc3Bvc2UgPSBmYWxzZSkge1xuICAgIGlmIChhcnJheSkgWy4uLmFycmF5XS5mb3JFYWNoKGNoaWxkID0+IHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQsIGRpc3Bvc2UpKTtcbiAgfVxuICBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnRJbnN0YW5jZSwgY2hpbGQsIGRpc3Bvc2UpIHtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHZhciBfcGFyZW50SW5zdGFuY2UkX19yM2YzLCBfY2hpbGQkX19yM2YzLCBfY2hpbGQkX19yM2Y1O1xuICAgICAgLy8gQ2xlYXIgdGhlIHBhcmVudCByZWZlcmVuY2VcbiAgICAgIGlmIChjaGlsZC5fX3IzZikgY2hpbGQuX19yM2YucGFyZW50ID0gbnVsbDtcbiAgICAgIC8vIFJlbW92ZSBjaGlsZCBmcm9tIHRoZSBwYXJlbnRzIG9iamVjdHNcbiAgICAgIGlmICgoX3BhcmVudEluc3RhbmNlJF9fcjNmMyA9IHBhcmVudEluc3RhbmNlLl9fcjNmKSAhPSBudWxsICYmIF9wYXJlbnRJbnN0YW5jZSRfX3IzZjMub2JqZWN0cykgcGFyZW50SW5zdGFuY2UuX19yM2Yub2JqZWN0cyA9IHBhcmVudEluc3RhbmNlLl9fcjNmLm9iamVjdHMuZmlsdGVyKHggPT4geCAhPT0gY2hpbGQpO1xuICAgICAgLy8gUmVtb3ZlIGF0dGFjaG1lbnRcbiAgICAgIGlmICgoX2NoaWxkJF9fcjNmMyA9IGNoaWxkLl9fcjNmKSAhPSBudWxsICYmIF9jaGlsZCRfX3IzZjMuYXR0YWNoKSB7XG4gICAgICAgIGRldGFjaChwYXJlbnRJbnN0YW5jZSwgY2hpbGQsIGNoaWxkLl9fcjNmLmF0dGFjaCk7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkLmlzT2JqZWN0M0QgJiYgcGFyZW50SW5zdGFuY2UuaXNPYmplY3QzRCkge1xuICAgICAgICB2YXIgX2NoaWxkJF9fcjNmNDtcbiAgICAgICAgcGFyZW50SW5zdGFuY2UucmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAvLyBSZW1vdmUgaW50ZXJhY3Rpdml0eSBvbiB0aGUgaW5pdGlhbCByb290XG4gICAgICAgIGlmICgoX2NoaWxkJF9fcjNmNCA9IGNoaWxkLl9fcjNmKSAhPSBudWxsICYmIF9jaGlsZCRfX3IzZjQucm9vdCkge1xuICAgICAgICAgIHJlbW92ZUludGVyYWN0aXZpdHkoZmluZEluaXRpYWxSb290KGNoaWxkKSwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFsbG93IG9iamVjdHMgdG8gYmFpbCBvdXQgb2YgcmVjdXJzaXZlIGRpc3Bvc2UgYWx0b2dldGhlciBieSBwYXNzaW5nIGRpc3Bvc2U9e251bGx9XG4gICAgICAvLyBOZXZlciBkaXNwb3NlIG9mIHByaW1pdGl2ZXMgYmVjYXVzZSB0aGVpciBzdGF0ZSBtYXkgYmUga2VwdCBvdXRzaWRlIG9mIFJlYWN0IVxuICAgICAgLy8gSW4gb3JkZXIgZm9yIGFuIG9iamVjdCB0byBiZSBhYmxlIHRvIGRpc3Bvc2UgaXQgaGFzIHRvIGhhdmVcbiAgICAgIC8vICAgLSBhIGRpc3Bvc2UgbWV0aG9kLFxuICAgICAgLy8gICAtIGl0IGNhbm5vdCBiZSBhIDxwcmltaXRpdmUgb2JqZWN0PXsuLi59IC8+XG4gICAgICAvLyAgIC0gaXQgY2Fubm90IGJlIGEgVEhSRUUuU2NlbmUsIGJlY2F1c2UgdGhyZWUgaGFzIGJyb2tlbiBpdCdzIG93biBhcGlcbiAgICAgIC8vXG4gICAgICAvLyBTaW5jZSBkaXNwb3NhbCBpcyByZWN1cnNpdmUsIHdlIGNhbiBjaGVjayB0aGUgb3B0aW9uYWwgZGlzcG9zZSBhcmcsIHdoaWNoIHdpbGwgYmUgdW5kZWZpbmVkXG4gICAgICAvLyB3aGVuIHRoZSByZWNvbmNpbGVyIGNhbGxzIGl0LCBidXQgdGhlbiBjYXJyeSBvdXIgb3duIGNoZWNrIHJlY3Vyc2l2ZWx5XG4gICAgICBjb25zdCBpc1ByaW1pdGl2ZSA9IChfY2hpbGQkX19yM2Y1ID0gY2hpbGQuX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfY2hpbGQkX19yM2Y1LnByaW1pdGl2ZTtcbiAgICAgIGNvbnN0IHNob3VsZERpc3Bvc2UgPSAhaXNQcmltaXRpdmUgJiYgKGRpc3Bvc2UgPT09IHVuZGVmaW5lZCA/IGNoaWxkLmRpc3Bvc2UgIT09IG51bGwgOiBkaXNwb3NlKTtcblxuICAgICAgLy8gUmVtb3ZlIG5lc3RlZCBjaGlsZCBvYmplY3RzLiBQcmltaXRpdmVzIHNob3VsZCBub3QgaGF2ZSBvYmplY3RzIGFuZCBjaGlsZHJlbiB0aGF0IGFyZVxuICAgICAgLy8gYXR0YWNoZWQgdG8gdGhlbSBkZWNsYXJhdGl2ZWx5IC4uLlxuICAgICAgaWYgKCFpc1ByaW1pdGl2ZSkge1xuICAgICAgICB2YXIgX2NoaWxkJF9fcjNmNjtcbiAgICAgICAgcmVtb3ZlUmVjdXJzaXZlKChfY2hpbGQkX19yM2Y2ID0gY2hpbGQuX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfY2hpbGQkX19yM2Y2Lm9iamVjdHMsIGNoaWxkLCBzaG91bGREaXNwb3NlKTtcbiAgICAgICAgcmVtb3ZlUmVjdXJzaXZlKGNoaWxkLmNoaWxkcmVuLCBjaGlsZCwgc2hvdWxkRGlzcG9zZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICBkZWxldGUgY2hpbGQuX19yM2Y7XG5cbiAgICAgIC8vIERpc3Bvc2UgaXRlbSB3aGVuZXZlciB0aGUgcmVjb25jaWxlciBmZWVscyBsaWtlIGl0XG4gICAgICBpZiAoc2hvdWxkRGlzcG9zZSAmJiBjaGlsZC5kaXNwb3NlICYmIGNoaWxkLnR5cGUgIT09ICdTY2VuZScpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNoaWxkLmRpc3Bvc2UoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvKiAuLi4gKi9cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2NoZWR1bGUgYXN5bmMgYXQgcnVudGltZSwgZmx1c2ggc3luYyBpbiB0ZXN0aW5nXG4gICAgICAgIGlmICh0eXBlb2YgSVNfUkVBQ1RfQUNUX0VOVklST05NRU5UID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2sodW5zdGFibGVfSWRsZVByaW9yaXR5LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaW52YWxpZGF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3dpdGNoSW5zdGFuY2UoaW5zdGFuY2UsIHR5cGUsIG5ld1Byb3BzLCBmaWJlcikge1xuICAgIHZhciBfaW5zdGFuY2UkX19yM2Y7XG4gICAgY29uc3QgcGFyZW50ID0gKF9pbnN0YW5jZSRfX3IzZiA9IGluc3RhbmNlLl9fcjNmKSA9PSBudWxsID8gdm9pZCAwIDogX2luc3RhbmNlJF9fcjNmLnBhcmVudDtcbiAgICBpZiAoIXBhcmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IG5ld0luc3RhbmNlID0gY3JlYXRlSW5zdGFuY2UodHlwZSwgbmV3UHJvcHMsIGluc3RhbmNlLl9fcjNmLnJvb3QpO1xuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9pc3N1ZXMvMTM0OFxuICAgIC8vIFdoZW4gYXJncyBjaGFuZ2UgdGhlIGluc3RhbmNlIGhhcyB0byBiZSByZS1jb25zdHJ1Y3RlZCwgd2hpY2ggdGhlblxuICAgIC8vIGZvcmNlcyByM2YgdG8gcmUtcGFyZW50IHRoZSBjaGlsZHJlbiBhbmQgbm9uLXNjZW5lIG9iamVjdHNcbiAgICBpZiAoaW5zdGFuY2UuY2hpbGRyZW4pIHtcbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgaW5zdGFuY2UuY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGNoaWxkLl9fcjNmKSBhcHBlbmRDaGlsZChuZXdJbnN0YW5jZSwgY2hpbGQpO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2UuY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4gIWNoaWxkLl9fcjNmKTtcbiAgICB9XG4gICAgaW5zdGFuY2UuX19yM2Yub2JqZWN0cy5mb3JFYWNoKGNoaWxkID0+IGFwcGVuZENoaWxkKG5ld0luc3RhbmNlLCBjaGlsZCkpO1xuICAgIGluc3RhbmNlLl9fcjNmLm9iamVjdHMgPSBbXTtcbiAgICBpZiAoIWluc3RhbmNlLl9fcjNmLmF1dG9SZW1vdmVkQmVmb3JlQXBwZW5kKSB7XG4gICAgICByZW1vdmVDaGlsZChwYXJlbnQsIGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKG5ld0luc3RhbmNlLnBhcmVudCkge1xuICAgICAgbmV3SW5zdGFuY2UuX19yM2YuYXV0b1JlbW92ZWRCZWZvcmVBcHBlbmQgPSB0cnVlO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChwYXJlbnQsIG5ld0luc3RhbmNlKTtcblxuICAgIC8vIFJlLWJpbmQgZXZlbnQgaGFuZGxlcnMgb24gdGhlIGluaXRpYWwgcm9vdFxuICAgIGlmIChuZXdJbnN0YW5jZS5yYXljYXN0ICYmIG5ld0luc3RhbmNlLl9fcjNmLmV2ZW50Q291bnQpIHtcbiAgICAgIGNvbnN0IHJvb3RTdGF0ZSA9IGZpbmRJbml0aWFsUm9vdChuZXdJbnN0YW5jZSkuZ2V0U3RhdGUoKTtcbiAgICAgIHJvb3RTdGF0ZS5pbnRlcm5hbC5pbnRlcmFjdGlvbi5wdXNoKG5ld0luc3RhbmNlKTtcbiAgICB9XG4gICAgW2ZpYmVyLCBmaWJlci5hbHRlcm5hdGVdLmZvckVhY2goZmliZXIgPT4ge1xuICAgICAgaWYgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgIGZpYmVyLnN0YXRlTm9kZSA9IG5ld0luc3RhbmNlO1xuICAgICAgICBpZiAoZmliZXIucmVmKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBmaWJlci5yZWYgPT09ICdmdW5jdGlvbicpIGZpYmVyLnJlZihuZXdJbnN0YW5jZSk7ZWxzZSBmaWJlci5yZWYuY3VycmVudCA9IG5ld0luc3RhbmNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBEb24ndCBoYW5kbGUgdGV4dCBpbnN0YW5jZXMsIG1ha2UgaXQgbm8tb3BcbiAgY29uc3QgaGFuZGxlVGV4dEluc3RhbmNlID0gKCkgPT4ge307XG4gIGNvbnN0IHJlY29uY2lsZXIgPSBSZWNvbmNpbGVyKHtcbiAgICBjcmVhdGVJbnN0YW5jZSxcbiAgICByZW1vdmVDaGlsZCxcbiAgICBhcHBlbmRDaGlsZCxcbiAgICBhcHBlbmRJbml0aWFsQ2hpbGQ6IGFwcGVuZENoaWxkLFxuICAgIGluc2VydEJlZm9yZSxcbiAgICBzdXBwb3J0c011dGF0aW9uOiB0cnVlLFxuICAgIGlzUHJpbWFyeVJlbmRlcmVyOiBmYWxzZSxcbiAgICBzdXBwb3J0c1BlcnNpc3RlbmNlOiBmYWxzZSxcbiAgICBzdXBwb3J0c0h5ZHJhdGlvbjogZmFsc2UsXG4gICAgbm9UaW1lb3V0OiAtMSxcbiAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyOiAoY29udGFpbmVyLCBjaGlsZCkgPT4ge1xuICAgICAgaWYgKCFjaGlsZCkgcmV0dXJuO1xuXG4gICAgICAvLyBEb24ndCBhcHBlbmQgdG8gdW5tb3VudGVkIGNvbnRhaW5lclxuICAgICAgY29uc3Qgc2NlbmUgPSBjb250YWluZXIuZ2V0U3RhdGUoKS5zY2VuZTtcbiAgICAgIGlmICghc2NlbmUuX19yM2YpIHJldHVybjtcblxuICAgICAgLy8gTGluayBjdXJyZW50IHJvb3QgdG8gdGhlIGRlZmF1bHQgc2NlbmVcbiAgICAgIHNjZW5lLl9fcjNmLnJvb3QgPSBjb250YWluZXI7XG4gICAgICBhcHBlbmRDaGlsZChzY2VuZSwgY2hpbGQpO1xuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyOiAoY29udGFpbmVyLCBjaGlsZCkgPT4ge1xuICAgICAgaWYgKCFjaGlsZCkgcmV0dXJuO1xuICAgICAgcmVtb3ZlQ2hpbGQoY29udGFpbmVyLmdldFN0YXRlKCkuc2NlbmUsIGNoaWxkKTtcbiAgICB9LFxuICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlOiAoY29udGFpbmVyLCBjaGlsZCwgYmVmb3JlQ2hpbGQpID0+IHtcbiAgICAgIGlmICghY2hpbGQgfHwgIWJlZm9yZUNoaWxkKSByZXR1cm47XG5cbiAgICAgIC8vIERvbid0IGFwcGVuZCB0byB1bm1vdW50ZWQgY29udGFpbmVyXG4gICAgICBjb25zdCBzY2VuZSA9IGNvbnRhaW5lci5nZXRTdGF0ZSgpLnNjZW5lO1xuICAgICAgaWYgKCFzY2VuZS5fX3IzZikgcmV0dXJuO1xuICAgICAgaW5zZXJ0QmVmb3JlKHNjZW5lLCBjaGlsZCwgYmVmb3JlQ2hpbGQpO1xuICAgIH0sXG4gICAgZ2V0Um9vdEhvc3RDb250ZXh0OiAoKSA9PiBudWxsLFxuICAgIGdldENoaWxkSG9zdENvbnRleHQ6IHBhcmVudEhvc3RDb250ZXh0ID0+IHBhcmVudEhvc3RDb250ZXh0LFxuICAgIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKGluc3RhbmNlKSB7XG4gICAgICB2YXIgX2luc3RhbmNlJF9fcjNmMjtcbiAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAoX2luc3RhbmNlJF9fcjNmMiA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5fX3IzZikgIT0gbnVsbCA/IF9pbnN0YW5jZSRfX3IzZjIgOiB7fTtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjAyNzFcbiAgICAgIC8vIFJldHVybmluZyB0cnVlIHdpbGwgdHJpZ2dlciBjb21taXRNb3VudFxuICAgICAgcmV0dXJuIEJvb2xlYW4obG9jYWxTdGF0ZS5oYW5kbGVycyk7XG4gICAgfSxcbiAgICBwcmVwYXJlVXBkYXRlKGluc3RhbmNlLCBfdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKSB7XG4gICAgICB2YXIgX2luc3RhbmNlJF9fcjNmMztcbiAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAoX2luc3RhbmNlJF9fcjNmMyA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5fX3IzZikgIT0gbnVsbCA/IF9pbnN0YW5jZSRfX3IzZjMgOiB7fTtcblxuICAgICAgLy8gQ3JlYXRlIGRpZmYtc2V0c1xuICAgICAgaWYgKGxvY2FsU3RhdGUucHJpbWl0aXZlICYmIG5ld1Byb3BzLm9iamVjdCAmJiBuZXdQcm9wcy5vYmplY3QgIT09IGluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBbdHJ1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIGEgZGF0YSBvYmplY3QsIGxldCdzIGV4dHJhY3QgY3JpdGljYWwgaW5mb3JtYXRpb24gYWJvdXQgaXRcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGFyZ3M6IGFyZ3NOZXcgPSBbXSxcbiAgICAgICAgICBjaGlsZHJlbjogY04sXG4gICAgICAgICAgLi4ucmVzdE5ld1xuICAgICAgICB9ID0gbmV3UHJvcHM7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBhcmdzOiBhcmdzT2xkID0gW10sXG4gICAgICAgICAgY2hpbGRyZW46IGNPLFxuICAgICAgICAgIC4uLnJlc3RPbGRcbiAgICAgICAgfSA9IG9sZFByb3BzO1xuXG4gICAgICAgIC8vIFRocm93IGlmIGFuIG9iamVjdCBvciBsaXRlcmFsIHdhcyBwYXNzZWQgZm9yIGFyZ3NcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3NOZXcpKSB0aHJvdyBuZXcgRXJyb3IoJ1IzRjogdGhlIGFyZ3MgcHJvcCBtdXN0IGJlIGFuIGFycmF5IScpO1xuXG4gICAgICAgIC8vIElmIGl0IGhhcyBuZXcgcHJvcHMgb3IgYXJndW1lbnRzLCB0aGVuIGl0IG5lZWRzIHRvIGJlIHJlLWluc3RhbnRpYXRlZFxuICAgICAgICBpZiAoYXJnc05ldy5zb21lKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICE9PSBhcmdzT2xkW2luZGV4XSkpIHJldHVybiBbdHJ1ZV07XG4gICAgICAgIC8vIENyZWF0ZSBhIGRpZmYtc2V0LCBmbGFnIGlmIHRoZXJlIGFyZSBhbnkgY2hhbmdlc1xuICAgICAgICBjb25zdCBkaWZmID0gZGlmZlByb3BzKGluc3RhbmNlLCByZXN0TmV3LCByZXN0T2xkLCB0cnVlKTtcbiAgICAgICAgaWYgKGRpZmYuY2hhbmdlcy5sZW5ndGgpIHJldHVybiBbZmFsc2UsIGRpZmZdO1xuXG4gICAgICAgIC8vIE90aGVyd2lzZSBkbyBub3QgdG91Y2ggdGhlIGluc3RhbmNlXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29tbWl0VXBkYXRlKGluc3RhbmNlLCBbcmVjb25zdHJ1Y3QsIGRpZmZdLCB0eXBlLCBfb2xkUHJvcHMsIG5ld1Byb3BzLCBmaWJlcikge1xuICAgICAgLy8gUmVjb25zdHJ1Y3Qgd2hlbiBhcmdzIG9yIDxwcmltaXRpdmUgb2JqZWN0PXsuLi59IGhhdmUgY2hhbmdlc1xuICAgICAgaWYgKHJlY29uc3RydWN0KSBzd2l0Y2hJbnN0YW5jZShpbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIGZpYmVyKTtcbiAgICAgIC8vIE90aGVyd2lzZSBqdXN0IG92ZXJ3cml0ZSBwcm9wc1xuICAgICAgZWxzZSBhcHBseVByb3BzJDEoaW5zdGFuY2UsIGRpZmYpO1xuICAgIH0sXG4gICAgY29tbWl0TW91bnQoaW5zdGFuY2UsIF90eXBlLCBfcHJvcHMsIF9pbnQpIHtcbiAgICAgIHZhciBfaW5zdGFuY2UkX19yM2Y0O1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8yMDI3MVxuICAgICAgLy8gVGhpcyB3aWxsIG1ha2Ugc3VyZSBldmVudHMgYXJlIG9ubHkgYWRkZWQgb25jZSB0byB0aGUgY2VudHJhbCBjb250YWluZXIgb24gdGhlIGluaXRpYWwgcm9vdFxuICAgICAgY29uc3QgbG9jYWxTdGF0ZSA9IChfaW5zdGFuY2UkX19yM2Y0ID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgPyBfaW5zdGFuY2UkX19yM2Y0IDoge307XG4gICAgICBpZiAoaW5zdGFuY2UucmF5Y2FzdCAmJiBsb2NhbFN0YXRlLmhhbmRsZXJzICYmIGxvY2FsU3RhdGUuZXZlbnRDb3VudCkge1xuICAgICAgICBmaW5kSW5pdGlhbFJvb3QoaW5zdGFuY2UpLmdldFN0YXRlKCkuaW50ZXJuYWwuaW50ZXJhY3Rpb24ucHVzaChpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRQdWJsaWNJbnN0YW5jZTogaW5zdGFuY2UgPT4gaW5zdGFuY2UsXG4gICAgcHJlcGFyZUZvckNvbW1pdDogKCkgPT4gbnVsbCxcbiAgICBwcmVwYXJlUG9ydGFsTW91bnQ6IGNvbnRhaW5lciA9PiBwcmVwYXJlKGNvbnRhaW5lci5nZXRTdGF0ZSgpLnNjZW5lKSxcbiAgICByZXNldEFmdGVyQ29tbWl0OiAoKSA9PiB7fSxcbiAgICBzaG91bGRTZXRUZXh0Q29udGVudDogKCkgPT4gZmFsc2UsXG4gICAgY2xlYXJDb250YWluZXI6ICgpID0+IGZhbHNlLFxuICAgIGhpZGVJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgICAgdmFyIF9pbnN0YW5jZSRfX3IzZjU7XG4gICAgICAvLyBEZXRhY2ggd2hpbGUgdGhlIGluc3RhbmNlIGlzIGhpZGRlblxuICAgICAgY29uc3Qge1xuICAgICAgICBhdHRhY2g6IHR5cGUsXG4gICAgICAgIHBhcmVudFxuICAgICAgfSA9IChfaW5zdGFuY2UkX19yM2Y1ID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgPyBfaW5zdGFuY2UkX19yM2Y1IDoge307XG4gICAgICBpZiAodHlwZSAmJiBwYXJlbnQpIGRldGFjaChwYXJlbnQsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIGlmIChpbnN0YW5jZS5pc09iamVjdDNEKSBpbnN0YW5jZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICBpbnZhbGlkYXRlSW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIH0sXG4gICAgdW5oaWRlSW5zdGFuY2UoaW5zdGFuY2UsIHByb3BzKSB7XG4gICAgICB2YXIgX2luc3RhbmNlJF9fcjNmNjtcbiAgICAgIC8vIFJlLWF0dGFjaCB3aGVuIHRoZSBpbnN0YW5jZSBpcyB1bmhpZGRlblxuICAgICAgY29uc3Qge1xuICAgICAgICBhdHRhY2g6IHR5cGUsXG4gICAgICAgIHBhcmVudFxuICAgICAgfSA9IChfaW5zdGFuY2UkX19yM2Y2ID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgPyBfaW5zdGFuY2UkX19yM2Y2IDoge307XG4gICAgICBpZiAodHlwZSAmJiBwYXJlbnQpIGF0dGFjaChwYXJlbnQsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIGlmIChpbnN0YW5jZS5pc09iamVjdDNEICYmIHByb3BzLnZpc2libGUgPT0gbnVsbCB8fCBwcm9wcy52aXNpYmxlKSBpbnN0YW5jZS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIGludmFsaWRhdGVJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgfSxcbiAgICBjcmVhdGVUZXh0SW5zdGFuY2U6IGhhbmRsZVRleHRJbnN0YW5jZSxcbiAgICBoaWRlVGV4dEluc3RhbmNlOiBoYW5kbGVUZXh0SW5zdGFuY2UsXG4gICAgdW5oaWRlVGV4dEluc3RhbmNlOiBoYW5kbGVUZXh0SW5zdGFuY2UsXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9wdWxsLzIzNjAjZGlzY3Vzc2lvbl9yOTE2MzU2ODc0XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGdldEN1cnJlbnRFdmVudFByaW9yaXR5OiAoKSA9PiBfZ2V0RXZlbnRQcmlvcml0eSA/IF9nZXRFdmVudFByaW9yaXR5KCkgOiBEZWZhdWx0RXZlbnRQcmlvcml0eSxcbiAgICBiZWZvcmVBY3RpdmVJbnN0YW5jZUJsdXI6ICgpID0+IHt9LFxuICAgIGFmdGVyQWN0aXZlSW5zdGFuY2VCbHVyOiAoKSA9PiB7fSxcbiAgICBkZXRhY2hEZWxldGVkSW5zdGFuY2U6ICgpID0+IHt9LFxuICAgIG5vdzogdHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiBpcy5mdW4ocGVyZm9ybWFuY2Uubm93KSA/IHBlcmZvcm1hbmNlLm5vdyA6IGlzLmZ1bihEYXRlLm5vdykgPyBEYXRlLm5vdyA6ICgpID0+IDAsXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9wdWxsLzIzNjAjZGlzY3Vzc2lvbl9yOTIwODgzNTAzXG4gICAgc2NoZWR1bGVUaW1lb3V0OiBpcy5mdW4oc2V0VGltZW91dCkgPyBzZXRUaW1lb3V0IDogdW5kZWZpbmVkLFxuICAgIGNhbmNlbFRpbWVvdXQ6IGlzLmZ1bihjbGVhclRpbWVvdXQpID8gY2xlYXJUaW1lb3V0IDogdW5kZWZpbmVkXG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHJlY29uY2lsZXIsXG4gICAgYXBwbHlQcm9wczogYXBwbHlQcm9wcyQxXG4gIH07XG59XG5cbnZhciBfd2luZG93JGRvY3VtZW50LCBfd2luZG93JG5hdmlnYXRvcjtcbi8qKlxyXG4gKiBSZXR1cm5zIGB0cnVlYCB3aXRoIGNvcnJlY3QgVFMgdHlwZSBpbmZlcmVuY2UgaWYgYW4gb2JqZWN0IGhhcyBhIGNvbmZpZ3VyYWJsZSBjb2xvciBzcGFjZSAoc2luY2UgcjE1MikuXHJcbiAqL1xuY29uc3QgaGFzQ29sb3JTcGFjZSA9IG9iamVjdCA9PiAnY29sb3JTcGFjZScgaW4gb2JqZWN0IHx8ICdvdXRwdXRDb2xvclNwYWNlJyBpbiBvYmplY3Q7XG4vKipcclxuICogVGhlIGN1cnJlbnQgVEhSRUUuQ29sb3JNYW5hZ2VtZW50IGluc3RhbmNlLCBpZiBwcmVzZW50LlxyXG4gKi9cbmNvbnN0IGdldENvbG9yTWFuYWdlbWVudCA9ICgpID0+IHtcbiAgdmFyIF9Db2xvck1hbmFnZW1lbnQ7XG4gIHJldHVybiAoX0NvbG9yTWFuYWdlbWVudCA9IGNhdGFsb2d1ZS5Db2xvck1hbmFnZW1lbnQpICE9IG51bGwgPyBfQ29sb3JNYW5hZ2VtZW50IDogbnVsbDtcbn07XG5jb25zdCBpc09ydGhvZ3JhcGhpY0NhbWVyYSA9IGRlZiA9PiBkZWYgJiYgZGVmLmlzT3J0aG9ncmFwaGljQ2FtZXJhO1xuY29uc3QgaXNSZWYgPSBvYmogPT4gb2JqICYmIG9iai5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpO1xuXG4vKipcclxuICogQW4gU1NSLWZyaWVuZGx5IHVzZUxheW91dEVmZmVjdC5cclxuICpcclxuICogUmVhY3QgY3VycmVudGx5IHRocm93cyBhIHdhcm5pbmcgd2hlbiB1c2luZyB1c2VMYXlvdXRFZmZlY3Qgb24gdGhlIHNlcnZlci5cclxuICogVG8gZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcclxuICogdXNlTGF5b3V0RWZmZWN0IGVsc2V3aGVyZS5cclxuICpcclxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE0OTI3XHJcbiAqL1xuY29uc3QgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICgoX3dpbmRvdyRkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCkgIT0gbnVsbCAmJiBfd2luZG93JGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgfHwgKChfd2luZG93JG5hdmlnYXRvciA9IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfd2luZG93JG5hdmlnYXRvci5wcm9kdWN0KSA9PT0gJ1JlYWN0TmF0aXZlJykgPyBSZWFjdC51c2VMYXlvdXRFZmZlY3QgOiBSZWFjdC51c2VFZmZlY3Q7XG5mdW5jdGlvbiB1c2VNdXRhYmxlQ2FsbGJhY2soZm4pIHtcbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKGZuKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB2b2lkIChyZWYuY3VycmVudCA9IGZuKSwgW2ZuXSk7XG4gIHJldHVybiByZWY7XG59XG5mdW5jdGlvbiBCbG9jayh7XG4gIHNldFxufSkge1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBzZXQobmV3IFByb21pc2UoKCkgPT4gbnVsbCkpO1xuICAgIHJldHVybiAoKSA9PiBzZXQoZmFsc2UpO1xuICB9LCBbc2V0XSk7XG4gIHJldHVybiBudWxsO1xufVxuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZXJyb3I6IGZhbHNlXG4gICAgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnIpIHtcbiAgICB0aGlzLnByb3BzLnNldChlcnIpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvciA/IG51bGwgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59XG5FcnJvckJvdW5kYXJ5LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciA9ICgpID0+ICh7XG4gIGVycm9yOiB0cnVlXG59KTtcbmNvbnN0IERFRkFVTFQgPSAnX19kZWZhdWx0JztcbmNvbnN0IERFRkFVTFRTID0gbmV3IE1hcCgpO1xuY29uc3QgaXNEaWZmU2V0ID0gZGVmID0+IGRlZiAmJiAhIWRlZi5tZW1vaXplZCAmJiAhIWRlZi5jaGFuZ2VzO1xuZnVuY3Rpb24gY2FsY3VsYXRlRHByKGRwcikge1xuICB2YXIgX3dpbmRvdyRkZXZpY2VQaXhlbFJhO1xuICAvLyBFcnIgb24gdGhlIHNpZGUgb2YgcHJvZ3Jlc3MgYnkgYXNzdW1pbmcgMnggZHByIGlmIHdlIGNhbid0IGRldGVjdCBpdFxuICAvLyBUaGlzIHdpbGwgaGFwcGVuIGluIHdvcmtlcnMgd2hlcmUgd2luZG93IGlzIGRlZmluZWQgYnV0IGRwciBpc24ndC5cbiAgY29uc3QgdGFyZ2V0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyAoX3dpbmRvdyRkZXZpY2VQaXhlbFJhID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pICE9IG51bGwgPyBfd2luZG93JGRldmljZVBpeGVsUmEgOiAyIDogMTtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZHByKSA/IE1hdGgubWluKE1hdGgubWF4KGRwclswXSwgdGFyZ2V0KSwgZHByWzFdKSA6IGRwcjtcbn1cblxuLyoqXHJcbiAqIFJldHVybnMgaW5zdGFuY2Ugcm9vdCBzdGF0ZVxyXG4gKi9cbmNvbnN0IGdldFJvb3RTdGF0ZSA9IG9iaiA9PiB7XG4gIHZhciBfcjNmO1xuICByZXR1cm4gKF9yM2YgPSBvYmouX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfcjNmLnJvb3QuZ2V0U3RhdGUoKTtcbn07XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBpbnN0YW5jZXMgaW5pdGlhbCAob3V0bW9zdCkgcm9vdFxyXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbml0aWFsUm9vdChjaGlsZCkge1xuICBsZXQgcm9vdCA9IGNoaWxkLl9fcjNmLnJvb3Q7XG4gIHdoaWxlIChyb290LmdldFN0YXRlKCkucHJldmlvdXNSb290KSByb290ID0gcm9vdC5nZXRTdGF0ZSgpLnByZXZpb3VzUm9vdDtcbiAgcmV0dXJuIHJvb3Q7XG59XG4vLyBBIGNvbGxlY3Rpb24gb2YgY29tcGFyZSBmdW5jdGlvbnNcbmNvbnN0IGlzID0ge1xuICBvYmo6IGEgPT4gYSA9PT0gT2JqZWN0KGEpICYmICFpcy5hcnIoYSkgJiYgdHlwZW9mIGEgIT09ICdmdW5jdGlvbicsXG4gIGZ1bjogYSA9PiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyxcbiAgc3RyOiBhID0+IHR5cGVvZiBhID09PSAnc3RyaW5nJyxcbiAgbnVtOiBhID0+IHR5cGVvZiBhID09PSAnbnVtYmVyJyxcbiAgYm9vOiBhID0+IHR5cGVvZiBhID09PSAnYm9vbGVhbicsXG4gIHVuZDogYSA9PiBhID09PSB2b2lkIDAsXG4gIGFycjogYSA9PiBBcnJheS5pc0FycmF5KGEpLFxuICBlcXUoYSwgYiwge1xuICAgIGFycmF5cyA9ICdzaGFsbG93JyxcbiAgICBvYmplY3RzID0gJ3JlZmVyZW5jZScsXG4gICAgc3RyaWN0ID0gdHJ1ZVxuICB9ID0ge30pIHtcbiAgICAvLyBXcm9uZyB0eXBlIG9yIG9uZSBvZiB0aGUgdHdvIHVuZGVmaW5lZCwgZG9lc24ndCBtYXRjaFxuICAgIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIgfHwgISFhICE9PSAhIWIpIHJldHVybiBmYWxzZTtcbiAgICAvLyBBdG9taWMsIGp1c3QgY29tcGFyZSBhIGFnYWluc3QgYlxuICAgIGlmIChpcy5zdHIoYSkgfHwgaXMubnVtKGEpIHx8IGlzLmJvbyhhKSkgcmV0dXJuIGEgPT09IGI7XG4gICAgY29uc3QgaXNPYmogPSBpcy5vYmooYSk7XG4gICAgaWYgKGlzT2JqICYmIG9iamVjdHMgPT09ICdyZWZlcmVuY2UnKSByZXR1cm4gYSA9PT0gYjtcbiAgICBjb25zdCBpc0FyciA9IGlzLmFycihhKTtcbiAgICBpZiAoaXNBcnIgJiYgYXJyYXlzID09PSAncmVmZXJlbmNlJykgcmV0dXJuIGEgPT09IGI7XG4gICAgLy8gQXJyYXkgb3IgT2JqZWN0LCBzaGFsbG93IGNvbXBhcmUgZmlyc3QgdG8gc2VlIGlmIGl0J3MgYSBtYXRjaFxuICAgIGlmICgoaXNBcnIgfHwgaXNPYmopICYmIGEgPT09IGIpIHJldHVybiB0cnVlO1xuICAgIC8vIExhc3QgcmVzb3J0LCBnbyB0aHJvdWdoIGtleXNcbiAgICBsZXQgaTtcbiAgICAvLyBDaGVjayBpZiBhIGhhcyBhbGwgdGhlIGtleXMgb2YgYlxuICAgIGZvciAoaSBpbiBhKSBpZiAoIShpIGluIGIpKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gQ2hlY2sgaWYgdmFsdWVzIGJldHdlZW4ga2V5cyBtYXRjaFxuICAgIGlmIChpc09iaiAmJiBhcnJheXMgPT09ICdzaGFsbG93JyAmJiBvYmplY3RzID09PSAnc2hhbGxvdycpIHtcbiAgICAgIGZvciAoaSBpbiBzdHJpY3QgPyBiIDogYSkgaWYgKCFpcy5lcXUoYVtpXSwgYltpXSwge1xuICAgICAgICBzdHJpY3QsXG4gICAgICAgIG9iamVjdHM6ICdyZWZlcmVuY2UnXG4gICAgICB9KSkgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgaW4gc3RyaWN0ID8gYiA6IGEpIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIElmIGkgaXMgdW5kZWZpbmVkXG4gICAgaWYgKGlzLnVuZChpKSkge1xuICAgICAgLy8gSWYgYm90aCBhcnJheXMgYXJlIGVtcHR5IHdlIGNvbnNpZGVyIHRoZW0gZXF1YWxcbiAgICAgIGlmIChpc0FyciAmJiBhLmxlbmd0aCA9PT0gMCAmJiBiLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAvLyBJZiBib3RoIG9iamVjdHMgYXJlIGVtcHR5IHdlIGNvbnNpZGVyIHRoZW0gZXF1YWxcbiAgICAgIGlmIChpc09iaiAmJiBPYmplY3Qua2V5cyhhKS5sZW5ndGggPT09IDAgJiYgT2JqZWN0LmtleXMoYikubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vIE90aGVyd2lzZSBtYXRjaCB0aGVtIGJ5IHZhbHVlXG4gICAgICBpZiAoYSAhPT0gYikgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLyoqXHJcbiAqIENvbGxlY3RzIG5vZGVzIGFuZCBtYXRlcmlhbHMgZnJvbSBhIFRIUkVFLk9iamVjdDNELlxyXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkR3JhcGgob2JqZWN0KSB7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgbm9kZXM6IHt9LFxuICAgIG1hdGVyaWFsczoge31cbiAgfTtcbiAgaWYgKG9iamVjdCkge1xuICAgIG9iamVjdC50cmF2ZXJzZShvYmogPT4ge1xuICAgICAgaWYgKG9iai5uYW1lKSBkYXRhLm5vZGVzW29iai5uYW1lXSA9IG9iajtcbiAgICAgIGlmIChvYmoubWF0ZXJpYWwgJiYgIWRhdGEubWF0ZXJpYWxzW29iai5tYXRlcmlhbC5uYW1lXSkgZGF0YS5tYXRlcmlhbHNbb2JqLm1hdGVyaWFsLm5hbWVdID0gb2JqLm1hdGVyaWFsO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vLyBEaXNwb3NlcyBhbiBvYmplY3QgYW5kIGFsbCBpdHMgcHJvcGVydGllc1xuZnVuY3Rpb24gZGlzcG9zZShvYmopIHtcbiAgaWYgKG9iai5kaXNwb3NlICYmIG9iai50eXBlICE9PSAnU2NlbmUnKSBvYmouZGlzcG9zZSgpO1xuICBmb3IgKGNvbnN0IHAgaW4gb2JqKSB7XG4gICAgcC5kaXNwb3NlID09IG51bGwgPyB2b2lkIDAgOiBwLmRpc3Bvc2UoKTtcbiAgICBkZWxldGUgb2JqW3BdO1xuICB9XG59XG5cbi8vIEVhY2ggb2JqZWN0IGluIHRoZSBzY2VuZSBjYXJyaWVzIGEgc21hbGwgTG9jYWxTdGF0ZSBkZXNjcmlwdG9yXG5mdW5jdGlvbiBwcmVwYXJlKG9iamVjdCwgc3RhdGUpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBvYmplY3Q7XG4gIGluc3RhbmNlLl9fcjNmID0ge1xuICAgIHR5cGU6ICcnLFxuICAgIHJvb3Q6IG51bGwsXG4gICAgcHJldmlvdXNBdHRhY2g6IG51bGwsXG4gICAgbWVtb2l6ZWRQcm9wczoge30sXG4gICAgZXZlbnRDb3VudDogMCxcbiAgICBoYW5kbGVyczoge30sXG4gICAgb2JqZWN0czogW10sXG4gICAgcGFyZW50OiBudWxsLFxuICAgIC4uLnN0YXRlXG4gIH07XG4gIHJldHVybiBvYmplY3Q7XG59XG5mdW5jdGlvbiByZXNvbHZlKGluc3RhbmNlLCBrZXkpIHtcbiAgbGV0IHRhcmdldCA9IGluc3RhbmNlO1xuICBpZiAoa2V5LmluY2x1ZGVzKCctJykpIHtcbiAgICBjb25zdCBlbnRyaWVzID0ga2V5LnNwbGl0KCctJyk7XG4gICAgY29uc3QgbGFzdCA9IGVudHJpZXMucG9wKCk7XG4gICAgdGFyZ2V0ID0gZW50cmllcy5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2Nba2V5XSwgaW5zdGFuY2UpO1xuICAgIHJldHVybiB7XG4gICAgICB0YXJnZXQsXG4gICAgICBrZXk6IGxhc3RcbiAgICB9O1xuICB9IGVsc2UgcmV0dXJuIHtcbiAgICB0YXJnZXQsXG4gICAga2V5XG4gIH07XG59XG5cbi8vIENoZWNrcyBpZiBhIGRhc2gtY2FzZWQgc3RyaW5nIGVuZHMgd2l0aCBhbiBpbnRlZ2VyXG5jb25zdCBJTkRFWF9SRUdFWCA9IC8tXFxkKyQvO1xuZnVuY3Rpb24gYXR0YWNoKHBhcmVudCwgY2hpbGQsIHR5cGUpIHtcbiAgaWYgKGlzLnN0cih0eXBlKSkge1xuICAgIC8vIElmIGF0dGFjaGluZyBpbnRvIGFuIGFycmF5IChmb28tMCksIGNyZWF0ZSBvbmVcbiAgICBpZiAoSU5ERVhfUkVHRVgudGVzdCh0eXBlKSkge1xuICAgICAgY29uc3Qgcm9vdCA9IHR5cGUucmVwbGFjZShJTkRFWF9SRUdFWCwgJycpO1xuICAgICAgY29uc3Qge1xuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGtleVxuICAgICAgfSA9IHJlc29sdmUocGFyZW50LCByb290KTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0YXJnZXRba2V5XSkpIHRhcmdldFtrZXldID0gW107XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldCxcbiAgICAgIGtleVxuICAgIH0gPSByZXNvbHZlKHBhcmVudCwgdHlwZSk7XG4gICAgY2hpbGQuX19yM2YucHJldmlvdXNBdHRhY2ggPSB0YXJnZXRba2V5XTtcbiAgICB0YXJnZXRba2V5XSA9IGNoaWxkO1xuICB9IGVsc2UgY2hpbGQuX19yM2YucHJldmlvdXNBdHRhY2ggPSB0eXBlKHBhcmVudCwgY2hpbGQpO1xufVxuZnVuY3Rpb24gZGV0YWNoKHBhcmVudCwgY2hpbGQsIHR5cGUpIHtcbiAgdmFyIF9jaGlsZCRfX3IzZiwgX2NoaWxkJF9fcjNmMjtcbiAgaWYgKGlzLnN0cih0eXBlKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldCxcbiAgICAgIGtleVxuICAgIH0gPSByZXNvbHZlKHBhcmVudCwgdHlwZSk7XG4gICAgY29uc3QgcHJldmlvdXMgPSBjaGlsZC5fX3IzZi5wcmV2aW91c0F0dGFjaDtcbiAgICAvLyBXaGVuIHRoZSBwcmV2aW91cyB2YWx1ZSB3YXMgdW5kZWZpbmVkLCBpdCBtZWFucyB0aGUgdmFsdWUgd2FzIG5ldmVyIHNldCB0byBiZWdpbiB3aXRoXG4gICAgaWYgKHByZXZpb3VzID09PSB1bmRlZmluZWQpIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgICAvLyBPdGhlcndpc2Ugc2V0IHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgIGVsc2UgdGFyZ2V0W2tleV0gPSBwcmV2aW91cztcbiAgfSBlbHNlIChfY2hpbGQkX19yM2YgPSBjaGlsZC5fX3IzZikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jaGlsZCRfX3IzZi5wcmV2aW91c0F0dGFjaCA9PSBudWxsID8gdm9pZCAwIDogX2NoaWxkJF9fcjNmLnByZXZpb3VzQXR0YWNoKHBhcmVudCwgY2hpbGQpO1xuICAoX2NoaWxkJF9fcjNmMiA9IGNoaWxkLl9fcjNmKSA9PSBudWxsID8gdHJ1ZSA6IGRlbGV0ZSBfY2hpbGQkX19yM2YyLnByZXZpb3VzQXR0YWNoO1xufVxuLy8gVGhpcyBmdW5jdGlvbiBwcmVwYXJlcyBhIHNldCBvZiBjaGFuZ2VzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGluc3RhbmNlXG5mdW5jdGlvbiBkaWZmUHJvcHMoaW5zdGFuY2UsIHtcbiAgY2hpbGRyZW46IGNOLFxuICBrZXk6IGtOLFxuICByZWY6IHJOLFxuICAuLi5wcm9wc1xufSwge1xuICBjaGlsZHJlbjogY1AsXG4gIGtleToga1AsXG4gIHJlZjogclAsXG4gIC4uLnByZXZpb3VzXG59ID0ge30sIHJlbW92ZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGxvY2FsU3RhdGUgPSBpbnN0YW5jZS5fX3IzZjtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHByb3BzKTtcbiAgY29uc3QgY2hhbmdlcyA9IFtdO1xuXG4gIC8vIENhdGNoIHJlbW92ZWQgcHJvcHMsIHByZXBlbmQgdGhlbSBzbyB0aGV5IGNhbiBiZSByZXNldCBvciByZW1vdmVkXG4gIGlmIChyZW1vdmUpIHtcbiAgICBjb25zdCBwcmV2aW91c0tleXMgPSBPYmplY3Qua2V5cyhwcmV2aW91cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2aW91c0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkocHJldmlvdXNLZXlzW2ldKSkgZW50cmllcy51bnNoaWZ0KFtwcmV2aW91c0tleXNbaV0sIERFRkFVTFQgKyAncmVtb3ZlJ10pO1xuICAgIH1cbiAgfVxuICBlbnRyaWVzLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHZhciBfaW5zdGFuY2UkX19yM2Y7XG4gICAgLy8gQmFpbCBvdXQgb24gcHJpbWl0aXZlIG9iamVjdFxuICAgIGlmICgoX2luc3RhbmNlJF9fcjNmID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgJiYgX2luc3RhbmNlJF9fcjNmLnByaW1pdGl2ZSAmJiBrZXkgPT09ICdvYmplY3QnKSByZXR1cm47XG4gICAgLy8gV2hlbiBwcm9wcyBtYXRjaCBiYWlsIG91dFxuICAgIGlmIChpcy5lcXUodmFsdWUsIHByZXZpb3VzW2tleV0pKSByZXR1cm47XG4gICAgLy8gQ29sbGVjdCBoYW5kbGVycyBhbmQgYmFpbCBvdXRcbiAgICBpZiAoL15vbihQb2ludGVyfENsaWNrfERvdWJsZUNsaWNrfENvbnRleHRNZW51fFdoZWVsKS8udGVzdChrZXkpKSByZXR1cm4gY2hhbmdlcy5wdXNoKFtrZXksIHZhbHVlLCB0cnVlLCBbXV0pO1xuICAgIC8vIFNwbGl0IGRhc2hlZCBwcm9wc1xuICAgIGxldCBlbnRyaWVzID0gW107XG4gICAgaWYgKGtleS5pbmNsdWRlcygnLScpKSBlbnRyaWVzID0ga2V5LnNwbGl0KCctJyk7XG4gICAgY2hhbmdlcy5wdXNoKFtrZXksIHZhbHVlLCBmYWxzZSwgZW50cmllc10pO1xuXG4gICAgLy8gUmVzZXQgcGllcmNlZCBwcm9wc1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wcykge1xuICAgICAgY29uc3QgdmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICAgIGlmIChwcm9wLnN0YXJ0c1dpdGgoYCR7a2V5fS1gKSkgY2hhbmdlcy5wdXNoKFtwcm9wLCB2YWx1ZSwgZmFsc2UsIHByb3Auc3BsaXQoJy0nKV0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IG1lbW9pemVkID0ge1xuICAgIC4uLnByb3BzXG4gIH07XG4gIGlmIChsb2NhbFN0YXRlICE9IG51bGwgJiYgbG9jYWxTdGF0ZS5tZW1vaXplZFByb3BzICYmIGxvY2FsU3RhdGUgIT0gbnVsbCAmJiBsb2NhbFN0YXRlLm1lbW9pemVkUHJvcHMuYXJncykgbWVtb2l6ZWQuYXJncyA9IGxvY2FsU3RhdGUubWVtb2l6ZWRQcm9wcy5hcmdzO1xuICBpZiAobG9jYWxTdGF0ZSAhPSBudWxsICYmIGxvY2FsU3RhdGUubWVtb2l6ZWRQcm9wcyAmJiBsb2NhbFN0YXRlICE9IG51bGwgJiYgbG9jYWxTdGF0ZS5tZW1vaXplZFByb3BzLmF0dGFjaCkgbWVtb2l6ZWQuYXR0YWNoID0gbG9jYWxTdGF0ZS5tZW1vaXplZFByb3BzLmF0dGFjaDtcbiAgcmV0dXJuIHtcbiAgICBtZW1vaXplZCxcbiAgICBjaGFuZ2VzXG4gIH07XG59XG5jb25zdCBfX0RFVl9fID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbic7XG5cbi8vIFRoaXMgZnVuY3Rpb24gYXBwbGllcyBhIHNldCBvZiBjaGFuZ2VzIHRvIHRoZSBpbnN0YW5jZVxuZnVuY3Rpb24gYXBwbHlQcm9wcyQxKGluc3RhbmNlLCBkYXRhKSB7XG4gIHZhciBfaW5zdGFuY2UkX19yM2YyO1xuICAvLyBGaWx0ZXIgZXF1YWxzLCBldmVudHMgYW5kIHJlc2VydmVkIHByb3BzXG4gIGNvbnN0IGxvY2FsU3RhdGUgPSBpbnN0YW5jZS5fX3IzZjtcbiAgY29uc3Qgcm9vdCA9IGxvY2FsU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IGxvY2FsU3RhdGUucm9vdDtcbiAgY29uc3Qgcm9vdFN0YXRlID0gcm9vdCA9PSBudWxsID8gdm9pZCAwIDogcm9vdC5nZXRTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogcm9vdC5nZXRTdGF0ZSgpO1xuICBjb25zdCB7XG4gICAgbWVtb2l6ZWQsXG4gICAgY2hhbmdlc1xuICB9ID0gaXNEaWZmU2V0KGRhdGEpID8gZGF0YSA6IGRpZmZQcm9wcyhpbnN0YW5jZSwgZGF0YSk7XG4gIGNvbnN0IHByZXZIYW5kbGVycyA9IGxvY2FsU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IGxvY2FsU3RhdGUuZXZlbnRDb3VudDtcblxuICAvLyBQcmVwYXJlIG1lbW9pemVkIHByb3BzXG4gIGlmIChpbnN0YW5jZS5fX3IzZikgaW5zdGFuY2UuX19yM2YubWVtb2l6ZWRQcm9wcyA9IG1lbW9pemVkO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgW2tleSwgdmFsdWUsIGlzRXZlbnQsIGtleXNdID0gY2hhbmdlc1tpXTtcblxuICAgIC8vIEFsaWFzIChvdXRwdXQpZW5jb2RpbmcgPT4gKG91dHB1dCljb2xvclNwYWNlIChzaW5jZSByMTUyKVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yODI5XG4gICAgaWYgKGhhc0NvbG9yU3BhY2UoaW5zdGFuY2UpKSB7XG4gICAgICBjb25zdCBzUkdCRW5jb2RpbmcgPSAzMDAxO1xuICAgICAgY29uc3QgU1JHQkNvbG9yU3BhY2UgPSAnc3JnYic7XG4gICAgICBjb25zdCBMaW5lYXJTUkdCQ29sb3JTcGFjZSA9ICdzcmdiLWxpbmVhcic7XG4gICAgICBpZiAoa2V5ID09PSAnZW5jb2RpbmcnKSB7XG4gICAgICAgIGtleSA9ICdjb2xvclNwYWNlJztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gc1JHQkVuY29kaW5nID8gU1JHQkNvbG9yU3BhY2UgOiBMaW5lYXJTUkdCQ29sb3JTcGFjZTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnb3V0cHV0RW5jb2RpbmcnKSB7XG4gICAgICAgIGtleSA9ICdvdXRwdXRDb2xvclNwYWNlJztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gc1JHQkVuY29kaW5nID8gU1JHQkNvbG9yU3BhY2UgOiBMaW5lYXJTUkdCQ29sb3JTcGFjZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIGxldCB0YXJnZXRQcm9wID0gY3VycmVudEluc3RhbmNlW2tleV07XG5cbiAgICAvLyBSZXZvbHZlIGRhc2hlZCBwcm9wc1xuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0UHJvcCA9IGtleXMucmVkdWNlKChhY2MsIGtleSkgPT4gYWNjW2tleV0sIGluc3RhbmNlKTtcbiAgICAgIC8vIElmIHRoZSB0YXJnZXQgaXMgYXRvbWljLCBpdCBmb3JjZXMgdXMgdG8gc3dpdGNoIHRoZSByb290XG4gICAgICBpZiAoISh0YXJnZXRQcm9wICYmIHRhcmdldFByb3Auc2V0KSkge1xuICAgICAgICBjb25zdCBbbmFtZSwgLi4ucmV2ZXJzZUVudHJpZXNdID0ga2V5cy5yZXZlcnNlKCk7XG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IHJldmVyc2VFbnRyaWVzLnJldmVyc2UoKS5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2Nba2V5XSwgaW5zdGFuY2UpO1xuICAgICAgICBrZXkgPSBuYW1lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzIxMjA5XG4gICAgLy8gSE1SL2Zhc3QtcmVmcmVzaCByZWxpZXMgb24gdGhlIGFiaWxpdHkgdG8gY2FuY2VsIG91dCBwcm9wcywgYnV0IHRocmVlanNcbiAgICAvLyBoYXMgbm8gbWVhbnMgdG8gZG8gdGhpcy4gSGVuY2Ugd2UgY3VyYXRlIGEgc21hbGwgY29sbGVjdGlvbiBvZiB2YWx1ZS1jbGFzc2VzXG4gICAgLy8gd2l0aCB0aGVpciByZXNwZWN0aXZlIGNvbnN0cnVjdG9yL3NldCBhcmd1bWVudHNcbiAgICAvLyBGb3IgcmVtb3ZlZCBwcm9wcywgdHJ5IHRvIHNldCBkZWZhdWx0IHZhbHVlcywgaWYgcG9zc2libGVcbiAgICBpZiAodmFsdWUgPT09IERFRkFVTFQgKyAncmVtb3ZlJykge1xuICAgICAgaWYgKGN1cnJlbnRJbnN0YW5jZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAvLyBjcmVhdGUgYSBibGFuayBzbGF0ZSBvZiB0aGUgaW5zdGFuY2UgYW5kIGNvcHkgdGhlIHBhcnRpY3VsYXIgcGFyYW1ldGVyLlxuICAgICAgICBsZXQgY3RvciA9IERFRkFVTFRTLmdldChjdXJyZW50SW5zdGFuY2UuY29uc3RydWN0b3IpO1xuICAgICAgICBpZiAoIWN0b3IpIHtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgY3RvciA9IG5ldyBjdXJyZW50SW5zdGFuY2UuY29uc3RydWN0b3IoKTtcbiAgICAgICAgICBERUZBVUxUUy5zZXQoY3VycmVudEluc3RhbmNlLmNvbnN0cnVjdG9yLCBjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IGN0b3Jba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluc3RhbmNlIGRvZXMgbm90IGhhdmUgY29uc3RydWN0b3IsIGp1c3Qgc2V0IGl0IHRvIDBcbiAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlYWwgd2l0aCBwb2ludGVyIGV2ZW50cyAuLi5cbiAgICBpZiAoaXNFdmVudCAmJiBsb2NhbFN0YXRlKSB7XG4gICAgICBpZiAodmFsdWUpIGxvY2FsU3RhdGUuaGFuZGxlcnNba2V5XSA9IHZhbHVlO2Vsc2UgZGVsZXRlIGxvY2FsU3RhdGUuaGFuZGxlcnNba2V5XTtcbiAgICAgIGxvY2FsU3RhdGUuZXZlbnRDb3VudCA9IE9iamVjdC5rZXlzKGxvY2FsU3RhdGUuaGFuZGxlcnMpLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gU3BlY2lhbCB0cmVhdG1lbnQgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvciBzZXQvY29weSwgYW5kIGxheWVyc1xuICAgIGVsc2UgaWYgKHRhcmdldFByb3AgJiYgdGFyZ2V0UHJvcC5zZXQgJiYgKHRhcmdldFByb3AuY29weSB8fCB0YXJnZXRQcm9wIGluc3RhbmNlb2YgVEhSRUUuTGF5ZXJzKSkge1xuICAgICAgLy8gSWYgdmFsdWUgaXMgYW4gYXJyYXlcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAodGFyZ2V0UHJvcC5mcm9tQXJyYXkpIHRhcmdldFByb3AuZnJvbUFycmF5KHZhbHVlKTtlbHNlIHRhcmdldFByb3Auc2V0KC4uLnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIFRlc3QgYWdhaW4gdGFyZ2V0LmNvcHkoY2xhc3MpIG5leHQgLi4uXG4gICAgICBlbHNlIGlmICh0YXJnZXRQcm9wLmNvcHkgJiYgdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IgJiYgKFxuICAgICAgLy8gU29tZSBlbnZpcm9ubWVudHMgbWF5IGJyZWFrIHN0cmljdCBpZGVudGl0eSBjaGVja3MgYnkgZHVwbGljYXRpbmcgdmVyc2lvbnMgb2YgdGhyZWUuanMuXG4gICAgICAvLyBMb29zZW4gdG8gdW5taW5pZmllZCBuYW1lcywgaWdub3JpbmcgZGVzY2VuZGVudHMuXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy8yODU2XG4gICAgICAvLyBUT0RPOiBmaXggdXBzdHJlYW0gYW5kIHJlbW92ZSBpbiB2OVxuICAgICAgX19ERVZfXyA/IHRhcmdldFByb3AuY29uc3RydWN0b3IubmFtZSA9PT0gdmFsdWUuY29uc3RydWN0b3IubmFtZSA6IHRhcmdldFByb3AuY29uc3RydWN0b3IgPT09IHZhbHVlLmNvbnN0cnVjdG9yKSkge1xuICAgICAgICB0YXJnZXRQcm9wLmNvcHkodmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gSWYgbm90aGluZyBlbHNlIGZpdHMsIGp1c3Qgc2V0IHRoZSBzaW5nbGUgdmFsdWUsIGlnbm9yZSB1bmRlZmluZWRcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzI3NFxuICAgICAgZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgX3RhcmdldFByb3A7XG4gICAgICAgIGNvbnN0IGlzQ29sb3IgPSAoX3RhcmdldFByb3AgPSB0YXJnZXRQcm9wKSA9PSBudWxsID8gdm9pZCAwIDogX3RhcmdldFByb3AuaXNDb2xvcjtcbiAgICAgICAgLy8gQWxsb3cgc2V0dGluZyBhcnJheSBzY2FsYXJzXG4gICAgICAgIGlmICghaXNDb2xvciAmJiB0YXJnZXRQcm9wLnNldFNjYWxhcikgdGFyZ2V0UHJvcC5zZXRTY2FsYXIodmFsdWUpO1xuICAgICAgICAvLyBMYXllcnMgaGF2ZSBubyBjb3B5IGZ1bmN0aW9uLCB3ZSBtdXN0IHRoZXJlZm9yZSBjb3B5IHRoZSBtYXNrIHByb3BlcnR5XG4gICAgICAgIGVsc2UgaWYgKHRhcmdldFByb3AgaW5zdGFuY2VvZiBUSFJFRS5MYXllcnMgJiYgdmFsdWUgaW5zdGFuY2VvZiBUSFJFRS5MYXllcnMpIHRhcmdldFByb3AubWFzayA9IHZhbHVlLm1hc2s7XG4gICAgICAgIC8vIE90aGVyd2lzZSBqdXN0IHNldCAuLi5cbiAgICAgICAgZWxzZSB0YXJnZXRQcm9wLnNldCh2YWx1ZSk7XG4gICAgICAgIC8vIEZvciB2ZXJzaW9ucyBvZiB0aHJlZSB3aGljaCBkb24ndCBzdXBwb3J0IFRIUkVFLkNvbG9yTWFuYWdlbWVudCxcbiAgICAgICAgLy8gQXV0by1jb252ZXJ0IHNSR0IgY29sb3JzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzM0NFxuICAgICAgICBpZiAoIWdldENvbG9yTWFuYWdlbWVudCgpICYmIHJvb3RTdGF0ZSAmJiAhcm9vdFN0YXRlLmxpbmVhciAmJiBpc0NvbG9yKSB0YXJnZXRQcm9wLmNvbnZlcnRTUkdCVG9MaW5lYXIoKTtcbiAgICAgIH1cbiAgICAgIC8vIEVsc2UsIGp1c3Qgb3ZlcndyaXRlIHRoZSB2YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2N1cnJlbnRJbnN0YW5jZSRrZXk7XG4gICAgICBjdXJyZW50SW5zdGFuY2Vba2V5XSA9IHZhbHVlO1xuXG4gICAgICAvLyBBdXRvLWNvbnZlcnQgc1JHQiB0ZXh0dXJlcywgZm9yIG5vdyAuLi5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzM0NFxuICAgICAgaWYgKChfY3VycmVudEluc3RhbmNlJGtleSA9IGN1cnJlbnRJbnN0YW5jZVtrZXldKSAhPSBudWxsICYmIF9jdXJyZW50SW5zdGFuY2Uka2V5LmlzVGV4dHVyZSAmJlxuICAgICAgLy8gc1JHQiB0ZXh0dXJlcyBtdXN0IGJlIFJHQkE4IHNpbmNlIHIxMzcgaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzIzMTI5XG4gICAgICBjdXJyZW50SW5zdGFuY2Vba2V5XS5mb3JtYXQgPT09IFRIUkVFLlJHQkFGb3JtYXQgJiYgY3VycmVudEluc3RhbmNlW2tleV0udHlwZSA9PT0gVEhSRUUuVW5zaWduZWRCeXRlVHlwZSAmJiByb290U3RhdGUpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGN1cnJlbnRJbnN0YW5jZVtrZXldO1xuICAgICAgICBpZiAoaGFzQ29sb3JTcGFjZSh0ZXh0dXJlKSAmJiBoYXNDb2xvclNwYWNlKHJvb3RTdGF0ZS5nbCkpIHRleHR1cmUuY29sb3JTcGFjZSA9IHJvb3RTdGF0ZS5nbC5vdXRwdXRDb2xvclNwYWNlO2Vsc2UgdGV4dHVyZS5lbmNvZGluZyA9IHJvb3RTdGF0ZS5nbC5vdXRwdXRFbmNvZGluZztcbiAgICAgIH1cbiAgICB9XG4gICAgaW52YWxpZGF0ZUluc3RhbmNlKGluc3RhbmNlKTtcbiAgfVxuICBpZiAobG9jYWxTdGF0ZSAmJiBsb2NhbFN0YXRlLnBhcmVudCAmJiBpbnN0YW5jZS5yYXljYXN0ICYmIHByZXZIYW5kbGVycyAhPT0gbG9jYWxTdGF0ZS5ldmVudENvdW50KSB7XG4gICAgLy8gR2V0IHRoZSBpbml0aWFsIHJvb3Qgc3RhdGUncyBpbnRlcm5hbHNcbiAgICBjb25zdCBpbnRlcm5hbCA9IGZpbmRJbml0aWFsUm9vdChpbnN0YW5jZSkuZ2V0U3RhdGUoKS5pbnRlcm5hbDtcbiAgICAvLyBQcmUtZW1wdGl2ZWx5IHJlbW92ZSB0aGUgaW5zdGFuY2UgZnJvbSB0aGUgaW50ZXJhY3Rpb24gbWFuYWdlclxuICAgIGNvbnN0IGluZGV4ID0gaW50ZXJuYWwuaW50ZXJhY3Rpb24uaW5kZXhPZihpbnN0YW5jZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIGludGVybmFsLmludGVyYWN0aW9uLnNwbGljZShpbmRleCwgMSk7XG4gICAgLy8gQWRkIHRoZSBpbnN0YW5jZSB0byB0aGUgaW50ZXJhY3Rpb24gbWFuYWdlciBvbmx5IHdoZW4gaXQgaGFzIGhhbmRsZXJzXG4gICAgaWYgKGxvY2FsU3RhdGUuZXZlbnRDb3VudCkgaW50ZXJuYWwuaW50ZXJhY3Rpb24ucHVzaChpbnN0YW5jZSk7XG4gIH1cblxuICAvLyBDYWxsIHRoZSB1cGRhdGUgbGlmZWN5Y2xlIHdoZW4gaXQgaXMgYmVpbmcgdXBkYXRlZCwgYnV0IG9ubHkgd2hlbiBpdCBpcyBwYXJ0IG9mIHRoZSBzY2VuZS5cbiAgLy8gU2tpcCB1cGRhdGVzIHRvIHRoZSBgb25VcGRhdGVgIHByb3AgaXRzZWxmXG4gIGNvbnN0IGlzQ2lyY3VsYXIgPSBjaGFuZ2VzLmxlbmd0aCA9PT0gMSAmJiBjaGFuZ2VzWzBdWzBdID09PSAnb25VcGRhdGUnO1xuICBpZiAoIWlzQ2lyY3VsYXIgJiYgY2hhbmdlcy5sZW5ndGggJiYgKF9pbnN0YW5jZSRfX3IzZjIgPSBpbnN0YW5jZS5fX3IzZikgIT0gbnVsbCAmJiBfaW5zdGFuY2UkX19yM2YyLnBhcmVudCkgdXBkYXRlSW5zdGFuY2UoaW5zdGFuY2UpO1xuICByZXR1cm4gaW5zdGFuY2U7XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgdmFyIF9pbnN0YW5jZSRfX3IzZjMsIF9pbnN0YW5jZSRfX3IzZjMkcm9vdDtcbiAgY29uc3Qgc3RhdGUgPSAoX2luc3RhbmNlJF9fcjNmMyA9IGluc3RhbmNlLl9fcjNmKSA9PSBudWxsID8gdm9pZCAwIDogKF9pbnN0YW5jZSRfX3IzZjMkcm9vdCA9IF9pbnN0YW5jZSRfX3IzZjMucm9vdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbnN0YW5jZSRfX3IzZjMkcm9vdC5nZXRTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogX2luc3RhbmNlJF9fcjNmMyRyb290LmdldFN0YXRlKCk7XG4gIGlmIChzdGF0ZSAmJiBzdGF0ZS5pbnRlcm5hbC5mcmFtZXMgPT09IDApIHN0YXRlLmludmFsaWRhdGUoKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLm9uVXBkYXRlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5vblVwZGF0ZShpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiB1cGRhdGVDYW1lcmEoY2FtZXJhLCBzaXplKSB7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzkyXG4gIC8vIERvIG5vdCBtZXNzIHdpdGggdGhlIGNhbWVyYSBpZiBpdCBiZWxvbmdzIHRvIHRoZSB1c2VyXG4gIGlmICghY2FtZXJhLm1hbnVhbCkge1xuICAgIGlmIChpc09ydGhvZ3JhcGhpY0NhbWVyYShjYW1lcmEpKSB7XG4gICAgICBjYW1lcmEubGVmdCA9IHNpemUud2lkdGggLyAtMjtcbiAgICAgIGNhbWVyYS5yaWdodCA9IHNpemUud2lkdGggLyAyO1xuICAgICAgY2FtZXJhLnRvcCA9IHNpemUuaGVpZ2h0IC8gMjtcbiAgICAgIGNhbWVyYS5ib3R0b20gPSBzaXplLmhlaWdodCAvIC0yO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW1lcmEuYXNwZWN0ID0gc2l6ZS53aWR0aCAvIHNpemUuaGVpZ2h0O1xuICAgIH1cbiAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzE3OFxuICAgIC8vIFVwZGF0ZSBtYXRyaXggd29ybGQgc2luY2UgdGhlIHJlbmRlcmVyIGlzIGEgZnJhbWUgbGF0ZVxuICAgIGNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VJZChldmVudCkge1xuICByZXR1cm4gKGV2ZW50LmV2ZW50T2JqZWN0IHx8IGV2ZW50Lm9iamVjdCkudXVpZCArICcvJyArIGV2ZW50LmluZGV4ICsgZXZlbnQuaW5zdGFuY2VJZDtcbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3RyZWUvbWFpbi9wYWNrYWdlcy9yZWFjdC1yZWNvbmNpbGVyI2dldGN1cnJlbnRldmVudHByaW9yaXR5XG4vLyBHaXZlcyBSZWFjdCBhIGNsdWUgYXMgdG8gaG93IGltcG9ydCB0aGUgY3VycmVudCBpbnRlcmFjdGlvbiBpc1xuZnVuY3Rpb24gZ2V0RXZlbnRQcmlvcml0eSgpIHtcbiAgdmFyIF9nbG9iYWxTY29wZSRldmVudDtcbiAgLy8gR2V0IGEgaGFuZGxlIHRvIHRoZSBjdXJyZW50IGdsb2JhbCBzY29wZSBpbiB3aW5kb3cgYW5kIHdvcmtlciBjb250ZXh0cyBpZiBhYmxlXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yNDkzXG4gIGNvbnN0IGdsb2JhbFNjb3BlID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgfHwgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93O1xuICBpZiAoIWdsb2JhbFNjb3BlKSByZXR1cm4gRGVmYXVsdEV2ZW50UHJpb3JpdHk7XG4gIGNvbnN0IG5hbWUgPSAoX2dsb2JhbFNjb3BlJGV2ZW50ID0gZ2xvYmFsU2NvcGUuZXZlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZ2xvYmFsU2NvcGUkZXZlbnQudHlwZTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnY2xpY2snOlxuICAgIGNhc2UgJ2NvbnRleHRtZW51JzpcbiAgICBjYXNlICdkYmxjbGljayc6XG4gICAgY2FzZSAncG9pbnRlcmNhbmNlbCc6XG4gICAgY2FzZSAncG9pbnRlcmRvd24nOlxuICAgIGNhc2UgJ3BvaW50ZXJ1cCc6XG4gICAgICByZXR1cm4gRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgIGNhc2UgJ3BvaW50ZXJtb3ZlJzpcbiAgICBjYXNlICdwb2ludGVyb3V0JzpcbiAgICBjYXNlICdwb2ludGVyb3Zlcic6XG4gICAgY2FzZSAncG9pbnRlcmVudGVyJzpcbiAgICBjYXNlICdwb2ludGVybGVhdmUnOlxuICAgIGNhc2UgJ3doZWVsJzpcbiAgICAgIHJldHVybiBDb250aW51b3VzRXZlbnRQcmlvcml0eTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIERlZmF1bHRFdmVudFByaW9yaXR5O1xuICB9XG59XG5cbi8qKlxyXG4gKiBSZWxlYXNlIHBvaW50ZXIgY2FwdHVyZXMuXHJcbiAqIFRoaXMgaXMgY2FsbGVkIGJ5IHJlbGVhc2VQb2ludGVyQ2FwdHVyZSBpbiB0aGUgQVBJLCBhbmQgd2hlbiBhbiBvYmplY3QgaXMgcmVtb3ZlZC5cclxuICovXG5mdW5jdGlvbiByZWxlYXNlSW50ZXJuYWxQb2ludGVyQ2FwdHVyZShjYXB0dXJlZE1hcCwgb2JqLCBjYXB0dXJlcywgcG9pbnRlcklkKSB7XG4gIGNvbnN0IGNhcHR1cmVEYXRhID0gY2FwdHVyZXMuZ2V0KG9iaik7XG4gIGlmIChjYXB0dXJlRGF0YSkge1xuICAgIGNhcHR1cmVzLmRlbGV0ZShvYmopO1xuICAgIC8vIElmIHRoaXMgd2FzIHRoZSBsYXN0IGNhcHR1cmluZyBvYmplY3QgZm9yIHRoaXMgcG9pbnRlclxuICAgIGlmIChjYXB0dXJlcy5zaXplID09PSAwKSB7XG4gICAgICBjYXB0dXJlZE1hcC5kZWxldGUocG9pbnRlcklkKTtcbiAgICAgIGNhcHR1cmVEYXRhLnRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUocG9pbnRlcklkKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUludGVyYWN0aXZpdHkoc3RvcmUsIG9iamVjdCkge1xuICBjb25zdCB7XG4gICAgaW50ZXJuYWxcbiAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIC8vIFJlbW92ZXMgZXZlcnkgdHJhY2Ugb2YgYW4gb2JqZWN0IGZyb20gdGhlIGRhdGEgc3RvcmVcbiAgaW50ZXJuYWwuaW50ZXJhY3Rpb24gPSBpbnRlcm5hbC5pbnRlcmFjdGlvbi5maWx0ZXIobyA9PiBvICE9PSBvYmplY3QpO1xuICBpbnRlcm5hbC5pbml0aWFsSGl0cyA9IGludGVybmFsLmluaXRpYWxIaXRzLmZpbHRlcihvID0+IG8gIT09IG9iamVjdCk7XG4gIGludGVybmFsLmhvdmVyZWQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGlmICh2YWx1ZS5ldmVudE9iamVjdCA9PT0gb2JqZWN0IHx8IHZhbHVlLm9iamVjdCA9PT0gb2JqZWN0KSB7XG4gICAgICAvLyBDbGVhciBvdXQgaW50ZXJzZWN0cywgdGhleSBhcmUgb3V0ZGF0ZWQgYnkgbm93XG4gICAgICBpbnRlcm5hbC5ob3ZlcmVkLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfSk7XG4gIGludGVybmFsLmNhcHR1cmVkTWFwLmZvckVhY2goKGNhcHR1cmVzLCBwb2ludGVySWQpID0+IHtcbiAgICByZWxlYXNlSW50ZXJuYWxQb2ludGVyQ2FwdHVyZShpbnRlcm5hbC5jYXB0dXJlZE1hcCwgb2JqZWN0LCBjYXB0dXJlcywgcG9pbnRlcklkKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFdmVudHMoc3RvcmUpIHtcbiAgLyoqIENhbGN1bGF0ZXMgZGVsdGEgKi9cbiAgZnVuY3Rpb24gY2FsY3VsYXRlRGlzdGFuY2UoZXZlbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbnRlcm5hbFxuICAgIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGR4ID0gZXZlbnQub2Zmc2V0WCAtIGludGVybmFsLmluaXRpYWxDbGlja1swXTtcbiAgICBjb25zdCBkeSA9IGV2ZW50Lm9mZnNldFkgLSBpbnRlcm5hbC5pbml0aWFsQ2xpY2tbMV07XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSk7XG4gIH1cblxuICAvKiogUmV0dXJucyB0cnVlIGlmIGFuIGluc3RhbmNlIGhhcyBhIHZhbGlkIHBvaW50ZXItZXZlbnQgcmVnaXN0ZXJlZCwgdGhpcyBleGNsdWRlcyBzY3JvbGwsIGNsaWNrcyBldGMgKi9cbiAgZnVuY3Rpb24gZmlsdGVyUG9pbnRlckV2ZW50cyhvYmplY3RzKSB7XG4gICAgcmV0dXJuIG9iamVjdHMuZmlsdGVyKG9iaiA9PiBbJ01vdmUnLCAnT3ZlcicsICdFbnRlcicsICdPdXQnLCAnTGVhdmUnXS5zb21lKG5hbWUgPT4ge1xuICAgICAgdmFyIF9yM2Y7XG4gICAgICByZXR1cm4gKF9yM2YgPSBvYmouX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfcjNmLmhhbmRsZXJzWydvblBvaW50ZXInICsgbmFtZV07XG4gICAgfSkpO1xuICB9XG4gIGZ1bmN0aW9uIGludGVyc2VjdChldmVudCwgZmlsdGVyKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGR1cGxpY2F0ZXMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IFtdO1xuICAgIC8vIEFsbG93IGNhbGxlcnMgdG8gZWxpbWluYXRlIGV2ZW50IG9iamVjdHNcbiAgICBjb25zdCBldmVudHNPYmplY3RzID0gZmlsdGVyID8gZmlsdGVyKHN0YXRlLmludGVybmFsLmludGVyYWN0aW9uKSA6IHN0YXRlLmludGVybmFsLmludGVyYWN0aW9uO1xuICAgIC8vIFJlc2V0IGFsbCByYXljYXN0ZXIgY2FtZXJhcyB0byB1bmRlZmluZWRcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50c09iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gZ2V0Um9vdFN0YXRlKGV2ZW50c09iamVjdHNbaV0pO1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlLnJheWNhc3Rlci5jYW1lcmEgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghc3RhdGUucHJldmlvdXNSb290KSB7XG4gICAgICAvLyBNYWtlIHN1cmUgcm9vdC1sZXZlbCBwb2ludGVyIGFuZCByYXkgYXJlIHNldCB1cFxuICAgICAgc3RhdGUuZXZlbnRzLmNvbXB1dGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb21wdXRlKGV2ZW50LCBzdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVJheWNhc3Qob2JqKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGdldFJvb3RTdGF0ZShvYmopO1xuICAgICAgLy8gU2tpcCBldmVudCBoYW5kbGluZyB3aGVuIG5vRXZlbnRzIGlzIHNldCwgb3Igd2hlbiB0aGUgcmF5Y2FzdGVycyBjYW1lcmEgaXMgbnVsbFxuICAgICAgaWYgKCFzdGF0ZSB8fCAhc3RhdGUuZXZlbnRzLmVuYWJsZWQgfHwgc3RhdGUucmF5Y2FzdGVyLmNhbWVyYSA9PT0gbnVsbCkgcmV0dXJuIFtdO1xuXG4gICAgICAvLyBXaGVuIHRoZSBjYW1lcmEgaXMgdW5kZWZpbmVkIHdlIGhhdmUgdG8gY2FsbCB0aGUgZXZlbnQgbGF5ZXJzIHVwZGF0ZSBmdW5jdGlvblxuICAgICAgaWYgKHN0YXRlLnJheWNhc3Rlci5jYW1lcmEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgX3N0YXRlJHByZXZpb3VzUm9vdDtcbiAgICAgICAgc3RhdGUuZXZlbnRzLmNvbXB1dGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb21wdXRlKGV2ZW50LCBzdGF0ZSwgKF9zdGF0ZSRwcmV2aW91c1Jvb3QgPSBzdGF0ZS5wcmV2aW91c1Jvb3QpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkcHJldmlvdXNSb290LmdldFN0YXRlKCkpO1xuICAgICAgICAvLyBJZiB0aGUgY2FtZXJhIGlzIHN0aWxsIHVuZGVmaW5lZCB3ZSBoYXZlIHRvIHNraXAgdGhpcyBsYXllciBlbnRpcmVseVxuICAgICAgICBpZiAoc3RhdGUucmF5Y2FzdGVyLmNhbWVyYSA9PT0gdW5kZWZpbmVkKSBzdGF0ZS5yYXljYXN0ZXIuY2FtZXJhID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gSW50ZXJzZWN0IG9iamVjdCBieSBvYmplY3RcbiAgICAgIHJldHVybiBzdGF0ZS5yYXljYXN0ZXIuY2FtZXJhID8gc3RhdGUucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdChvYmosIHRydWUpIDogW107XG4gICAgfVxuXG4gICAgLy8gQ29sbGVjdCBldmVudHNcbiAgICBsZXQgaGl0cyA9IGV2ZW50c09iamVjdHNcbiAgICAvLyBJbnRlcnNlY3Qgb2JqZWN0c1xuICAgIC5mbGF0TWFwKGhhbmRsZVJheWNhc3QpXG4gICAgLy8gU29ydCBieSBldmVudCBwcmlvcml0eSBhbmQgZGlzdGFuY2VcbiAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgYVN0YXRlID0gZ2V0Um9vdFN0YXRlKGEub2JqZWN0KTtcbiAgICAgIGNvbnN0IGJTdGF0ZSA9IGdldFJvb3RTdGF0ZShiLm9iamVjdCk7XG4gICAgICBpZiAoIWFTdGF0ZSB8fCAhYlN0YXRlKSByZXR1cm4gYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2U7XG4gICAgICByZXR1cm4gYlN0YXRlLmV2ZW50cy5wcmlvcml0eSAtIGFTdGF0ZS5ldmVudHMucHJpb3JpdHkgfHwgYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2U7XG4gICAgfSlcbiAgICAvLyBGaWx0ZXIgb3V0IGR1cGxpY2F0ZXNcbiAgICAuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgaWQgPSBtYWtlSWQoaXRlbSk7XG4gICAgICBpZiAoZHVwbGljYXRlcy5oYXMoaWQpKSByZXR1cm4gZmFsc2U7XG4gICAgICBkdXBsaWNhdGVzLmFkZChpZCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE2MDMxXG4gICAgLy8gQWxsb3cgY3VzdG9tIHVzZXJsYW5kIGludGVyc2VjdCBzb3J0IG9yZGVyLCB0aGlzIGxpa2VseSBvbmx5IG1ha2VzIHNlbnNlIG9uIHRoZSByb290IGZpbHRlclxuICAgIGlmIChzdGF0ZS5ldmVudHMuZmlsdGVyKSBoaXRzID0gc3RhdGUuZXZlbnRzLmZpbHRlcihoaXRzLCBzdGF0ZSk7XG5cbiAgICAvLyBCdWJibGUgdXAgdGhlIGV2ZW50cywgZmluZCB0aGUgZXZlbnQgc291cmNlIChldmVudE9iamVjdClcbiAgICBmb3IgKGNvbnN0IGhpdCBvZiBoaXRzKSB7XG4gICAgICBsZXQgZXZlbnRPYmplY3QgPSBoaXQub2JqZWN0O1xuICAgICAgLy8gQnViYmxlIGV2ZW50IHVwXG4gICAgICB3aGlsZSAoZXZlbnRPYmplY3QpIHtcbiAgICAgICAgdmFyIF9yM2YyO1xuICAgICAgICBpZiAoKF9yM2YyID0gZXZlbnRPYmplY3QuX19yM2YpICE9IG51bGwgJiYgX3IzZjIuZXZlbnRDb3VudCkgaW50ZXJzZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAuLi5oaXQsXG4gICAgICAgICAgZXZlbnRPYmplY3RcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50T2JqZWN0ID0gZXZlbnRPYmplY3QucGFyZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBpbnRlcmFjdGlvbiBpcyBjYXB0dXJlZCwgbWFrZSBhbGwgY2FwdHVyaW5nIHRhcmdldHMgcGFydCBvZiB0aGUgaW50ZXJzZWN0LlxuICAgIGlmICgncG9pbnRlcklkJyBpbiBldmVudCAmJiBzdGF0ZS5pbnRlcm5hbC5jYXB0dXJlZE1hcC5oYXMoZXZlbnQucG9pbnRlcklkKSkge1xuICAgICAgZm9yIChsZXQgY2FwdHVyZURhdGEgb2Ygc3RhdGUuaW50ZXJuYWwuY2FwdHVyZWRNYXAuZ2V0KGV2ZW50LnBvaW50ZXJJZCkudmFsdWVzKCkpIHtcbiAgICAgICAgaWYgKCFkdXBsaWNhdGVzLmhhcyhtYWtlSWQoY2FwdHVyZURhdGEuaW50ZXJzZWN0aW9uKSkpIGludGVyc2VjdGlvbnMucHVzaChjYXB0dXJlRGF0YS5pbnRlcnNlY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW50ZXJzZWN0aW9ucztcbiAgfVxuXG4gIC8qKiAgSGFuZGxlcyBpbnRlcnNlY3Rpb25zIGJ5IGZvcndhcmRpbmcgdGhlbSB0byBoYW5kbGVycyAqL1xuICBmdW5jdGlvbiBoYW5kbGVJbnRlcnNlY3RzKGludGVyc2VjdGlvbnMsIGV2ZW50LCBkZWx0YSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCByb290U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgLy8gSWYgYW55dGhpbmcgaGFzIGJlZW4gZm91bmQsIGZvcndhcmQgaXQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgY29uc3QgbG9jYWxTdGF0ZSA9IHtcbiAgICAgICAgc3RvcHBlZDogZmFsc2VcbiAgICAgIH07XG4gICAgICBmb3IgKGNvbnN0IGhpdCBvZiBpbnRlcnNlY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0Um9vdFN0YXRlKGhpdC5vYmplY3QpIHx8IHJvb3RTdGF0ZTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHJheWNhc3RlcixcbiAgICAgICAgICBwb2ludGVyLFxuICAgICAgICAgIGNhbWVyYSxcbiAgICAgICAgICBpbnRlcm5hbFxuICAgICAgICB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IHVucHJvamVjdGVkUG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMyhwb2ludGVyLngsIHBvaW50ZXIueSwgMCkudW5wcm9qZWN0KGNhbWVyYSk7XG4gICAgICAgIGNvbnN0IGhhc1BvaW50ZXJDYXB0dXJlID0gaWQgPT4ge1xuICAgICAgICAgIHZhciBfaW50ZXJuYWwkY2FwdHVyZWRNYXAsIF9pbnRlcm5hbCRjYXB0dXJlZE1hcDI7XG4gICAgICAgICAgcmV0dXJuIChfaW50ZXJuYWwkY2FwdHVyZWRNYXAgPSAoX2ludGVybmFsJGNhcHR1cmVkTWFwMiA9IGludGVybmFsLmNhcHR1cmVkTWFwLmdldChpZCkpID09IG51bGwgPyB2b2lkIDAgOiBfaW50ZXJuYWwkY2FwdHVyZWRNYXAyLmhhcyhoaXQuZXZlbnRPYmplY3QpKSAhPSBudWxsID8gX2ludGVybmFsJGNhcHR1cmVkTWFwIDogZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNldFBvaW50ZXJDYXB0dXJlID0gaWQgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcHR1cmVEYXRhID0ge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uOiBoaXQsXG4gICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGludGVybmFsLmNhcHR1cmVkTWFwLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwb2ludGVySWQgd2FzIHByZXZpb3VzbHkgY2FwdHVyZWQsIHdlIGFkZCB0aGUgaGl0IHRvIHRoZVxuICAgICAgICAgICAgLy8gZXZlbnQgY2FwdHVyZWRNYXAuXG4gICAgICAgICAgICBpbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQoaWQpLnNldChoaXQuZXZlbnRPYmplY3QsIGNhcHR1cmVEYXRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHBvaW50ZXJJZCB3YXMgbm90IHByZXZpb3VzbHkgY2FwdHVyZWQsIHdlIGNyZWF0ZSBhIG1hcFxuICAgICAgICAgICAgLy8gY29udGFpbmluZyB0aGUgaGl0T2JqZWN0LCBhbmQgdGhlIGhpdC4gaGl0T2JqZWN0IGlzIHVzZWQgZm9yXG4gICAgICAgICAgICAvLyBmYXN0ZXIgYWNjZXNzLlxuICAgICAgICAgICAgaW50ZXJuYWwuY2FwdHVyZWRNYXAuc2V0KGlkLCBuZXcgTWFwKFtbaGl0LmV2ZW50T2JqZWN0LCBjYXB0dXJlRGF0YV1dKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV2ZW50LnRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShpZCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlbGVhc2VQb2ludGVyQ2FwdHVyZSA9IGlkID0+IHtcbiAgICAgICAgICBjb25zdCBjYXB0dXJlcyA9IGludGVybmFsLmNhcHR1cmVkTWFwLmdldChpZCk7XG4gICAgICAgICAgaWYgKGNhcHR1cmVzKSB7XG4gICAgICAgICAgICByZWxlYXNlSW50ZXJuYWxQb2ludGVyQ2FwdHVyZShpbnRlcm5hbC5jYXB0dXJlZE1hcCwgaGl0LmV2ZW50T2JqZWN0LCBjYXB0dXJlcywgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBZGQgbmF0aXZlIGV2ZW50IHByb3BzXG4gICAgICAgIGxldCBleHRyYWN0RXZlbnRQcm9wcyA9IHt9O1xuICAgICAgICAvLyBUaGlzIGl0ZXJhdGVzIG92ZXIgdGhlIGV2ZW50J3MgcHJvcGVydGllcyBpbmNsdWRpbmcgdGhlIGluaGVyaXRlZCBvbmVzLiBOYXRpdmUgUG9pbnRlckV2ZW50cyBoYXZlIG1vc3Qgb2YgdGhlaXIgcHJvcHMgYXMgZ2V0dGVycyB3aGljaCBhcmUgaW5oZXJpdGVkLCBidXQgcG9seWZpbGxlZCBQb2ludGVyRXZlbnRzIGhhdmUgdGhlbSBhbGwgYXMgdGhlaXIgb3duIHByb3BlcnRpZXMgKGkuZS4gbm90IGluaGVyaXRlZCkuIFdlIGNhbid0IHVzZSBPYmplY3Qua2V5cygpIG9yIE9iamVjdC5lbnRyaWVzKCkgYXMgdGhleSBvbmx5IHJldHVybiBcIm93blwiIHByb3BlcnRpZXM7IG5vciBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZXZlbnQpIGFzIHRoYXQgKmRvZXNuJ3QqIHJldHVybiBcIm93blwiIHByb3BlcnRpZXMsIG9ubHkgaW5oZXJpdGVkIG9uZXMuXG4gICAgICAgIGZvciAobGV0IHByb3AgaW4gZXZlbnQpIHtcbiAgICAgICAgICBsZXQgcHJvcGVydHkgPSBldmVudFtwcm9wXTtcbiAgICAgICAgICAvLyBPbmx5IGNvcHkgb3ZlciBhdG9taWNzLCBsZWF2ZSBmdW5jdGlvbnMgYWxvbmUgYXMgdGhlc2Ugc2hvdWxkIGJlXG4gICAgICAgICAgLy8gY2FsbGVkIGFzIGV2ZW50Lm5hdGl2ZUV2ZW50LmZuKClcbiAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ICE9PSAnZnVuY3Rpb24nKSBleHRyYWN0RXZlbnRQcm9wc1twcm9wXSA9IHByb3BlcnR5O1xuICAgICAgICB9XG4gICAgICAgIGxldCByYXljYXN0RXZlbnQgPSB7XG4gICAgICAgICAgLi4uaGl0LFxuICAgICAgICAgIC4uLmV4dHJhY3RFdmVudFByb3BzLFxuICAgICAgICAgIHBvaW50ZXIsXG4gICAgICAgICAgaW50ZXJzZWN0aW9ucyxcbiAgICAgICAgICBzdG9wcGVkOiBsb2NhbFN0YXRlLnN0b3BwZWQsXG4gICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgdW5wcm9qZWN0ZWRQb2ludCxcbiAgICAgICAgICByYXk6IHJheWNhc3Rlci5yYXksXG4gICAgICAgICAgY2FtZXJhOiBjYW1lcmEsXG4gICAgICAgICAgLy8gSGlqYWNrIHN0b3BQcm9wYWdhdGlvbiwgd2hpY2gganVzdCBzZXRzIGEgZmxhZ1xuICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzU5NlxuICAgICAgICAgICAgLy8gRXZlbnRzIGFyZSBub3QgYWxsb3dlZCB0byBzdG9wIHByb3BhZ2F0aW9uIGlmIHRoZSBwb2ludGVyIGhhcyBiZWVuIGNhcHR1cmVkXG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlc0ZvclBvaW50ZXIgPSAncG9pbnRlcklkJyBpbiBldmVudCAmJiBpbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQoZXZlbnQucG9pbnRlcklkKTtcblxuICAgICAgICAgICAgLy8gV2Ugb25seSBhdXRob3JpemUgc3RvcFByb3BhZ2F0aW9uLi4uXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvLyAuLi5pZiB0aGlzIHBvaW50ZXIgaGFzbid0IGJlZW4gY2FwdHVyZWRcbiAgICAgICAgICAgICFjYXB0dXJlc0ZvclBvaW50ZXIgfHxcbiAgICAgICAgICAgIC8vIC4uLiBvciBpZiB0aGUgaGl0IG9iamVjdCBpcyBjYXB0dXJpbmcgdGhlIHBvaW50ZXJcbiAgICAgICAgICAgIGNhcHR1cmVzRm9yUG9pbnRlci5oYXMoaGl0LmV2ZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgICByYXljYXN0RXZlbnQuc3RvcHBlZCA9IGxvY2FsU3RhdGUuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgIC8vIFByb3BhZ2F0aW9uIGlzIHN0b3BwZWQsIHJlbW92ZSBhbGwgb3RoZXIgaG92ZXIgcmVjb3Jkc1xuICAgICAgICAgICAgICAvLyBBbiBldmVudCBoYW5kbGVyIGlzIG9ubHkgYWxsb3dlZCB0byBmbHVzaCBvdGhlciBoYW5kbGVycyBpZiBpdCBpcyBob3ZlcmVkIGl0c2VsZlxuICAgICAgICAgICAgICBpZiAoaW50ZXJuYWwuaG92ZXJlZC5zaXplICYmIEFycmF5LmZyb20oaW50ZXJuYWwuaG92ZXJlZC52YWx1ZXMoKSkuZmluZChpID0+IGkuZXZlbnRPYmplY3QgPT09IGhpdC5ldmVudE9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICAvLyBPYmplY3RzIGNhbm5vdCBmbHVzaCBvdXQgaGlnaGVyIHVwIG9iamVjdHMgdGhhdCBoYXZlIGFscmVhZHkgY2F1Z2h0IHRoZSBldmVudFxuICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hlciA9IGludGVyc2VjdGlvbnMuc2xpY2UoMCwgaW50ZXJzZWN0aW9ucy5pbmRleE9mKGhpdCkpO1xuICAgICAgICAgICAgICAgIGNhbmNlbFBvaW50ZXIoWy4uLmhpZ2hlciwgaGl0XSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIHRoZXJlIHNob3VsZCBiZSBhIGRpc3RpbmN0aW9uIGJldHdlZW4gdGFyZ2V0IGFuZCBjdXJyZW50VGFyZ2V0XG4gICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICBoYXNQb2ludGVyQ2FwdHVyZSxcbiAgICAgICAgICAgIHNldFBvaW50ZXJDYXB0dXJlLFxuICAgICAgICAgICAgcmVsZWFzZVBvaW50ZXJDYXB0dXJlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB7XG4gICAgICAgICAgICBoYXNQb2ludGVyQ2FwdHVyZSxcbiAgICAgICAgICAgIHNldFBvaW50ZXJDYXB0dXJlLFxuICAgICAgICAgICAgcmVsZWFzZVBvaW50ZXJDYXB0dXJlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuYXRpdmVFdmVudDogZXZlbnRcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDYWxsIHN1YnNjcmliZXJzXG4gICAgICAgIGNhbGxiYWNrKHJheWNhc3RFdmVudCk7XG4gICAgICAgIC8vIEV2ZW50IGJ1YmJsaW5nIG1heSBiZSBpbnRlcnJ1cHRlZCBieSBzdG9wUHJvcGFnYXRpb25cbiAgICAgICAgaWYgKGxvY2FsU3RhdGUuc3RvcHBlZCA9PT0gdHJ1ZSkgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnRlcnNlY3Rpb25zO1xuICB9XG4gIGZ1bmN0aW9uIGNhbmNlbFBvaW50ZXIoaW50ZXJzZWN0aW9ucykge1xuICAgIGNvbnN0IHtcbiAgICAgIGludGVybmFsXG4gICAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgZm9yIChjb25zdCBob3ZlcmVkT2JqIG9mIGludGVybmFsLmhvdmVyZWQudmFsdWVzKCkpIHtcbiAgICAgIC8vIFdoZW4gbm8gb2JqZWN0cyB3ZXJlIGhpdCBvciB0aGUgdGhlIGhvdmVyZWQgb2JqZWN0IHdhc24ndCBmb3VuZCB1bmRlcm5lYXRoIHRoZSBjdXJzb3JcbiAgICAgIC8vIHdlIGNhbGwgb25Qb2ludGVyT3V0IGFuZCBkZWxldGUgdGhlIG9iamVjdCBmcm9tIHRoZSBob3ZlcmVkLWVsZW1lbnRzIG1hcFxuICAgICAgaWYgKCFpbnRlcnNlY3Rpb25zLmxlbmd0aCB8fCAhaW50ZXJzZWN0aW9ucy5maW5kKGhpdCA9PiBoaXQub2JqZWN0ID09PSBob3ZlcmVkT2JqLm9iamVjdCAmJiBoaXQuaW5kZXggPT09IGhvdmVyZWRPYmouaW5kZXggJiYgaGl0Lmluc3RhbmNlSWQgPT09IGhvdmVyZWRPYmouaW5zdGFuY2VJZCkpIHtcbiAgICAgICAgY29uc3QgZXZlbnRPYmplY3QgPSBob3ZlcmVkT2JqLmV2ZW50T2JqZWN0O1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGV2ZW50T2JqZWN0Ll9fcjNmO1xuICAgICAgICBjb25zdCBoYW5kbGVycyA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5oYW5kbGVycztcbiAgICAgICAgaW50ZXJuYWwuaG92ZXJlZC5kZWxldGUobWFrZUlkKGhvdmVyZWRPYmopKTtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwgJiYgaW5zdGFuY2UuZXZlbnRDb3VudCkge1xuICAgICAgICAgIC8vIENsZWFyIG91dCBpbnRlcnNlY3RzLCB0aGV5IGFyZSBvdXRkYXRlZCBieSBub3dcbiAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgLi4uaG92ZXJlZE9iaixcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNcbiAgICAgICAgICB9O1xuICAgICAgICAgIGhhbmRsZXJzLm9uUG9pbnRlck91dCA9PSBudWxsID8gdm9pZCAwIDogaGFuZGxlcnMub25Qb2ludGVyT3V0KGRhdGEpO1xuICAgICAgICAgIGhhbmRsZXJzLm9uUG9pbnRlckxlYXZlID09IG51bGwgPyB2b2lkIDAgOiBoYW5kbGVycy5vblBvaW50ZXJMZWF2ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwb2ludGVyTWlzc2VkKGV2ZW50LCBvYmplY3RzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG9iamVjdHNbaV0uX19yM2Y7XG4gICAgICBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UuaGFuZGxlcnMub25Qb2ludGVyTWlzc2VkID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5oYW5kbGVycy5vblBvaW50ZXJNaXNzZWQoZXZlbnQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQb2ludGVyKG5hbWUpIHtcbiAgICAvLyBEZWFsIHdpdGggY2FuY2VsYXRpb25cbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ29uUG9pbnRlckxlYXZlJzpcbiAgICAgIGNhc2UgJ29uUG9pbnRlckNhbmNlbCc6XG4gICAgICAgIHJldHVybiAoKSA9PiBjYW5jZWxQb2ludGVyKFtdKTtcbiAgICAgIGNhc2UgJ29uTG9zdFBvaW50ZXJDYXB0dXJlJzpcbiAgICAgICAgcmV0dXJuIGV2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpbnRlcm5hbFxuICAgICAgICAgIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGlmICgncG9pbnRlcklkJyBpbiBldmVudCAmJiBpbnRlcm5hbC5jYXB0dXJlZE1hcC5oYXMoZXZlbnQucG9pbnRlcklkKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBldmVudCBpbnRlcmZhY2UgaGFkIG9uTG9zdFBvaW50ZXJDYXB0dXJlLCB3ZSdkIGNhbGwgaXQgaGVyZSBvbiBldmVyeVxuICAgICAgICAgICAgLy8gb2JqZWN0IHRoYXQncyBnZXR0aW5nIHJlbW92ZWQuIFdlIGNhbGwgaXQgb24gdGhlIG5leHQgZnJhbWUgYmVjYXVzZSBvbkxvc3RQb2ludGVyQ2FwdHVyZVxuICAgICAgICAgICAgLy8gZmlyZXMgYmVmb3JlIG9uUG9pbnRlclVwLiBPdGhlcndpc2UgcG9pbnRlclVwIHdvdWxkIG5ldmVyIGJlIGNhbGxlZCBpZiB0aGUgZXZlbnQgZGlkbid0XG4gICAgICAgICAgICAvLyBoYXBwZW4gaW4gdGhlIG9iamVjdCBpdCBvcmlnaW5hdGVkIGZyb20sIGxlYXZpbmcgY29tcG9uZW50cyBpbiBhIGluLWJldHdlZW4gc3RhdGUuXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBPbmx5IHJlbGVhc2UgaWYgcG9pbnRlci11cCBkaWRuJ3QgZG8gaXQgYWxyZWFkeVxuICAgICAgICAgICAgICBpZiAoaW50ZXJuYWwuY2FwdHVyZWRNYXAuaGFzKGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5jYXB0dXJlZE1hcC5kZWxldGUoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgICAgICBjYW5jZWxQb2ludGVyKFtdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFueSBvdGhlciBwb2ludGVyIGdvZXMgaGVyZSAuLi5cbiAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb25Qb2ludGVyTWlzc2VkLFxuICAgICAgICBpbnRlcm5hbFxuICAgICAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAgIC8vIHByZXBhcmVSYXkoZXZlbnQpXG4gICAgICBpbnRlcm5hbC5sYXN0RXZlbnQuY3VycmVudCA9IGV2ZW50O1xuXG4gICAgICAvLyBHZXQgZnJlc2ggaW50ZXJzZWN0c1xuICAgICAgY29uc3QgaXNQb2ludGVyTW92ZSA9IG5hbWUgPT09ICdvblBvaW50ZXJNb3ZlJztcbiAgICAgIGNvbnN0IGlzQ2xpY2tFdmVudCA9IG5hbWUgPT09ICdvbkNsaWNrJyB8fCBuYW1lID09PSAnb25Db250ZXh0TWVudScgfHwgbmFtZSA9PT0gJ29uRG91YmxlQ2xpY2snO1xuICAgICAgY29uc3QgZmlsdGVyID0gaXNQb2ludGVyTW92ZSA/IGZpbHRlclBvaW50ZXJFdmVudHMgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBoaXRzID0gaW50ZXJzZWN0KGV2ZW50LCBmaWx0ZXIpO1xuICAgICAgY29uc3QgZGVsdGEgPSBpc0NsaWNrRXZlbnQgPyBjYWxjdWxhdGVEaXN0YW5jZShldmVudCkgOiAwO1xuXG4gICAgICAvLyBTYXZlIGluaXRpYWwgY29vcmRpbmF0ZXMgb24gcG9pbnRlci1kb3duXG4gICAgICBpZiAobmFtZSA9PT0gJ29uUG9pbnRlckRvd24nKSB7XG4gICAgICAgIGludGVybmFsLmluaXRpYWxDbGljayA9IFtldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZXTtcbiAgICAgICAgaW50ZXJuYWwuaW5pdGlhbEhpdHMgPSBoaXRzLm1hcChoaXQgPT4gaGl0LmV2ZW50T2JqZWN0KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYSBjbGljayB5aWVsZHMgbm8gcmVzdWx0cywgcGFzcyBpdCBiYWNrIHRvIHRoZSB1c2VyIGFzIGEgbWlzc1xuICAgICAgLy8gTWlzc2VkIGV2ZW50cyBoYXZlIHRvIGNvbWUgZmlyc3QgaW4gb3JkZXIgdG8gZXN0YWJsaXNoIHVzZXItbGFuZCBzaWRlLWVmZmVjdCBjbGVhbiB1cFxuICAgICAgaWYgKGlzQ2xpY2tFdmVudCAmJiAhaGl0cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGRlbHRhIDw9IDIpIHtcbiAgICAgICAgICBwb2ludGVyTWlzc2VkKGV2ZW50LCBpbnRlcm5hbC5pbnRlcmFjdGlvbik7XG4gICAgICAgICAgaWYgKG9uUG9pbnRlck1pc3NlZCkgb25Qb2ludGVyTWlzc2VkKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVGFrZSBjYXJlIG9mIHVuaG92ZXJcbiAgICAgIGlmIChpc1BvaW50ZXJNb3ZlKSBjYW5jZWxQb2ludGVyKGhpdHMpO1xuICAgICAgZnVuY3Rpb24gb25JbnRlcnNlY3QoZGF0YSkge1xuICAgICAgICBjb25zdCBldmVudE9iamVjdCA9IGRhdGEuZXZlbnRPYmplY3Q7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZXZlbnRPYmplY3QuX19yM2Y7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLmhhbmRsZXJzO1xuXG4gICAgICAgIC8vIENoZWNrIHByZXNlbmNlIG9mIGhhbmRsZXJzXG4gICAgICAgIGlmICghKGluc3RhbmNlICE9IG51bGwgJiYgaW5zdGFuY2UuZXZlbnRDb3VudCkpIHJldHVybjtcblxuICAgICAgICAvKlxyXG4gICAgICAgIE1BWUJFIFRPRE8sIERFTEVURSBJRiBOT1Q6IFxyXG4gICAgICAgICAgQ2hlY2sgaWYgdGhlIG9iamVjdCBpcyBjYXB0dXJlZCwgY2FwdHVyZWQgZXZlbnRzIHNob3VsZCBub3QgaGF2ZSBpbnRlcnNlY3RzIHJ1bm5pbmcgaW4gcGFyYWxsZWxcclxuICAgICAgICAgIEJ1dCB3b3VsZG4ndCBpdCBiZSBiZXR0ZXIgdG8ganVzdCByZXBsYWNlIGNhcHR1cmVkTWFwIHdpdGggYSBzaW5nbGUgZW50cnk/XHJcbiAgICAgICAgICBBbHNvLCBhcmUgd2UgT0sgd2l0aCBzdHJhaWdodCB1cCBtYWtpbmcgcGlja2luZyB1cCBtdWx0aXBsZSBvYmplY3RzIGltcG9zc2libGU/XHJcbiAgICAgICAgICBcclxuICAgICAgICBjb25zdCBwb2ludGVySWQgPSAoZGF0YSBhcyBUaHJlZUV2ZW50PFBvaW50ZXJFdmVudD4pLnBvaW50ZXJJZCAgICAgICAgXHJcbiAgICAgICAgaWYgKHBvaW50ZXJJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBjb25zdCBjYXB0dXJlZE1lc2hTZXQgPSBpbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQocG9pbnRlcklkKVxyXG4gICAgICAgICAgaWYgKGNhcHR1cmVkTWVzaFNldCkge1xyXG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlZCA9IGNhcHR1cmVkTWVzaFNldC5nZXQoZXZlbnRPYmplY3QpXHJcbiAgICAgICAgICAgIGlmIChjYXB0dXJlZCAmJiBjYXB0dXJlZC5sb2NhbFN0YXRlLnN0b3BwZWQpIHJldHVyblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0qL1xuXG4gICAgICAgIGlmIChpc1BvaW50ZXJNb3ZlKSB7XG4gICAgICAgICAgLy8gTW92ZSBldmVudCAuLi5cbiAgICAgICAgICBpZiAoaGFuZGxlcnMub25Qb2ludGVyT3ZlciB8fCBoYW5kbGVycy5vblBvaW50ZXJFbnRlciB8fCBoYW5kbGVycy5vblBvaW50ZXJPdXQgfHwgaGFuZGxlcnMub25Qb2ludGVyTGVhdmUpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gZW50ZXIgb3Igb3V0IGlzIHByZXNlbnQgdGFrZSBjYXJlIG9mIGhvdmVyLXN0YXRlXG4gICAgICAgICAgICBjb25zdCBpZCA9IG1ha2VJZChkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGhvdmVyZWRJdGVtID0gaW50ZXJuYWwuaG92ZXJlZC5nZXQoaWQpO1xuICAgICAgICAgICAgaWYgKCFob3ZlcmVkSXRlbSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IHdhc24ndCBwcmV2aW91c2x5IGhvdmVyZWQsIGJvb2sgaXQgYW5kIGNhbGwgaXRzIGhhbmRsZXJcbiAgICAgICAgICAgICAgaW50ZXJuYWwuaG92ZXJlZC5zZXQoaWQsIGRhdGEpO1xuICAgICAgICAgICAgICBoYW5kbGVycy5vblBvaW50ZXJPdmVyID09IG51bGwgPyB2b2lkIDAgOiBoYW5kbGVycy5vblBvaW50ZXJPdmVyKGRhdGEpO1xuICAgICAgICAgICAgICBoYW5kbGVycy5vblBvaW50ZXJFbnRlciA9PSBudWxsID8gdm9pZCAwIDogaGFuZGxlcnMub25Qb2ludGVyRW50ZXIoZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhvdmVyZWRJdGVtLnN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIG9iamVjdCB3YXMgcHJldmlvdXNseSBob3ZlcmVkIGFuZCBzdG9wcGVkLCB3ZSBzaG91bGRuJ3QgYWxsb3cgb3RoZXIgaXRlbXMgdG8gcHJvY2VlZFxuICAgICAgICAgICAgICBkYXRhLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDYWxsIG1vdXNlIG1vdmVcbiAgICAgICAgICBoYW5kbGVycy5vblBvaW50ZXJNb3ZlID09IG51bGwgPyB2b2lkIDAgOiBoYW5kbGVycy5vblBvaW50ZXJNb3ZlKGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFsbCBvdGhlciBldmVudHMgLi4uXG4gICAgICAgICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW25hbWVdO1xuICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAvLyBGb3J3YXJkIGFsbCBldmVudHMgYmFjayB0byB0aGVpciByZXNwZWN0aXZlIGhhbmRsZXJzIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBjbGljayBldmVudHMsXG4gICAgICAgICAgICAvLyB3aGljaCBtdXN0IHVzZSB0aGUgaW5pdGlhbCB0YXJnZXRcbiAgICAgICAgICAgIGlmICghaXNDbGlja0V2ZW50IHx8IGludGVybmFsLmluaXRpYWxIaXRzLmluY2x1ZGVzKGV2ZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgICAvLyBNaXNzZWQgZXZlbnRzIGhhdmUgdG8gY29tZSBmaXJzdFxuICAgICAgICAgICAgICBwb2ludGVyTWlzc2VkKGV2ZW50LCBpbnRlcm5hbC5pbnRlcmFjdGlvbi5maWx0ZXIob2JqZWN0ID0+ICFpbnRlcm5hbC5pbml0aWFsSGl0cy5pbmNsdWRlcyhvYmplY3QpKSk7XG4gICAgICAgICAgICAgIC8vIE5vdyBjYWxsIHRoZSBoYW5kbGVyXG4gICAgICAgICAgICAgIGhhbmRsZXIoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgb25Qb2ludGVyTWlzc2VkIG9uIGFsbCBlbGVtZW50cyB0aGF0IGhhdmUgcG9pbnRlciBvdmVyL291dCBoYW5kbGVycywgYnV0IG5vdCBjbGljayBhbmQgd2VyZW4ndCBoaXRcbiAgICAgICAgICAgIGlmIChpc0NsaWNrRXZlbnQgJiYgaW50ZXJuYWwuaW5pdGlhbEhpdHMuaW5jbHVkZXMoZXZlbnRPYmplY3QpKSB7XG4gICAgICAgICAgICAgIHBvaW50ZXJNaXNzZWQoZXZlbnQsIGludGVybmFsLmludGVyYWN0aW9uLmZpbHRlcihvYmplY3QgPT4gIWludGVybmFsLmluaXRpYWxIaXRzLmluY2x1ZGVzKG9iamVjdCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhhbmRsZUludGVyc2VjdHMoaGl0cywgZXZlbnQsIGRlbHRhLCBvbkludGVyc2VjdCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGhhbmRsZVBvaW50ZXJcbiAgfTtcbn1cblxuLy8gS2V5cyB0aGF0IHNob3VsZG4ndCBiZSBjb3BpZWQgYmV0d2VlbiBSM0Ygc3RvcmVzXG5jb25zdCBwcml2YXRlS2V5cyA9IFsnc2V0JywgJ2dldCcsICdzZXRTaXplJywgJ3NldEZyYW1lbG9vcCcsICdzZXREcHInLCAnZXZlbnRzJywgJ2ludmFsaWRhdGUnLCAnYWR2YW5jZScsICdzaXplJywgJ3ZpZXdwb3J0J107XG5jb25zdCBpc1JlbmRlcmVyID0gZGVmID0+ICEhKGRlZiAhPSBudWxsICYmIGRlZi5yZW5kZXIpO1xuY29uc3QgY29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgY3JlYXRlU3RvcmUgPSAoaW52YWxpZGF0ZSwgYWR2YW5jZSkgPT4ge1xuICBjb25zdCByb290U3RhdGUgPSBjcmVhdGUoKHNldCwgZ2V0KSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIGNvbnN0IGRlZmF1bHRUYXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIGNvbnN0IHRlbXBUYXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRWaWV3cG9ydChjYW1lcmEgPSBnZXQoKS5jYW1lcmEsIHRhcmdldCA9IGRlZmF1bHRUYXJnZXQsIHNpemUgPSBnZXQoKS5zaXplKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHRvcCxcbiAgICAgICAgbGVmdFxuICAgICAgfSA9IHNpemU7XG4gICAgICBjb25zdCBhc3BlY3QgPSB3aWR0aCAvIGhlaWdodDtcbiAgICAgIGlmICh0YXJnZXQuaXNWZWN0b3IzKSB0ZW1wVGFyZ2V0LmNvcHkodGFyZ2V0KTtlbHNlIHRlbXBUYXJnZXQuc2V0KC4uLnRhcmdldCk7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IGNhbWVyYS5nZXRXb3JsZFBvc2l0aW9uKHBvc2l0aW9uKS5kaXN0YW5jZVRvKHRlbXBUYXJnZXQpO1xuICAgICAgaWYgKGlzT3J0aG9ncmFwaGljQ2FtZXJhKGNhbWVyYSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogd2lkdGggLyBjYW1lcmEuem9vbSxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAvIGNhbWVyYS56b29tLFxuICAgICAgICAgIHRvcCxcbiAgICAgICAgICBsZWZ0LFxuICAgICAgICAgIGZhY3RvcjogMSxcbiAgICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgICBhc3BlY3RcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGZvdiA9IGNhbWVyYS5mb3YgKiBNYXRoLlBJIC8gMTgwOyAvLyBjb252ZXJ0IHZlcnRpY2FsIGZvdiB0byByYWRpYW5zXG4gICAgICAgIGNvbnN0IGggPSAyICogTWF0aC50YW4oZm92IC8gMikgKiBkaXN0YW5jZTsgLy8gdmlzaWJsZSBoZWlnaHRcbiAgICAgICAgY29uc3QgdyA9IGggKiAod2lkdGggLyBoZWlnaHQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICB0b3AsXG4gICAgICAgICAgbGVmdCxcbiAgICAgICAgICBmYWN0b3I6IHdpZHRoIC8gdyxcbiAgICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgICBhc3BlY3RcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHBlcmZvcm1hbmNlVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzZXRQZXJmb3JtYW5jZUN1cnJlbnQgPSBjdXJyZW50ID0+IHNldChzdGF0ZSA9PiAoe1xuICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgLi4uc3RhdGUucGVyZm9ybWFuY2UsXG4gICAgICAgIGN1cnJlbnRcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgY29uc3QgcG9pbnRlciA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gICAgY29uc3Qgcm9vdFN0YXRlID0ge1xuICAgICAgc2V0LFxuICAgICAgZ2V0LFxuICAgICAgLy8gTW9jayBvYmplY3RzIHRoYXQgaGF2ZSB0byBiZSBjb25maWd1cmVkXG4gICAgICBnbDogbnVsbCxcbiAgICAgIGNhbWVyYTogbnVsbCxcbiAgICAgIHJheWNhc3RlcjogbnVsbCxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICBwcmlvcml0eTogMSxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgY29ubmVjdGVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHhyOiBudWxsLFxuICAgICAgc2NlbmU6IG51bGwsXG4gICAgICBpbnZhbGlkYXRlOiAoZnJhbWVzID0gMSkgPT4gaW52YWxpZGF0ZShnZXQoKSwgZnJhbWVzKSxcbiAgICAgIGFkdmFuY2U6ICh0aW1lc3RhbXAsIHJ1bkdsb2JhbEVmZmVjdHMpID0+IGFkdmFuY2UodGltZXN0YW1wLCBydW5HbG9iYWxFZmZlY3RzLCBnZXQoKSksXG4gICAgICBsZWdhY3k6IGZhbHNlLFxuICAgICAgbGluZWFyOiBmYWxzZSxcbiAgICAgIGZsYXQ6IGZhbHNlLFxuICAgICAgY29udHJvbHM6IG51bGwsXG4gICAgICBjbG9jazogbmV3IFRIUkVFLkNsb2NrKCksXG4gICAgICBwb2ludGVyLFxuICAgICAgbW91c2U6IHBvaW50ZXIsXG4gICAgICBmcmFtZWxvb3A6ICdhbHdheXMnLFxuICAgICAgb25Qb2ludGVyTWlzc2VkOiB1bmRlZmluZWQsXG4gICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICBjdXJyZW50OiAxLFxuICAgICAgICBtaW46IDAuNSxcbiAgICAgICAgbWF4OiAxLFxuICAgICAgICBkZWJvdW5jZTogMjAwLFxuICAgICAgICByZWdyZXNzOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXQoKTtcbiAgICAgICAgICAvLyBDbGVhciB0aW1lb3V0XG4gICAgICAgICAgaWYgKHBlcmZvcm1hbmNlVGltZW91dCkgY2xlYXJUaW1lb3V0KHBlcmZvcm1hbmNlVGltZW91dCk7XG4gICAgICAgICAgLy8gU2V0IGxvd2VyIGJvdW5kIHBlcmZvcm1hbmNlXG4gICAgICAgICAgaWYgKHN0YXRlLnBlcmZvcm1hbmNlLmN1cnJlbnQgIT09IHN0YXRlLnBlcmZvcm1hbmNlLm1pbikgc2V0UGVyZm9ybWFuY2VDdXJyZW50KHN0YXRlLnBlcmZvcm1hbmNlLm1pbik7XG4gICAgICAgICAgLy8gR28gYmFjayB0byB1cHBlciBib3VuZCBwZXJmb3JtYW5jZSBhZnRlciBhIHdoaWxlIHVubGVzcyBzb21ldGhpbmcgcmVncmVzc2VzIG1lYW53aGlsZVxuICAgICAgICAgIHBlcmZvcm1hbmNlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gc2V0UGVyZm9ybWFuY2VDdXJyZW50KGdldCgpLnBlcmZvcm1hbmNlLm1heCksIHN0YXRlLnBlcmZvcm1hbmNlLmRlYm91bmNlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNpemU6IHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB1cGRhdGVTdHlsZTogZmFsc2VcbiAgICAgIH0sXG4gICAgICB2aWV3cG9ydDoge1xuICAgICAgICBpbml0aWFsRHByOiAwLFxuICAgICAgICBkcHI6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgYXNwZWN0OiAwLFxuICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgZmFjdG9yOiAwLFxuICAgICAgICBnZXRDdXJyZW50Vmlld3BvcnRcbiAgICAgIH0sXG4gICAgICBzZXRFdmVudHM6IGV2ZW50cyA9PiBzZXQoc3RhdGUgPT4gKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIC4uLnN0YXRlLmV2ZW50cyxcbiAgICAgICAgICAuLi5ldmVudHNcbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAgc2V0U2l6ZTogKHdpZHRoLCBoZWlnaHQsIHVwZGF0ZVN0eWxlLCB0b3AsIGxlZnQpID0+IHtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gZ2V0KCkuY2FtZXJhO1xuICAgICAgICBjb25zdCBzaXplID0ge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB0b3A6IHRvcCB8fCAwLFxuICAgICAgICAgIGxlZnQ6IGxlZnQgfHwgMCxcbiAgICAgICAgICB1cGRhdGVTdHlsZVxuICAgICAgICB9O1xuICAgICAgICBzZXQoc3RhdGUgPT4gKHtcbiAgICAgICAgICBzaXplLFxuICAgICAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgICAgICAuLi5zdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgICAgIC4uLmdldEN1cnJlbnRWaWV3cG9ydChjYW1lcmEsIGRlZmF1bHRUYXJnZXQsIHNpemUpXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9LFxuICAgICAgc2V0RHByOiBkcHIgPT4gc2V0KHN0YXRlID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBjYWxjdWxhdGVEcHIoZHByKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2aWV3cG9ydDoge1xuICAgICAgICAgICAgLi4uc3RhdGUudmlld3BvcnQsXG4gICAgICAgICAgICBkcHI6IHJlc29sdmVkLFxuICAgICAgICAgICAgaW5pdGlhbERwcjogc3RhdGUudmlld3BvcnQuaW5pdGlhbERwciB8fCByZXNvbHZlZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgc2V0RnJhbWVsb29wOiAoZnJhbWVsb29wID0gJ2Fsd2F5cycpID0+IHtcbiAgICAgICAgY29uc3QgY2xvY2sgPSBnZXQoKS5jbG9jaztcblxuICAgICAgICAvLyBpZiBmcmFtZWxvb3AgPT09IFwibmV2ZXJcIiBjbG9jay5lbGFwc2VkVGltZSBpcyB1cGRhdGVkIHVzaW5nIGFkdmFuY2UodGltZXN0YW1wKVxuICAgICAgICBjbG9jay5zdG9wKCk7XG4gICAgICAgIGNsb2NrLmVsYXBzZWRUaW1lID0gMDtcbiAgICAgICAgaWYgKGZyYW1lbG9vcCAhPT0gJ25ldmVyJykge1xuICAgICAgICAgIGNsb2NrLnN0YXJ0KCk7XG4gICAgICAgICAgY2xvY2suZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHNldCgoKSA9PiAoe1xuICAgICAgICAgIGZyYW1lbG9vcFxuICAgICAgICB9KSk7XG4gICAgICB9LFxuICAgICAgcHJldmlvdXNSb290OiB1bmRlZmluZWQsXG4gICAgICBpbnRlcm5hbDoge1xuICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgZnJhbWVzOiAwLFxuICAgICAgICBsYXN0RXZlbnQ6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVSZWYoKSxcbiAgICAgICAgaW50ZXJhY3Rpb246IFtdLFxuICAgICAgICBob3ZlcmVkOiBuZXcgTWFwKCksXG4gICAgICAgIHN1YnNjcmliZXJzOiBbXSxcbiAgICAgICAgaW5pdGlhbENsaWNrOiBbMCwgMF0sXG4gICAgICAgIGluaXRpYWxIaXRzOiBbXSxcbiAgICAgICAgY2FwdHVyZWRNYXA6IG5ldyBNYXAoKSxcbiAgICAgICAgc3Vic2NyaWJlOiAocmVmLCBwcmlvcml0eSwgc3RvcmUpID0+IHtcbiAgICAgICAgICBjb25zdCBpbnRlcm5hbCA9IGdldCgpLmludGVybmFsO1xuICAgICAgICAgIC8vIElmIHRoaXMgc3Vic2NyaXB0aW9uIHdhcyBnaXZlbiBhIHByaW9yaXR5LCBpdCB0YWtlcyByZW5kZXJpbmcgaW50byBpdHMgb3duIGhhbmRzXG4gICAgICAgICAgLy8gRm9yIHRoYXQgcmVhc29uIHdlIHN3aXRjaCBvZmYgYXV0b21hdGljIHJlbmRlcmluZyBhbmQgaW5jcmVhc2UgdGhlIG1hbnVhbCBmbGFnXG4gICAgICAgICAgLy8gQXMgbG9uZyBhcyB0aGlzIGZsYWcgaXMgcG9zaXRpdmUgdGhlcmUgY2FuIGJlIG5vIGludGVybmFsIHJlbmRlcmluZyBhdCBhbGxcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIHJlbmRlciBzdWJzY3JpcHRpb25zXG4gICAgICAgICAgaW50ZXJuYWwucHJpb3JpdHkgPSBpbnRlcm5hbC5wcmlvcml0eSArIChwcmlvcml0eSA+IDAgPyAxIDogMCk7XG4gICAgICAgICAgaW50ZXJuYWwuc3Vic2NyaWJlcnMucHVzaCh7XG4gICAgICAgICAgICByZWYsXG4gICAgICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgICAgIHN0b3JlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgc3Vic2NyaWJlciBhbmQgc29ydCBsYXllcnMgZnJvbSBsb3dlc3QgdG8gaGlnaGVzdCwgbWVhbmluZyxcbiAgICAgICAgICAvLyBoaWdoZXN0IHByaW9yaXR5IHJlbmRlcnMgbGFzdCAob24gdG9wIG9mIHRoZSBvdGhlciBmcmFtZXMpXG4gICAgICAgICAgaW50ZXJuYWwuc3Vic2NyaWJlcnMgPSBpbnRlcm5hbC5zdWJzY3JpYmVycy5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVybmFsID0gZ2V0KCkuaW50ZXJuYWw7XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWwgIT0gbnVsbCAmJiBpbnRlcm5hbC5zdWJzY3JpYmVycykge1xuICAgICAgICAgICAgICAvLyBEZWNyZWFzZSBtYW51YWwgZmxhZyBpZiB0aGlzIHN1YnNjcmlwdGlvbiBoYWQgYSBwcmlvcml0eVxuICAgICAgICAgICAgICBpbnRlcm5hbC5wcmlvcml0eSA9IGludGVybmFsLnByaW9yaXR5IC0gKHByaW9yaXR5ID4gMCA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXIgZnJvbSBsaXN0XG4gICAgICAgICAgICAgIGludGVybmFsLnN1YnNjcmliZXJzID0gaW50ZXJuYWwuc3Vic2NyaWJlcnMuZmlsdGVyKHMgPT4gcy5yZWYgIT09IHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJvb3RTdGF0ZTtcbiAgfSk7XG4gIGNvbnN0IHN0YXRlID0gcm9vdFN0YXRlLmdldFN0YXRlKCk7XG4gIGxldCBvbGRTaXplID0gc3RhdGUuc2l6ZTtcbiAgbGV0IG9sZERwciA9IHN0YXRlLnZpZXdwb3J0LmRwcjtcbiAgbGV0IG9sZENhbWVyYSA9IHN0YXRlLmNhbWVyYTtcbiAgcm9vdFN0YXRlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY2FtZXJhLFxuICAgICAgc2l6ZSxcbiAgICAgIHZpZXdwb3J0LFxuICAgICAgZ2wsXG4gICAgICBzZXRcbiAgICB9ID0gcm9vdFN0YXRlLmdldFN0YXRlKCk7XG5cbiAgICAvLyBSZXNpemUgY2FtZXJhIGFuZCByZW5kZXJlciBvbiBjaGFuZ2VzIHRvIHNpemUgYW5kIHBpeGVscmF0aW9cbiAgICBpZiAoc2l6ZS53aWR0aCAhPT0gb2xkU2l6ZS53aWR0aCB8fCBzaXplLmhlaWdodCAhPT0gb2xkU2l6ZS5oZWlnaHQgfHwgdmlld3BvcnQuZHByICE9PSBvbGREcHIpIHtcbiAgICAgIHZhciBfc2l6ZSR1cGRhdGVTdHlsZTtcbiAgICAgIG9sZFNpemUgPSBzaXplO1xuICAgICAgb2xkRHByID0gdmlld3BvcnQuZHByO1xuICAgICAgLy8gVXBkYXRlIGNhbWVyYSAmIHJlbmRlcmVyXG4gICAgICB1cGRhdGVDYW1lcmEoY2FtZXJhLCBzaXplKTtcbiAgICAgIGdsLnNldFBpeGVsUmF0aW8odmlld3BvcnQuZHByKTtcbiAgICAgIGNvbnN0IHVwZGF0ZVN0eWxlID0gKF9zaXplJHVwZGF0ZVN0eWxlID0gc2l6ZS51cGRhdGVTdHlsZSkgIT0gbnVsbCA/IF9zaXplJHVwZGF0ZVN0eWxlIDogdHlwZW9mIEhUTUxDYW52YXNFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBnbC5kb21FbGVtZW50IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICBnbC5zZXRTaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0LCB1cGRhdGVTdHlsZSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHZpZXdwb3J0IG9uY2UgdGhlIGNhbWVyYSBjaGFuZ2VzXG4gICAgaWYgKGNhbWVyYSAhPT0gb2xkQ2FtZXJhKSB7XG4gICAgICBvbGRDYW1lcmEgPSBjYW1lcmE7XG4gICAgICAvLyBVcGRhdGUgdmlld3BvcnRcbiAgICAgIHNldChzdGF0ZSA9PiAoe1xuICAgICAgICB2aWV3cG9ydDoge1xuICAgICAgICAgIC4uLnN0YXRlLnZpZXdwb3J0LFxuICAgICAgICAgIC4uLnN0YXRlLnZpZXdwb3J0LmdldEN1cnJlbnRWaWV3cG9ydChjYW1lcmEpXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEludmFsaWRhdGUgb24gYW55IGNoYW5nZVxuICByb290U3RhdGUuc3Vic2NyaWJlKHN0YXRlID0+IGludmFsaWRhdGUoc3RhdGUpKTtcblxuICAvLyBSZXR1cm4gcm9vdCBzdGF0ZVxuICByZXR1cm4gcm9vdFN0YXRlO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlU3VicyhjYWxsYmFjaywgc3Vicykge1xuICBjb25zdCBzdWIgPSB7XG4gICAgY2FsbGJhY2tcbiAgfTtcbiAgc3Vicy5hZGQoc3ViKTtcbiAgcmV0dXJuICgpID0+IHZvaWQgc3Vicy5kZWxldGUoc3ViKTtcbn1cbmxldCBpO1xubGV0IGdsb2JhbEVmZmVjdHMgPSBuZXcgU2V0KCk7XG5sZXQgZ2xvYmFsQWZ0ZXJFZmZlY3RzID0gbmV3IFNldCgpO1xubGV0IGdsb2JhbFRhaWxFZmZlY3RzID0gbmV3IFNldCgpO1xuXG4vKipcclxuICogQWRkcyBhIGdsb2JhbCByZW5kZXIgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGVhY2ggZnJhbWUuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2FkZGl0aW9uYWwtZXhwb3J0cyNhZGRFZmZlY3RcclxuICovXG5jb25zdCBhZGRFZmZlY3QgPSBjYWxsYmFjayA9PiBjcmVhdGVTdWJzKGNhbGxiYWNrLCBnbG9iYWxFZmZlY3RzKTtcblxuLyoqXHJcbiAqIEFkZHMgYSBnbG9iYWwgYWZ0ZXItcmVuZGVyIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBlYWNoIGZyYW1lLlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9hZGRpdGlvbmFsLWV4cG9ydHMjYWRkQWZ0ZXJFZmZlY3RcclxuICovXG5jb25zdCBhZGRBZnRlckVmZmVjdCA9IGNhbGxiYWNrID0+IGNyZWF0ZVN1YnMoY2FsbGJhY2ssIGdsb2JhbEFmdGVyRWZmZWN0cyk7XG5cbi8qKlxyXG4gKiBBZGRzIGEgZ2xvYmFsIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCB3aGVuIHJlbmRlcmluZyBzdG9wcy5cclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvYWRkaXRpb25hbC1leHBvcnRzI2FkZFRhaWxcclxuICovXG5jb25zdCBhZGRUYWlsID0gY2FsbGJhY2sgPT4gY3JlYXRlU3VicyhjYWxsYmFjaywgZ2xvYmFsVGFpbEVmZmVjdHMpO1xuZnVuY3Rpb24gcnVuKGVmZmVjdHMsIHRpbWVzdGFtcCkge1xuICBpZiAoIWVmZmVjdHMuc2l6ZSkgcmV0dXJuO1xuICBmb3IgKGNvbnN0IHtcbiAgICBjYWxsYmFja1xuICB9IG9mIGVmZmVjdHMudmFsdWVzKCkpIHtcbiAgICBjYWxsYmFjayh0aW1lc3RhbXApO1xuICB9XG59XG5mdW5jdGlvbiBmbHVzaEdsb2JhbEVmZmVjdHModHlwZSwgdGltZXN0YW1wKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2JlZm9yZSc6XG4gICAgICByZXR1cm4gcnVuKGdsb2JhbEVmZmVjdHMsIHRpbWVzdGFtcCk7XG4gICAgY2FzZSAnYWZ0ZXInOlxuICAgICAgcmV0dXJuIHJ1bihnbG9iYWxBZnRlckVmZmVjdHMsIHRpbWVzdGFtcCk7XG4gICAgY2FzZSAndGFpbCc6XG4gICAgICByZXR1cm4gcnVuKGdsb2JhbFRhaWxFZmZlY3RzLCB0aW1lc3RhbXApO1xuICB9XG59XG5sZXQgc3Vic2NyaWJlcnM7XG5sZXQgc3Vic2NyaXB0aW9uO1xuZnVuY3Rpb24gcmVuZGVyJDEodGltZXN0YW1wLCBzdGF0ZSwgZnJhbWUpIHtcbiAgLy8gUnVuIGxvY2FsIGVmZmVjdHNcbiAgbGV0IGRlbHRhID0gc3RhdGUuY2xvY2suZ2V0RGVsdGEoKTtcbiAgLy8gSW4gZnJhbWVsb29wPSduZXZlcicgbW9kZSwgY2xvY2sgdGltZXMgYXJlIHVwZGF0ZWQgdXNpbmcgdGhlIHByb3ZpZGVkIHRpbWVzdGFtcFxuICBpZiAoc3RhdGUuZnJhbWVsb29wID09PSAnbmV2ZXInICYmIHR5cGVvZiB0aW1lc3RhbXAgPT09ICdudW1iZXInKSB7XG4gICAgZGVsdGEgPSB0aW1lc3RhbXAgLSBzdGF0ZS5jbG9jay5lbGFwc2VkVGltZTtcbiAgICBzdGF0ZS5jbG9jay5vbGRUaW1lID0gc3RhdGUuY2xvY2suZWxhcHNlZFRpbWU7XG4gICAgc3RhdGUuY2xvY2suZWxhcHNlZFRpbWUgPSB0aW1lc3RhbXA7XG4gIH1cbiAgLy8gQ2FsbCBzdWJzY3JpYmVycyAodXNlRnJhbWUpXG4gIHN1YnNjcmliZXJzID0gc3RhdGUuaW50ZXJuYWwuc3Vic2NyaWJlcnM7XG4gIGZvciAoaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkrKykge1xuICAgIHN1YnNjcmlwdGlvbiA9IHN1YnNjcmliZXJzW2ldO1xuICAgIHN1YnNjcmlwdGlvbi5yZWYuY3VycmVudChzdWJzY3JpcHRpb24uc3RvcmUuZ2V0U3RhdGUoKSwgZGVsdGEsIGZyYW1lKTtcbiAgfVxuICAvLyBSZW5kZXIgY29udGVudFxuICBpZiAoIXN0YXRlLmludGVybmFsLnByaW9yaXR5ICYmIHN0YXRlLmdsLnJlbmRlcikgc3RhdGUuZ2wucmVuZGVyKHN0YXRlLnNjZW5lLCBzdGF0ZS5jYW1lcmEpO1xuICAvLyBEZWNyZWFzZSBmcmFtZSBjb3VudFxuICBzdGF0ZS5pbnRlcm5hbC5mcmFtZXMgPSBNYXRoLm1heCgwLCBzdGF0ZS5pbnRlcm5hbC5mcmFtZXMgLSAxKTtcbiAgcmV0dXJuIHN0YXRlLmZyYW1lbG9vcCA9PT0gJ2Fsd2F5cycgPyAxIDogc3RhdGUuaW50ZXJuYWwuZnJhbWVzO1xufVxuZnVuY3Rpb24gY3JlYXRlTG9vcChyb290cykge1xuICBsZXQgcnVubmluZyA9IGZhbHNlO1xuICBsZXQgdXNlRnJhbWVJblByb2dyZXNzID0gZmFsc2U7XG4gIGxldCByZXBlYXQ7XG4gIGxldCBmcmFtZTtcbiAgbGV0IHN0YXRlO1xuICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcCkge1xuICAgIGZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgIHJlcGVhdCA9IDA7XG5cbiAgICAvLyBSdW4gZWZmZWN0c1xuICAgIGZsdXNoR2xvYmFsRWZmZWN0cygnYmVmb3JlJywgdGltZXN0YW1wKTtcblxuICAgIC8vIFJlbmRlciBhbGwgcm9vdHNcbiAgICB1c2VGcmFtZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIGZvciAoY29uc3Qgcm9vdCBvZiByb290cy52YWx1ZXMoKSkge1xuICAgICAgdmFyIF9zdGF0ZSRnbCR4cjtcbiAgICAgIHN0YXRlID0gcm9vdC5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgLy8gSWYgdGhlIGZyYW1lbG9vcCBpcyBpbnZhbGlkYXRlZCwgZG8gbm90IHJ1biBhbm90aGVyIGZyYW1lXG4gICAgICBpZiAoc3RhdGUuaW50ZXJuYWwuYWN0aXZlICYmIChzdGF0ZS5mcmFtZWxvb3AgPT09ICdhbHdheXMnIHx8IHN0YXRlLmludGVybmFsLmZyYW1lcyA+IDApICYmICEoKF9zdGF0ZSRnbCR4ciA9IHN0YXRlLmdsLnhyKSAhPSBudWxsICYmIF9zdGF0ZSRnbCR4ci5pc1ByZXNlbnRpbmcpKSB7XG4gICAgICAgIHJlcGVhdCArPSByZW5kZXIkMSh0aW1lc3RhbXAsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlRnJhbWVJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAvLyBSdW4gYWZ0ZXItZWZmZWN0c1xuICAgIGZsdXNoR2xvYmFsRWZmZWN0cygnYWZ0ZXInLCB0aW1lc3RhbXApO1xuXG4gICAgLy8gU3RvcCB0aGUgbG9vcCBpZiBub3RoaW5nIGludmFsaWRhdGVzIGl0XG4gICAgaWYgKHJlcGVhdCA9PT0gMCkge1xuICAgICAgLy8gVGFpbCBjYWxsIGVmZmVjdHMsIHRoZXkgYXJlIGNhbGxlZCB3aGVuIHJlbmRlcmluZyBzdG9wc1xuICAgICAgZmx1c2hHbG9iYWxFZmZlY3RzKCd0YWlsJywgdGltZXN0YW1wKTtcblxuICAgICAgLy8gRmxhZyBlbmQgb2Ygb3BlcmF0aW9uXG4gICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpbnZhbGlkYXRlKHN0YXRlLCBmcmFtZXMgPSAxKSB7XG4gICAgdmFyIF9zdGF0ZSRnbCR4cjI7XG4gICAgaWYgKCFzdGF0ZSkgcmV0dXJuIHJvb3RzLmZvckVhY2gocm9vdCA9PiBpbnZhbGlkYXRlKHJvb3Quc3RvcmUuZ2V0U3RhdGUoKSwgZnJhbWVzKSk7XG4gICAgaWYgKChfc3RhdGUkZ2wkeHIyID0gc3RhdGUuZ2wueHIpICE9IG51bGwgJiYgX3N0YXRlJGdsJHhyMi5pc1ByZXNlbnRpbmcgfHwgIXN0YXRlLmludGVybmFsLmFjdGl2ZSB8fCBzdGF0ZS5mcmFtZWxvb3AgPT09ICduZXZlcicpIHJldHVybjtcbiAgICBpZiAoZnJhbWVzID4gMSkge1xuICAgICAgLy8gbGVnYWN5IHN1cHBvcnQgZm9yIHBlb3BsZSB1c2luZyBmcmFtZXMgcGFyYW1ldGVyc1xuICAgICAgLy8gSW5jcmVhc2UgZnJhbWVzLCBkbyBub3QgZ28gaGlnaGVyIHRoYW4gNjBcbiAgICAgIHN0YXRlLmludGVybmFsLmZyYW1lcyA9IE1hdGgubWluKDYwLCBzdGF0ZS5pbnRlcm5hbC5mcmFtZXMgKyBmcmFtZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodXNlRnJhbWVJblByb2dyZXNzKSB7XG4gICAgICAgIC8vY2FsbGVkIGZyb20gd2l0aGluIGEgdXNlRnJhbWUsIGl0IG1lYW5zIHRoZSB1c2VyIHdhbnRzIGFuIGFkZGl0aW9uYWwgZnJhbWVcbiAgICAgICAgc3RhdGUuaW50ZXJuYWwuZnJhbWVzID0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vdGhlIHVzZXIgbmVlZCBhIG5ldyBmcmFtZSwgbm8gbmVlZCB0byBpbmNyZW1lbnQgZnVydGhlciB0aGFuIDFcbiAgICAgICAgc3RhdGUuaW50ZXJuYWwuZnJhbWVzID0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmVuZGVyLWxvb3AgaXNuJ3QgYWN0aXZlLCBzdGFydCBpdFxuICAgIGlmICghcnVubmluZykge1xuICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFkdmFuY2UodGltZXN0YW1wLCBydW5HbG9iYWxFZmZlY3RzID0gdHJ1ZSwgc3RhdGUsIGZyYW1lKSB7XG4gICAgaWYgKHJ1bkdsb2JhbEVmZmVjdHMpIGZsdXNoR2xvYmFsRWZmZWN0cygnYmVmb3JlJywgdGltZXN0YW1wKTtcbiAgICBpZiAoIXN0YXRlKSBmb3IgKGNvbnN0IHJvb3Qgb2Ygcm9vdHMudmFsdWVzKCkpIHJlbmRlciQxKHRpbWVzdGFtcCwgcm9vdC5zdG9yZS5nZXRTdGF0ZSgpKTtlbHNlIHJlbmRlciQxKHRpbWVzdGFtcCwgc3RhdGUsIGZyYW1lKTtcbiAgICBpZiAocnVuR2xvYmFsRWZmZWN0cykgZmx1c2hHbG9iYWxFZmZlY3RzKCdhZnRlcicsIHRpbWVzdGFtcCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBsb29wLFxuICAgIGludmFsaWRhdGUsXG4gICAgYWR2YW5jZVxuICB9O1xufVxuXG4vKipcclxuICogRXhwb3NlcyBhbiBvYmplY3QncyB7QGxpbmsgTG9jYWxTdGF0ZX0uXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2FkZGl0aW9uYWwtZXhwb3J0cyN1c2VJbnN0YW5jZUhhbmRsZVxyXG4gKlxyXG4gKiAqKk5vdGUqKjogdGhpcyBpcyBhbiBlc2NhcGUgaGF0Y2ggdG8gcmVhY3QtaW50ZXJuYWwgZmllbGRzLiBFeHBlY3QgdGhpcyB0byBjaGFuZ2Ugc2lnbmlmaWNhbnRseSBiZXR3ZWVuIHZlcnNpb25zLlxyXG4gKi9cbmZ1bmN0aW9uIHVzZUluc3RhbmNlSGFuZGxlKHJlZikge1xuICBjb25zdCBpbnN0YW5jZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB2b2lkIChpbnN0YW5jZS5jdXJyZW50ID0gcmVmLmN1cnJlbnQuX19yM2YpLCBbcmVmXSk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmZ1bmN0aW9uIHVzZVN0b3JlKCkge1xuICBjb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoY29udGV4dCk7XG4gIGlmICghc3RvcmUpIHRocm93IG5ldyBFcnJvcignUjNGOiBIb29rcyBjYW4gb25seSBiZSB1c2VkIHdpdGhpbiB0aGUgQ2FudmFzIGNvbXBvbmVudCEnKTtcbiAgcmV0dXJuIHN0b3JlO1xufVxuXG4vKipcclxuICogQWNjZXNzZXMgUjNGJ3MgaW50ZXJuYWwgc3RhdGUsIGNvbnRhaW5pbmcgcmVuZGVyZXIsIGNhbnZhcywgc2NlbmUsIGV0Yy5cclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvaG9va3MjdXNldGhyZWVcclxuICovXG5mdW5jdGlvbiB1c2VUaHJlZShzZWxlY3RvciA9IHN0YXRlID0+IHN0YXRlLCBlcXVhbGl0eUZuKSB7XG4gIHJldHVybiB1c2VTdG9yZSgpKHNlbGVjdG9yLCBlcXVhbGl0eUZuKTtcbn1cblxuLyoqXHJcbiAqIEV4ZWN1dGVzIGEgY2FsbGJhY2sgYmVmb3JlIHJlbmRlciBpbiBhIHNoYXJlZCBmcmFtZSBsb29wLlxyXG4gKiBDYW4gb3JkZXIgZWZmZWN0cyB3aXRoIHJlbmRlciBwcmlvcml0eSBvciBtYW51YWxseSByZW5kZXIgd2l0aCBhIHBvc2l0aXZlIHByaW9yaXR5LlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9ob29rcyN1c2VmcmFtZVxyXG4gKi9cbmZ1bmN0aW9uIHVzZUZyYW1lKGNhbGxiYWNrLCByZW5kZXJQcmlvcml0eSA9IDApIHtcbiAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpO1xuICBjb25zdCBzdWJzY3JpYmUgPSBzdG9yZS5nZXRTdGF0ZSgpLmludGVybmFsLnN1YnNjcmliZTtcbiAgLy8gTWVtb2l6ZSByZWZcbiAgY29uc3QgcmVmID0gdXNlTXV0YWJsZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgLy8gU3Vic2NyaWJlIG9uIG1vdW50LCB1bnN1YnNjcmliZSBvbiB1bm1vdW50XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4gc3Vic2NyaWJlKHJlZiwgcmVuZGVyUHJpb3JpdHksIHN0b3JlKSwgW3JlbmRlclByaW9yaXR5LCBzdWJzY3JpYmUsIHN0b3JlXSk7XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcclxuICogUmV0dXJucyBhIG5vZGUgZ3JhcGggb2YgYW4gb2JqZWN0IHdpdGggbmFtZWQgbm9kZXMgJiBtYXRlcmlhbHMuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2hvb2tzI3VzZWdyYXBoXHJcbiAqL1xuZnVuY3Rpb24gdXNlR3JhcGgob2JqZWN0KSB7XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IGJ1aWxkR3JhcGgob2JqZWN0KSwgW29iamVjdF0pO1xufVxuY29uc3QgbWVtb2l6ZWRMb2FkZXJzID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGxvYWRpbmdGbihleHRlbnNpb25zLCBvblByb2dyZXNzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoUHJvdG8sIC4uLmlucHV0KSB7XG4gICAgLy8gQ29uc3RydWN0IG5ldyBsb2FkZXIgYW5kIHJ1biBleHRlbnNpb25zXG4gICAgbGV0IGxvYWRlciA9IG1lbW9pemVkTG9hZGVycy5nZXQoUHJvdG8pO1xuICAgIGlmICghbG9hZGVyKSB7XG4gICAgICBsb2FkZXIgPSBuZXcgUHJvdG8oKTtcbiAgICAgIG1lbW9pemVkTG9hZGVycy5zZXQoUHJvdG8sIGxvYWRlcik7XG4gICAgfVxuICAgIGlmIChleHRlbnNpb25zKSBleHRlbnNpb25zKGxvYWRlcik7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgdXJscyBhbmQgbG9hZCB0aGVtXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGlucHV0Lm1hcChpbnB1dCA9PiBuZXcgUHJvbWlzZSgocmVzLCByZWplY3QpID0+IGxvYWRlci5sb2FkKGlucHV0LCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnNjZW5lKSBPYmplY3QuYXNzaWduKGRhdGEsIGJ1aWxkR3JhcGgoZGF0YS5zY2VuZSkpO1xuICAgICAgcmVzKGRhdGEpO1xuICAgIH0sIG9uUHJvZ3Jlc3MsIGVycm9yID0+IHJlamVjdChuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkICR7aW5wdXR9OiAke2Vycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlfWApKSkpKSk7XG4gIH07XG59XG4vKipcclxuICogU3luY2hyb25vdXNseSBsb2FkcyBhbmQgY2FjaGVzIGFzc2V0cyB3aXRoIGEgdGhyZWUgbG9hZGVyLlxyXG4gKlxyXG4gKiBOb3RlOiB0aGlzIGhvb2sncyBjYWxsZXIgbXVzdCBiZSB3cmFwcGVkIHdpdGggYFJlYWN0LlN1c3BlbnNlYFxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9ob29rcyN1c2Vsb2FkZXJcclxuICovXG5mdW5jdGlvbiB1c2VMb2FkZXIoUHJvdG8sIGlucHV0LCBleHRlbnNpb25zLCBvblByb2dyZXNzKSB7XG4gIC8vIFVzZSBzdXNwZW5zZSB0byBsb2FkIGFzeW5jIGFzc2V0c1xuICBjb25zdCBrZXlzID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG4gIGNvbnN0IHJlc3VsdHMgPSBzdXNwZW5kKGxvYWRpbmdGbihleHRlbnNpb25zLCBvblByb2dyZXNzKSwgW1Byb3RvLCAuLi5rZXlzXSwge1xuICAgIGVxdWFsOiBpcy5lcXVcbiAgfSk7XG4gIC8vIFJldHVybiB0aGUgb2JqZWN0L3NcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaW5wdXQpID8gcmVzdWx0cyA6IHJlc3VsdHNbMF07XG59XG5cbi8qKlxyXG4gKiBQcmVsb2FkcyBhbiBhc3NldCBpbnRvIGNhY2hlIGFzIGEgc2lkZS1lZmZlY3QuXHJcbiAqL1xudXNlTG9hZGVyLnByZWxvYWQgPSBmdW5jdGlvbiAoUHJvdG8sIGlucHV0LCBleHRlbnNpb25zKSB7XG4gIGNvbnN0IGtleXMgPSBBcnJheS5pc0FycmF5KGlucHV0KSA/IGlucHV0IDogW2lucHV0XTtcbiAgcmV0dXJuIHByZWxvYWQobG9hZGluZ0ZuKGV4dGVuc2lvbnMpLCBbUHJvdG8sIC4uLmtleXNdKTtcbn07XG5cbi8qKlxyXG4gKiBSZW1vdmVzIGEgbG9hZGVkIGFzc2V0IGZyb20gY2FjaGUuXHJcbiAqL1xudXNlTG9hZGVyLmNsZWFyID0gZnVuY3Rpb24gKFByb3RvLCBpbnB1dCkge1xuICBjb25zdCBrZXlzID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG4gIHJldHVybiBjbGVhcihbUHJvdG8sIC4uLmtleXNdKTtcbn07XG5cbmNvbnN0IHJvb3RzID0gbmV3IE1hcCgpO1xuY29uc3Qge1xuICBpbnZhbGlkYXRlLFxuICBhZHZhbmNlXG59ID0gY3JlYXRlTG9vcChyb290cyk7XG5jb25zdCB7XG4gIHJlY29uY2lsZXIsXG4gIGFwcGx5UHJvcHNcbn0gPSBjcmVhdGVSZW5kZXJlcihyb290cywgZ2V0RXZlbnRQcmlvcml0eSk7XG5jb25zdCBzaGFsbG93TG9vc2UgPSB7XG4gIG9iamVjdHM6ICdzaGFsbG93JyxcbiAgc3RyaWN0OiBmYWxzZVxufTtcbmNvbnN0IGNyZWF0ZVJlbmRlcmVySW5zdGFuY2UgPSAoZ2wsIGNhbnZhcykgPT4ge1xuICBjb25zdCBjdXN0b21SZW5kZXJlciA9IHR5cGVvZiBnbCA9PT0gJ2Z1bmN0aW9uJyA/IGdsKGNhbnZhcykgOiBnbDtcbiAgaWYgKGlzUmVuZGVyZXIoY3VzdG9tUmVuZGVyZXIpKSByZXR1cm4gY3VzdG9tUmVuZGVyZXI7ZWxzZSByZXR1cm4gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgIHBvd2VyUHJlZmVyZW5jZTogJ2hpZ2gtcGVyZm9ybWFuY2UnLFxuICAgIGNhbnZhczogY2FudmFzLFxuICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICBhbHBoYTogdHJ1ZSxcbiAgICAuLi5nbFxuICB9KTtcbn07XG5mdW5jdGlvbiBjb21wdXRlSW5pdGlhbFNpemUoY2FudmFzLCBkZWZhdWx0U2l6ZSkge1xuICBjb25zdCBkZWZhdWx0U3R5bGUgPSB0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICBpZiAoZGVmYXVsdFNpemUpIHtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHRvcCxcbiAgICAgIGxlZnQsXG4gICAgICB1cGRhdGVTdHlsZSA9IGRlZmF1bHRTdHlsZVxuICAgIH0gPSBkZWZhdWx0U2l6ZTtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB0b3AsXG4gICAgICBsZWZ0LFxuICAgICAgdXBkYXRlU3R5bGVcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQgJiYgY2FudmFzLnBhcmVudEVsZW1lbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHRvcCxcbiAgICAgIGxlZnRcbiAgICB9ID0gY2FudmFzLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgdG9wLFxuICAgICAgbGVmdCxcbiAgICAgIHVwZGF0ZVN0eWxlOiBkZWZhdWx0U3R5bGVcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBPZmZzY3JlZW5DYW52YXMgIT09ICd1bmRlZmluZWQnICYmIGNhbnZhcyBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHVwZGF0ZVN0eWxlOiBkZWZhdWx0U3R5bGVcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSb290KGNhbnZhcykge1xuICAvLyBDaGVjayBhZ2FpbnN0IG1pc3Rha2VuIHVzZSBvZiBjcmVhdGVSb290XG4gIGNvbnN0IHByZXZSb290ID0gcm9vdHMuZ2V0KGNhbnZhcyk7XG4gIGNvbnN0IHByZXZGaWJlciA9IHByZXZSb290ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2Um9vdC5maWJlcjtcbiAgY29uc3QgcHJldlN0b3JlID0gcHJldlJvb3QgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZSb290LnN0b3JlO1xuICBpZiAocHJldlJvb3QpIGNvbnNvbGUud2FybignUjNGLmNyZWF0ZVJvb3Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UhJyk7XG5cbiAgLy8gUmVwb3J0IHdoZW4gYW4gZXJyb3Igd2FzIGRldGVjdGVkIGluIGEgcHJldmlvdXMgcmVuZGVyXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yMjYxXG4gIGNvbnN0IGxvZ1JlY292ZXJhYmxlRXJyb3IgPSB0eXBlb2YgcmVwb3J0RXJyb3IgPT09ICdmdW5jdGlvbicgP1xuICAvLyBJbiBtb2Rlcm4gYnJvd3NlcnMsIHJlcG9ydEVycm9yIHdpbGwgZGlzcGF0Y2ggYW4gZXJyb3IgZXZlbnQsXG4gIC8vIGVtdWxhdGluZyBhbiB1bmNhdWdodCBKYXZhU2NyaXB0IGVycm9yLlxuICByZXBvcnRFcnJvciA6XG4gIC8vIEluIG9sZGVyIGJyb3dzZXJzIGFuZCB0ZXN0IGVudmlyb25tZW50cywgZmFsbGJhY2sgdG8gY29uc29sZS5lcnJvci5cbiAgY29uc29sZS5lcnJvcjtcblxuICAvLyBDcmVhdGUgc3RvcmVcbiAgY29uc3Qgc3RvcmUgPSBwcmV2U3RvcmUgfHwgY3JlYXRlU3RvcmUoaW52YWxpZGF0ZSwgYWR2YW5jZSk7XG4gIC8vIENyZWF0ZSByZW5kZXJlclxuICBjb25zdCBmaWJlciA9IHByZXZGaWJlciB8fCByZWNvbmNpbGVyLmNyZWF0ZUNvbnRhaW5lcihzdG9yZSwgQ29uY3VycmVudFJvb3QsIG51bGwsIGZhbHNlLCBudWxsLCAnJywgbG9nUmVjb3ZlcmFibGVFcnJvciwgbnVsbCk7XG4gIC8vIE1hcCBpdFxuICBpZiAoIXByZXZSb290KSByb290cy5zZXQoY2FudmFzLCB7XG4gICAgZmliZXIsXG4gICAgc3RvcmVcbiAgfSk7XG5cbiAgLy8gTG9jYWxzXG4gIGxldCBvbkNyZWF0ZWQ7XG4gIGxldCBjb25maWd1cmVkID0gZmFsc2U7XG4gIGxldCBsYXN0Q2FtZXJhO1xuICByZXR1cm4ge1xuICAgIGNvbmZpZ3VyZShwcm9wcyA9IHt9KSB7XG4gICAgICBsZXQge1xuICAgICAgICBnbDogZ2xDb25maWcsXG4gICAgICAgIHNpemU6IHByb3BzU2l6ZSxcbiAgICAgICAgc2NlbmU6IHNjZW5lT3B0aW9ucyxcbiAgICAgICAgZXZlbnRzLFxuICAgICAgICBvbkNyZWF0ZWQ6IG9uQ3JlYXRlZENhbGxiYWNrLFxuICAgICAgICBzaGFkb3dzID0gZmFsc2UsXG4gICAgICAgIGxpbmVhciA9IGZhbHNlLFxuICAgICAgICBmbGF0ID0gZmFsc2UsXG4gICAgICAgIGxlZ2FjeSA9IGZhbHNlLFxuICAgICAgICBvcnRob2dyYXBoaWMgPSBmYWxzZSxcbiAgICAgICAgZnJhbWVsb29wID0gJ2Fsd2F5cycsXG4gICAgICAgIGRwciA9IFsxLCAyXSxcbiAgICAgICAgcGVyZm9ybWFuY2UsXG4gICAgICAgIHJheWNhc3RlcjogcmF5Y2FzdE9wdGlvbnMsXG4gICAgICAgIGNhbWVyYTogY2FtZXJhT3B0aW9ucyxcbiAgICAgICAgb25Qb2ludGVyTWlzc2VkXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBsZXQgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAvLyBTZXQgdXAgcmVuZGVyZXIgKG9uZSB0aW1lIG9ubHkhKVxuICAgICAgbGV0IGdsID0gc3RhdGUuZ2w7XG4gICAgICBpZiAoIXN0YXRlLmdsKSBzdGF0ZS5zZXQoe1xuICAgICAgICBnbDogZ2wgPSBjcmVhdGVSZW5kZXJlckluc3RhbmNlKGdsQ29uZmlnLCBjYW52YXMpXG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IHVwIHJheWNhc3RlciAob25lIHRpbWUgb25seSEpXG4gICAgICBsZXQgcmF5Y2FzdGVyID0gc3RhdGUucmF5Y2FzdGVyO1xuICAgICAgaWYgKCFyYXljYXN0ZXIpIHN0YXRlLnNldCh7XG4gICAgICAgIHJheWNhc3RlcjogcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpXG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IHJheWNhc3RlciBvcHRpb25zXG4gICAgICBjb25zdCB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSA9IHJheWNhc3RPcHRpb25zIHx8IHt9O1xuICAgICAgaWYgKCFpcy5lcXUob3B0aW9ucywgcmF5Y2FzdGVyLCBzaGFsbG93TG9vc2UpKSBhcHBseVByb3BzKHJheWNhc3Rlciwge1xuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9KTtcbiAgICAgIGlmICghaXMuZXF1KHBhcmFtcywgcmF5Y2FzdGVyLnBhcmFtcywgc2hhbGxvd0xvb3NlKSkgYXBwbHlQcm9wcyhyYXljYXN0ZXIsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgLi4ucmF5Y2FzdGVyLnBhcmFtcyxcbiAgICAgICAgICAuLi5wYXJhbXNcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGNhbWVyYSwgZG9uJ3Qgb3ZlcndyaXRlIGFueSB1c2VyLXNldCBzdGF0ZVxuICAgICAgaWYgKCFzdGF0ZS5jYW1lcmEgfHwgc3RhdGUuY2FtZXJhID09PSBsYXN0Q2FtZXJhICYmICFpcy5lcXUobGFzdENhbWVyYSwgY2FtZXJhT3B0aW9ucywgc2hhbGxvd0xvb3NlKSkge1xuICAgICAgICBsYXN0Q2FtZXJhID0gY2FtZXJhT3B0aW9ucztcbiAgICAgICAgY29uc3QgaXNDYW1lcmEgPSBjYW1lcmFPcHRpb25zIGluc3RhbmNlb2YgVEhSRUUuQ2FtZXJhO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBpc0NhbWVyYSA/IGNhbWVyYU9wdGlvbnMgOiBvcnRob2dyYXBoaWMgPyBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKDAsIDAsIDAsIDAsIDAuMSwgMTAwMCkgOiBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNzUsIDAsIDAuMSwgMTAwMCk7XG4gICAgICAgIGlmICghaXNDYW1lcmEpIHtcbiAgICAgICAgICBjYW1lcmEucG9zaXRpb24ueiA9IDU7XG4gICAgICAgICAgaWYgKGNhbWVyYU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGFwcGx5UHJvcHMoY2FtZXJhLCBjYW1lcmFPcHRpb25zKTtcbiAgICAgICAgICAgIC8vIFByZXNlcnZlIHVzZXItZGVmaW5lZCBmcnVzdHVtIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy8zMTYwXG4gICAgICAgICAgICBpZiAoJ2FzcGVjdCcgaW4gY2FtZXJhT3B0aW9ucyB8fCAnbGVmdCcgaW4gY2FtZXJhT3B0aW9ucyB8fCAncmlnaHQnIGluIGNhbWVyYU9wdGlvbnMgfHwgJ2JvdHRvbScgaW4gY2FtZXJhT3B0aW9ucyB8fCAndG9wJyBpbiBjYW1lcmFPcHRpb25zKSB7XG4gICAgICAgICAgICAgIGNhbWVyYS5tYW51YWwgPSB0cnVlO1xuICAgICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBbHdheXMgbG9vayBhdCBjZW50ZXIgYnkgZGVmYXVsdFxuICAgICAgICAgIGlmICghc3RhdGUuY2FtZXJhICYmICEoY2FtZXJhT3B0aW9ucyAhPSBudWxsICYmIGNhbWVyYU9wdGlvbnMucm90YXRpb24pKSBjYW1lcmEubG9va0F0KDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnNldCh7XG4gICAgICAgICAgY2FtZXJhXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSByYXljYXN0ZXJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC14ci9pc3N1ZXMvMzAwXG4gICAgICAgIHJheWNhc3Rlci5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB1cCBzY2VuZSAob25lIHRpbWUgb25seSEpXG4gICAgICBpZiAoIXN0YXRlLnNjZW5lKSB7XG4gICAgICAgIGxldCBzY2VuZTtcbiAgICAgICAgaWYgKHNjZW5lT3B0aW9ucyAhPSBudWxsICYmIHNjZW5lT3B0aW9ucy5pc1NjZW5lKSB7XG4gICAgICAgICAgc2NlbmUgPSBzY2VuZU9wdGlvbnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgICAgICBpZiAoc2NlbmVPcHRpb25zKSBhcHBseVByb3BzKHNjZW5lLCBzY2VuZU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnNldCh7XG4gICAgICAgICAgc2NlbmU6IHByZXBhcmUoc2NlbmUpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdXAgWFIgKG9uZSB0aW1lIG9ubHkhKVxuICAgICAgaWYgKCFzdGF0ZS54cikge1xuICAgICAgICB2YXIgX2dsJHhyO1xuICAgICAgICAvLyBIYW5kbGUgZnJhbWUgYmVoYXZpb3IgaW4gV2ViWFJcbiAgICAgICAgY29uc3QgaGFuZGxlWFJGcmFtZSA9ICh0aW1lc3RhbXAsIGZyYW1lKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGlmIChzdGF0ZS5mcmFtZWxvb3AgPT09ICduZXZlcicpIHJldHVybjtcbiAgICAgICAgICBhZHZhbmNlKHRpbWVzdGFtcCwgdHJ1ZSwgc3RhdGUsIGZyYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUb2dnbGUgcmVuZGVyIHN3aXRjaGluZyBvbiBzZXNzaW9uXG4gICAgICAgIGNvbnN0IGhhbmRsZVNlc3Npb25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIHN0YXRlLmdsLnhyLmVuYWJsZWQgPSBzdGF0ZS5nbC54ci5pc1ByZXNlbnRpbmc7XG4gICAgICAgICAgc3RhdGUuZ2wueHIuc2V0QW5pbWF0aW9uTG9vcChzdGF0ZS5nbC54ci5pc1ByZXNlbnRpbmcgPyBoYW5kbGVYUkZyYW1lIDogbnVsbCk7XG4gICAgICAgICAgaWYgKCFzdGF0ZS5nbC54ci5pc1ByZXNlbnRpbmcpIGludmFsaWRhdGUoc3RhdGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFdlYlhSIHNlc3Npb24gbWFuYWdlclxuICAgICAgICBjb25zdCB4ciA9IHtcbiAgICAgICAgICBjb25uZWN0KCkge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSBzdG9yZS5nZXRTdGF0ZSgpLmdsO1xuICAgICAgICAgICAgZ2wueHIuYWRkRXZlbnRMaXN0ZW5lcignc2Vzc2lvbnN0YXJ0JywgaGFuZGxlU2Vzc2lvbkNoYW5nZSk7XG4gICAgICAgICAgICBnbC54ci5hZGRFdmVudExpc3RlbmVyKCdzZXNzaW9uZW5kJywgaGFuZGxlU2Vzc2lvbkNoYW5nZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSBzdG9yZS5nZXRTdGF0ZSgpLmdsO1xuICAgICAgICAgICAgZ2wueHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vzc2lvbnN0YXJ0JywgaGFuZGxlU2Vzc2lvbkNoYW5nZSk7XG4gICAgICAgICAgICBnbC54ci5yZW1vdmVFdmVudExpc3RlbmVyKCdzZXNzaW9uZW5kJywgaGFuZGxlU2Vzc2lvbkNoYW5nZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFN1YnNjcmliZSB0byBXZWJYUiBzZXNzaW9uIGV2ZW50c1xuICAgICAgICBpZiAodHlwZW9mICgoX2dsJHhyID0gZ2wueHIpID09IG51bGwgPyB2b2lkIDAgOiBfZ2wkeHIuYWRkRXZlbnRMaXN0ZW5lcikgPT09ICdmdW5jdGlvbicpIHhyLmNvbm5lY3QoKTtcbiAgICAgICAgc3RhdGUuc2V0KHtcbiAgICAgICAgICB4clxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHNoYWRvd21hcFxuICAgICAgaWYgKGdsLnNoYWRvd01hcCkge1xuICAgICAgICBjb25zdCBvbGRFbmFibGVkID0gZ2wuc2hhZG93TWFwLmVuYWJsZWQ7XG4gICAgICAgIGNvbnN0IG9sZFR5cGUgPSBnbC5zaGFkb3dNYXAudHlwZTtcbiAgICAgICAgZ2wuc2hhZG93TWFwLmVuYWJsZWQgPSAhIXNoYWRvd3M7XG4gICAgICAgIGlmIChpcy5ib28oc2hhZG93cykpIHtcbiAgICAgICAgICBnbC5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICAgIH0gZWxzZSBpZiAoaXMuc3RyKHNoYWRvd3MpKSB7XG4gICAgICAgICAgdmFyIF90eXBlcyRzaGFkb3dzO1xuICAgICAgICAgIGNvbnN0IHR5cGVzID0ge1xuICAgICAgICAgICAgYmFzaWM6IFRIUkVFLkJhc2ljU2hhZG93TWFwLFxuICAgICAgICAgICAgcGVyY2VudGFnZTogVEhSRUUuUENGU2hhZG93TWFwLFxuICAgICAgICAgICAgc29mdDogVEhSRUUuUENGU29mdFNoYWRvd01hcCxcbiAgICAgICAgICAgIHZhcmlhbmNlOiBUSFJFRS5WU01TaGFkb3dNYXBcbiAgICAgICAgICB9O1xuICAgICAgICAgIGdsLnNoYWRvd01hcC50eXBlID0gKF90eXBlcyRzaGFkb3dzID0gdHlwZXNbc2hhZG93c10pICE9IG51bGwgPyBfdHlwZXMkc2hhZG93cyA6IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICAgIH0gZWxzZSBpZiAoaXMub2JqKHNoYWRvd3MpKSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihnbC5zaGFkb3dNYXAsIHNoYWRvd3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGRFbmFibGVkICE9PSBnbC5zaGFkb3dNYXAuZW5hYmxlZCB8fCBvbGRUeXBlICE9PSBnbC5zaGFkb3dNYXAudHlwZSkgZ2wuc2hhZG93TWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gU2FmZWx5IHNldCBjb2xvciBtYW5hZ2VtZW50IGlmIGF2YWlsYWJsZS5cbiAgICAgIC8vIEF2b2lkIGFjY2Vzc2luZyBUSFJFRS5Db2xvck1hbmFnZW1lbnQgdG8gcGxheSBuaWNlIHdpdGggb2xkZXIgdmVyc2lvbnNcbiAgICAgIGNvbnN0IENvbG9yTWFuYWdlbWVudCA9IGdldENvbG9yTWFuYWdlbWVudCgpO1xuICAgICAgaWYgKENvbG9yTWFuYWdlbWVudCkge1xuICAgICAgICBpZiAoJ2VuYWJsZWQnIGluIENvbG9yTWFuYWdlbWVudCkgQ29sb3JNYW5hZ2VtZW50LmVuYWJsZWQgPSAhbGVnYWN5O2Vsc2UgaWYgKCdsZWdhY3lNb2RlJyBpbiBDb2xvck1hbmFnZW1lbnQpIENvbG9yTWFuYWdlbWVudC5sZWdhY3lNb2RlID0gbGVnYWN5O1xuICAgICAgfVxuICAgICAgaWYgKCFjb25maWd1cmVkKSB7XG4gICAgICAgIC8vIFNldCBjb2xvciBzcGFjZSBhbmQgdG9uZW1hcHBpbmcgcHJlZmVyZW5jZXMsIG9uY2VcbiAgICAgICAgY29uc3QgTGluZWFyRW5jb2RpbmcgPSAzMDAwO1xuICAgICAgICBjb25zdCBzUkdCRW5jb2RpbmcgPSAzMDAxO1xuICAgICAgICBhcHBseVByb3BzKGdsLCB7XG4gICAgICAgICAgb3V0cHV0RW5jb2Rpbmc6IGxpbmVhciA/IExpbmVhckVuY29kaW5nIDogc1JHQkVuY29kaW5nLFxuICAgICAgICAgIHRvbmVNYXBwaW5nOiBmbGF0ID8gVEhSRUUuTm9Ub25lTWFwcGluZyA6IFRIUkVFLkFDRVNGaWxtaWNUb25lTWFwcGluZ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGNvbG9yIG1hbmFnZW1lbnQgc3RhdGVcbiAgICAgIGlmIChzdGF0ZS5sZWdhY3kgIT09IGxlZ2FjeSkgc3RhdGUuc2V0KCgpID0+ICh7XG4gICAgICAgIGxlZ2FjeVxuICAgICAgfSkpO1xuICAgICAgaWYgKHN0YXRlLmxpbmVhciAhPT0gbGluZWFyKSBzdGF0ZS5zZXQoKCkgPT4gKHtcbiAgICAgICAgbGluZWFyXG4gICAgICB9KSk7XG4gICAgICBpZiAoc3RhdGUuZmxhdCAhPT0gZmxhdCkgc3RhdGUuc2V0KCgpID0+ICh7XG4gICAgICAgIGZsYXRcbiAgICAgIH0pKTtcblxuICAgICAgLy8gU2V0IGdsIHByb3BzXG4gICAgICBpZiAoZ2xDb25maWcgJiYgIWlzLmZ1bihnbENvbmZpZykgJiYgIWlzUmVuZGVyZXIoZ2xDb25maWcpICYmICFpcy5lcXUoZ2xDb25maWcsIGdsLCBzaGFsbG93TG9vc2UpKSBhcHBseVByb3BzKGdsLCBnbENvbmZpZyk7XG4gICAgICAvLyBTdG9yZSBldmVudHMgaW50ZXJuYWxseVxuICAgICAgaWYgKGV2ZW50cyAmJiAhc3RhdGUuZXZlbnRzLmhhbmRsZXJzKSBzdGF0ZS5zZXQoe1xuICAgICAgICBldmVudHM6IGV2ZW50cyhzdG9yZSlcbiAgICAgIH0pO1xuICAgICAgLy8gQ2hlY2sgc2l6ZSwgYWxsb3cgaXQgdG8gdGFrZSBvbiBjb250YWluZXIgYm91bmRzIGluaXRpYWxseVxuICAgICAgY29uc3Qgc2l6ZSA9IGNvbXB1dGVJbml0aWFsU2l6ZShjYW52YXMsIHByb3BzU2l6ZSk7XG4gICAgICBpZiAoIWlzLmVxdShzaXplLCBzdGF0ZS5zaXplLCBzaGFsbG93TG9vc2UpKSB7XG4gICAgICAgIHN0YXRlLnNldFNpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQsIHNpemUudXBkYXRlU3R5bGUsIHNpemUudG9wLCBzaXplLmxlZnQpO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgcGl4ZWxyYXRpb1xuICAgICAgaWYgKGRwciAmJiBzdGF0ZS52aWV3cG9ydC5kcHIgIT09IGNhbGN1bGF0ZURwcihkcHIpKSBzdGF0ZS5zZXREcHIoZHByKTtcbiAgICAgIC8vIENoZWNrIGZyYW1lbG9vcFxuICAgICAgaWYgKHN0YXRlLmZyYW1lbG9vcCAhPT0gZnJhbWVsb29wKSBzdGF0ZS5zZXRGcmFtZWxvb3AoZnJhbWVsb29wKTtcbiAgICAgIC8vIENoZWNrIHBvaW50ZXIgbWlzc2VkXG4gICAgICBpZiAoIXN0YXRlLm9uUG9pbnRlck1pc3NlZCkgc3RhdGUuc2V0KHtcbiAgICAgICAgb25Qb2ludGVyTWlzc2VkXG4gICAgICB9KTtcbiAgICAgIC8vIENoZWNrIHBlcmZvcm1hbmNlXG4gICAgICBpZiAocGVyZm9ybWFuY2UgJiYgIWlzLmVxdShwZXJmb3JtYW5jZSwgc3RhdGUucGVyZm9ybWFuY2UsIHNoYWxsb3dMb29zZSkpIHN0YXRlLnNldChzdGF0ZSA9PiAoe1xuICAgICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICAgIC4uLnN0YXRlLnBlcmZvcm1hbmNlLFxuICAgICAgICAgIC4uLnBlcmZvcm1hbmNlXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgLy8gU2V0IGxvY2Fsc1xuICAgICAgb25DcmVhdGVkID0gb25DcmVhdGVkQ2FsbGJhY2s7XG4gICAgICBjb25maWd1cmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgcmVuZGVyKGNoaWxkcmVuKSB7XG4gICAgICAvLyBUaGUgcm9vdCBoYXMgdG8gYmUgY29uZmlndXJlZCBiZWZvcmUgaXQgY2FuIGJlIHJlbmRlcmVkXG4gICAgICBpZiAoIWNvbmZpZ3VyZWQpIHRoaXMuY29uZmlndXJlKCk7XG4gICAgICByZWNvbmNpbGVyLnVwZGF0ZUNvbnRhaW5lciggLyojX19QVVJFX18qL2pzeChQcm92aWRlciwge1xuICAgICAgICBzdG9yZTogc3RvcmUsXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICAgICAgb25DcmVhdGVkOiBvbkNyZWF0ZWQsXG4gICAgICAgIHJvb3RFbGVtZW50OiBjYW52YXNcbiAgICAgIH0pLCBmaWJlciwgbnVsbCwgKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgIHJldHVybiBzdG9yZTtcbiAgICB9LFxuICAgIHVubW91bnQoKSB7XG4gICAgICB1bm1vdW50Q29tcG9uZW50QXROb2RlKGNhbnZhcyk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gcmVuZGVyKGNoaWxkcmVuLCBjYW52YXMsIGNvbmZpZykge1xuICBjb25zb2xlLndhcm4oJ1IzRi5yZW5kZXIgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBpbiBSZWFjdCAxOC4gVXNlIGNyZWF0ZVJvb3QgaW5zdGVhZCEnKTtcbiAgY29uc3Qgcm9vdCA9IGNyZWF0ZVJvb3QoY2FudmFzKTtcbiAgcm9vdC5jb25maWd1cmUoY29uZmlnKTtcbiAgcmV0dXJuIHJvb3QucmVuZGVyKGNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIFByb3ZpZGVyKHtcbiAgc3RvcmUsXG4gIGNoaWxkcmVuLFxuICBvbkNyZWF0ZWQsXG4gIHJvb3RFbGVtZW50XG59KSB7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAvLyBGbGFnIHRoZSBjYW52YXMgYWN0aXZlLCByZW5kZXJpbmcgd2lsbCBub3cgYmVnaW5cbiAgICBzdGF0ZS5zZXQoc3RhdGUgPT4gKHtcbiAgICAgIGludGVybmFsOiB7XG4gICAgICAgIC4uLnN0YXRlLmludGVybmFsLFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgLy8gTm90aWZpeSB0aGF0IGluaXQgaXMgY29tcGxldGVkLCB0aGUgc2NlbmUgZ3JhcGggZXhpc3RzLCBidXQgbm90aGluZyBoYXMgeWV0IHJlbmRlcmVkXG4gICAgaWYgKG9uQ3JlYXRlZCkgb25DcmVhdGVkKHN0YXRlKTtcbiAgICAvLyBDb25uZWN0IGV2ZW50cyB0byB0aGUgdGFyZ2V0cyBwYXJlbnQsIHRoaXMgaXMgZG9uZSB0byBlbnN1cmUgZXZlbnRzIGFyZSByZWdpc3RlcmVkIG9uXG4gICAgLy8gYSBzaGFyZWQgdGFyZ2V0LCBhbmQgbm90IG9uIHRoZSBjYW52YXMgaXRzZWxmXG4gICAgaWYgKCFzdG9yZS5nZXRTdGF0ZSgpLmV2ZW50cy5jb25uZWN0ZWQpIHN0YXRlLmV2ZW50cy5jb25uZWN0ID09IG51bGwgPyB2b2lkIDAgOiBzdGF0ZS5ldmVudHMuY29ubmVjdChyb290RWxlbWVudCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovanN4KGNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogc3RvcmUsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufVxuZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudEF0Tm9kZShjYW52YXMsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHJvb3QgPSByb290cy5nZXQoY2FudmFzKTtcbiAgY29uc3QgZmliZXIgPSByb290ID09IG51bGwgPyB2b2lkIDAgOiByb290LmZpYmVyO1xuICBpZiAoZmliZXIpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHJvb3QgPT0gbnVsbCA/IHZvaWQgMCA6IHJvb3Quc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoc3RhdGUpIHN0YXRlLmludGVybmFsLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHJlY29uY2lsZXIudXBkYXRlQ29udGFpbmVyKG51bGwsIGZpYmVyLCBudWxsLCAoKSA9PiB7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBfc3RhdGUkZ2wsIF9zdGF0ZSRnbCRyZW5kZXJMaXN0cywgX3N0YXRlJGdsMiwgX3N0YXRlJGdsMztcbiAgICAgICAgICAgIHN0YXRlLmV2ZW50cy5kaXNjb25uZWN0ID09IG51bGwgPyB2b2lkIDAgOiBzdGF0ZS5ldmVudHMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgKF9zdGF0ZSRnbCA9IHN0YXRlLmdsKSA9PSBudWxsID8gdm9pZCAwIDogKF9zdGF0ZSRnbCRyZW5kZXJMaXN0cyA9IF9zdGF0ZSRnbC5yZW5kZXJMaXN0cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRnbCRyZW5kZXJMaXN0cy5kaXNwb3NlID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkZ2wkcmVuZGVyTGlzdHMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgKF9zdGF0ZSRnbDIgPSBzdGF0ZS5nbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRnbDIuZm9yY2VDb250ZXh0TG9zcyA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGdsMi5mb3JjZUNvbnRleHRMb3NzKCk7XG4gICAgICAgICAgICBpZiAoKF9zdGF0ZSRnbDMgPSBzdGF0ZS5nbCkgIT0gbnVsbCAmJiBfc3RhdGUkZ2wzLnhyKSBzdGF0ZS54ci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBkaXNwb3NlKHN0YXRlKTtcbiAgICAgICAgICAgIHJvb3RzLmRlbGV0ZShjYW52YXMpO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhjYW52YXMpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8qIC4uLiAqL1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCBjb250YWluZXIsIHN0YXRlKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovanN4KFBvcnRhbCwge1xuICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICBzdGF0ZTogc3RhdGVcbiAgfSwgY29udGFpbmVyLnV1aWQpO1xufVxuZnVuY3Rpb24gUG9ydGFsKHtcbiAgc3RhdGUgPSB7fSxcbiAgY2hpbGRyZW4sXG4gIGNvbnRhaW5lclxufSkge1xuICAvKiogVGhpcyBoYXMgdG8gYmUgYSBjb21wb25lbnQgYmVjYXVzZSBpdCB3b3VsZCBub3QgYmUgYWJsZSB0byBjYWxsIHVzZVRocmVlL3VzZVN0b3JlIG90aGVyd2lzZSBzaW5jZVxyXG4gICAqICBpZiB0aGlzIGlzIG91ciBlbnZpcm9ubWVudCwgdGhlbiB3ZSBhcmUgbm90IGluIHIzZidzIHJlbmRlcmVyIGJ1dCBpbiByZWFjdC1kb20sIGl0IHdvdWxkIHRyaWdnZXJcclxuICAgKiAgdGhlIFwiUjNGIGhvb2tzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIHRoZSBDYW52YXMgY29tcG9uZW50IVwiIHdhcm5pbmc6XHJcbiAgICogIDxDYW52YXM+XHJcbiAgICogICAge2NyZWF0ZVBvcnRhbCguLi4pfSAqL1xuICBjb25zdCB7XG4gICAgZXZlbnRzLFxuICAgIHNpemUsXG4gICAgLi4ucmVzdFxuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHByZXZpb3VzUm9vdCA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IFtyYXljYXN0ZXJdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IFRIUkVFLlJheWNhc3RlcigpKTtcbiAgY29uc3QgW3BvaW50ZXJdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IFRIUkVFLlZlY3RvcjIoKSk7XG4gIGNvbnN0IGluamVjdCA9IFJlYWN0LnVzZUNhbGxiYWNrKChyb290U3RhdGUsIGluamVjdFN0YXRlKSA9PiB7XG4gICAgY29uc3QgaW50ZXJzZWN0ID0ge1xuICAgICAgLi4ucm9vdFN0YXRlXG4gICAgfTsgLy8gYWxsIHByZXYgc3RhdGUgcHJvcHNcblxuICAgIC8vIE9ubHkgdGhlIGZpZWxkcyBvZiBcInJvb3RTdGF0ZVwiIHRoYXQgZG8gbm90IGRpZmZlciBmcm9tIGluamVjdFN0YXRlXG4gICAgLy8gU29tZSBwcm9wcyBzaG91bGQgYmUgb2ZmLWxpbWl0c1xuICAgIC8vIE90aGVyd2lzZSBmaWx0ZXIgb3V0IHRoZSBwcm9wcyB0aGF0IGFyZSBkaWZmZXJlbnQgYW5kIGxldCB0aGUgaW5qZWN0IGxheWVyIHRha2UgcHJlY2VkZW5jZVxuICAgIE9iamVjdC5rZXlzKHJvb3RTdGF0ZSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgLy8gU29tZSBwcm9wcyBzaG91bGQgYmUgb2ZmLWxpbWl0c1xuICAgICAgcHJpdmF0ZUtleXMuaW5jbHVkZXMoa2V5KSB8fFxuICAgICAgLy8gT3RoZXJ3aXNlIGZpbHRlciBvdXQgdGhlIHByb3BzIHRoYXQgYXJlIGRpZmZlcmVudCBhbmQgbGV0IHRoZSBpbmplY3QgbGF5ZXIgdGFrZSBwcmVjZWRlbmNlXG4gICAgICAvLyBVbmxlc3MgdGhlIGluamVjdCBsYXllciBwcm9wcyBpcyB1bmRlZmluZWQsIHRoZW4gd2Uga2VlcCB0aGUgcm9vdCBsYXllclxuICAgICAgcm9vdFN0YXRlW2tleV0gIT09IGluamVjdFN0YXRlW2tleV0gJiYgaW5qZWN0U3RhdGVba2V5XSkge1xuICAgICAgICBkZWxldGUgaW50ZXJzZWN0W2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IHZpZXdwb3J0ID0gdW5kZWZpbmVkO1xuICAgIGlmIChpbmplY3RTdGF0ZSAmJiBzaXplKSB7XG4gICAgICBjb25zdCBjYW1lcmEgPSBpbmplY3RTdGF0ZS5jYW1lcmE7XG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIG92ZXJyaWRlIHZpZXdwb3J0LCBpZiBwcmVzZW50XG4gICAgICB2aWV3cG9ydCA9IHJvb3RTdGF0ZS52aWV3cG9ydC5nZXRDdXJyZW50Vmlld3BvcnQoY2FtZXJhLCBuZXcgVEhSRUUuVmVjdG9yMygpLCBzaXplKTtcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcG9ydGFsIGNhbWVyYSwgaWYgaXQgZGlmZmVycyBmcm9tIHRoZSBwcmV2aW91cyBsYXllclxuICAgICAgaWYgKGNhbWVyYSAhPT0gcm9vdFN0YXRlLmNhbWVyYSkgdXBkYXRlQ2FtZXJhKGNhbWVyYSwgc2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAvLyBUaGUgaW50ZXJzZWN0IGNvbnNpc3RzIG9mIHRoZSBwcmV2aW91cyByb290IHN0YXRlXG4gICAgICAuLi5pbnRlcnNlY3QsXG4gICAgICAvLyBQb3J0YWxzIGhhdmUgdGhlaXIgb3duIHNjZW5lLCB3aGljaCBmb3JtcyB0aGUgcm9vdCwgYSByYXljYXN0ZXIgYW5kIGEgcG9pbnRlclxuICAgICAgc2NlbmU6IGNvbnRhaW5lcixcbiAgICAgIHJheWNhc3RlcixcbiAgICAgIHBvaW50ZXIsXG4gICAgICBtb3VzZTogcG9pbnRlcixcbiAgICAgIC8vIFRoZWlyIHByZXZpb3VzIHJvb3QgaXMgdGhlIGxheWVyIGJlZm9yZSBpdFxuICAgICAgcHJldmlvdXNSb290LFxuICAgICAgLy8gRXZlbnRzLCBzaXplIGFuZCB2aWV3cG9ydCBjYW4gYmUgb3ZlcnJpZGRlbiBieSB0aGUgaW5qZWN0IGxheWVyXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgLi4ucm9vdFN0YXRlLmV2ZW50cyxcbiAgICAgICAgLi4uKGluamVjdFN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBpbmplY3RTdGF0ZS5ldmVudHMpLFxuICAgICAgICAuLi5ldmVudHNcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIC4uLnJvb3RTdGF0ZS5zaXplLFxuICAgICAgICAuLi5zaXplXG4gICAgICB9LFxuICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgLi4ucm9vdFN0YXRlLnZpZXdwb3J0LFxuICAgICAgICAuLi52aWV3cG9ydFxuICAgICAgfSxcbiAgICAgIC4uLnJlc3RcbiAgICB9O1xuICB9LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIFtzdGF0ZV0pO1xuICBjb25zdCBbdXNlUG9ydGFsU3RvcmVdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4ge1xuICAgIC8vIENyZWF0ZSBhIG1pcnJvcmVkIHN0b3JlLCBiYXNlZCBvbiB0aGUgcHJldmlvdXMgcm9vdCB3aXRoIGEgZmV3IG92ZXJyaWRlcyAuLi5cbiAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gcHJldmlvdXNSb290LmdldFN0YXRlKCk7XG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGUoKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgLi4ucHJldmlvdXNTdGF0ZSxcbiAgICAgIHNjZW5lOiBjb250YWluZXIsXG4gICAgICByYXljYXN0ZXIsXG4gICAgICBwb2ludGVyLFxuICAgICAgbW91c2U6IHBvaW50ZXIsXG4gICAgICBwcmV2aW91c1Jvb3QsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgLi4ucHJldmlvdXNTdGF0ZS5ldmVudHMsXG4gICAgICAgIC4uLmV2ZW50c1xuICAgICAgfSxcbiAgICAgIHNpemU6IHtcbiAgICAgICAgLi4ucHJldmlvdXNTdGF0ZS5zaXplLFxuICAgICAgICAuLi5zaXplXG4gICAgICB9LFxuICAgICAgLi4ucmVzdCxcbiAgICAgIC8vIFNldCBhbmQgZ2V0IHJlZmVyIHRvIHRoaXMgcm9vdC1zdGF0ZVxuICAgICAgc2V0LFxuICAgICAgZ2V0LFxuICAgICAgLy8gTGF5ZXJzIGFyZSBhbGxvd2VkIHRvIG92ZXJyaWRlIGV2ZW50c1xuICAgICAgc2V0RXZlbnRzOiBldmVudHMgPT4gc2V0KHN0YXRlID0+ICh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5ldmVudHMsXG4gICAgICAgICAgLi4uZXZlbnRzXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgIH0pKTtcbiAgICByZXR1cm4gc3RvcmU7XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFN1YnNjcmliZSB0byBwcmV2aW91cyByb290LXN0YXRlIGFuZCBjb3B5IGNoYW5nZXMgb3ZlciB0byB0aGUgbWlycm9yZWQgcG9ydGFsLXN0YXRlXG4gICAgY29uc3QgdW5zdWIgPSBwcmV2aW91c1Jvb3Quc3Vic2NyaWJlKHByZXYgPT4gdXNlUG9ydGFsU3RvcmUuc2V0U3RhdGUoc3RhdGUgPT4gaW5qZWN0KHByZXYsIHN0YXRlKSkpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1YigpO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbaW5qZWN0XSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdXNlUG9ydGFsU3RvcmUuc2V0U3RhdGUoaW5qZWN0U3RhdGUgPT4gaW5qZWN0KHByZXZpb3VzUm9vdC5nZXRTdGF0ZSgpLCBpbmplY3RTdGF0ZSkpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2luamVjdF0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1c2VQb3J0YWxTdG9yZS5kZXN0cm95KCk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogcmVjb25jaWxlci5jcmVhdGVQb3J0YWwoIC8qI19fUFVSRV9fKi9qc3goY29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHVzZVBvcnRhbFN0b3JlLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSksIHVzZVBvcnRhbFN0b3JlLCBudWxsKVxuICB9KTtcbn1cblxuLyoqXHJcbiAqIEZvcmNlIFJlYWN0IHRvIGZsdXNoIGFueSB1cGRhdGVzIGluc2lkZSB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgc3luY2hyb25vdXNseSBhbmQgaW1tZWRpYXRlbHkuXHJcbiAqIEFsbCB0aGUgc2FtZSBjYXZlYXRzIGRvY3VtZW50ZWQgZm9yIHJlYWN0LWRvbSdzIGBmbHVzaFN5bmNgIGFwcGx5IGhlcmUgKHNlZSBodHRwczovL3JlYWN0LmRldi9yZWZlcmVuY2UvcmVhY3QtZG9tL2ZsdXNoU3luYykuXHJcbiAqIE5ldmVydGhlbGVzcywgc29tZXRpbWVzIG9uZSBuZWVkcyB0byByZW5kZXIgc3luY2hyb25vdXNseSwgZm9yIGV4YW1wbGUgdG8ga2VlcCBET00gYW5kIDNEIGNoYW5nZXMgaW4gbG9jay1zdGVwIHdpdGhvdXRcclxuICogaGF2aW5nIHRvIHJldmVydCB0byBhIG5vbi1SZWFjdCBzb2x1dGlvbi5cclxuICovXG5mdW5jdGlvbiBmbHVzaFN5bmMoZm4pIHtcbiAgLy8gYGZsdXNoU3luY2AgaW1wbGVtZW50YXRpb24gb25seSB0YWtlcyBvbmUgYXJndW1lbnQuIEkgZG9uJ3Qga25vdyB3aGF0J3MgdXAgd2l0aCB0aGUgdHlwZSBkZWNsYXJhdGlvbiBmb3IgaXQuXG4gIHJldHVybiByZWNvbmNpbGVyLmZsdXNoU3luYyhmbiwgdW5kZWZpbmVkKTtcbn1cbnJlY29uY2lsZXIuaW5qZWN0SW50b0RldlRvb2xzKHtcbiAgYnVuZGxlVHlwZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IDAgOiAxLFxuICByZW5kZXJlclBhY2thZ2VOYW1lOiAnQHJlYWN0LXRocmVlL2ZpYmVyJyxcbiAgdmVyc2lvbjogUmVhY3QudmVyc2lvblxufSk7XG5jb25zdCBhY3QgPSBSZWFjdC51bnN0YWJsZV9hY3Q7XG5cbmNvbnN0IERPTV9FVkVOVFMgPSB7XG4gIG9uQ2xpY2s6IFsnY2xpY2snLCBmYWxzZV0sXG4gIG9uQ29udGV4dE1lbnU6IFsnY29udGV4dG1lbnUnLCBmYWxzZV0sXG4gIG9uRG91YmxlQ2xpY2s6IFsnZGJsY2xpY2snLCBmYWxzZV0sXG4gIG9uV2hlZWw6IFsnd2hlZWwnLCB0cnVlXSxcbiAgb25Qb2ludGVyRG93bjogWydwb2ludGVyZG93bicsIHRydWVdLFxuICBvblBvaW50ZXJVcDogWydwb2ludGVydXAnLCB0cnVlXSxcbiAgb25Qb2ludGVyTGVhdmU6IFsncG9pbnRlcmxlYXZlJywgdHJ1ZV0sXG4gIG9uUG9pbnRlck1vdmU6IFsncG9pbnRlcm1vdmUnLCB0cnVlXSxcbiAgb25Qb2ludGVyQ2FuY2VsOiBbJ3BvaW50ZXJjYW5jZWwnLCB0cnVlXSxcbiAgb25Mb3N0UG9pbnRlckNhcHR1cmU6IFsnbG9zdHBvaW50ZXJjYXB0dXJlJywgdHJ1ZV1cbn07XG5cbi8qKiBEZWZhdWx0IFIzRiBldmVudCBtYW5hZ2VyIGZvciB3ZWIgKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvaW50ZXJFdmVudHMoc3RvcmUpIHtcbiAgY29uc3Qge1xuICAgIGhhbmRsZVBvaW50ZXJcbiAgfSA9IGNyZWF0ZUV2ZW50cyhzdG9yZSk7XG4gIHJldHVybiB7XG4gICAgcHJpb3JpdHk6IDEsXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb21wdXRlKGV2ZW50LCBzdGF0ZSwgcHJldmlvdXMpIHtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC83ODJcbiAgICAgIC8vIEV2ZW50cyB0cmlnZ2VyIG91dHNpZGUgb2YgY2FudmFzIHdoZW4gbW92ZWQsIHVzZSBvZmZzZXRYL1kgYnkgZGVmYXVsdCBhbmQgYWxsb3cgb3ZlcnJpZGVzXG4gICAgICBzdGF0ZS5wb2ludGVyLnNldChldmVudC5vZmZzZXRYIC8gc3RhdGUuc2l6ZS53aWR0aCAqIDIgLSAxLCAtKGV2ZW50Lm9mZnNldFkgLyBzdGF0ZS5zaXplLmhlaWdodCkgKiAyICsgMSk7XG4gICAgICBzdGF0ZS5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShzdGF0ZS5wb2ludGVyLCBzdGF0ZS5jYW1lcmEpO1xuICAgIH0sXG4gICAgY29ubmVjdGVkOiB1bmRlZmluZWQsXG4gICAgaGFuZGxlcnM6IE9iamVjdC5rZXlzKERPTV9FVkVOVFMpLnJlZHVjZSgoYWNjLCBrZXkpID0+ICh7XG4gICAgICAuLi5hY2MsXG4gICAgICBba2V5XTogaGFuZGxlUG9pbnRlcihrZXkpXG4gICAgfSksIHt9KSxcbiAgICB1cGRhdGU6ICgpID0+IHtcbiAgICAgIHZhciBfaW50ZXJuYWwkbGFzdEV2ZW50O1xuICAgICAgY29uc3Qge1xuICAgICAgICBldmVudHMsXG4gICAgICAgIGludGVybmFsXG4gICAgICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGlmICgoX2ludGVybmFsJGxhc3RFdmVudCA9IGludGVybmFsLmxhc3RFdmVudCkgIT0gbnVsbCAmJiBfaW50ZXJuYWwkbGFzdEV2ZW50LmN1cnJlbnQgJiYgZXZlbnRzLmhhbmRsZXJzKSBldmVudHMuaGFuZGxlcnMub25Qb2ludGVyTW92ZShpbnRlcm5hbC5sYXN0RXZlbnQuY3VycmVudCk7XG4gICAgfSxcbiAgICBjb25uZWN0OiB0YXJnZXQgPT4ge1xuICAgICAgdmFyIF9ldmVudHMkaGFuZGxlcnM7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHNldCxcbiAgICAgICAgZXZlbnRzXG4gICAgICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGV2ZW50cy5kaXNjb25uZWN0ID09IG51bGwgPyB2b2lkIDAgOiBldmVudHMuZGlzY29ubmVjdCgpO1xuICAgICAgc2V0KHN0YXRlID0+ICh7XG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIC4uLnN0YXRlLmV2ZW50cyxcbiAgICAgICAgICBjb25uZWN0ZWQ6IHRhcmdldFxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgICBPYmplY3QuZW50cmllcygoX2V2ZW50cyRoYW5kbGVycyA9IGV2ZW50cy5oYW5kbGVycykgIT0gbnVsbCA/IF9ldmVudHMkaGFuZGxlcnMgOiBbXSkuZm9yRWFjaCgoW25hbWUsIGV2ZW50XSkgPT4ge1xuICAgICAgICBjb25zdCBbZXZlbnROYW1lLCBwYXNzaXZlXSA9IERPTV9FVkVOVFNbbmFtZV07XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnQsIHtcbiAgICAgICAgICBwYXNzaXZlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkaXNjb25uZWN0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHNldCxcbiAgICAgICAgZXZlbnRzXG4gICAgICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChldmVudHMuY29ubmVjdGVkKSB7XG4gICAgICAgIHZhciBfZXZlbnRzJGhhbmRsZXJzMjtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoKF9ldmVudHMkaGFuZGxlcnMyID0gZXZlbnRzLmhhbmRsZXJzKSAhPSBudWxsID8gX2V2ZW50cyRoYW5kbGVyczIgOiBbXSkuZm9yRWFjaCgoW25hbWUsIGV2ZW50XSkgPT4ge1xuICAgICAgICAgIGlmIChldmVudHMgJiYgZXZlbnRzLmNvbm5lY3RlZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBbZXZlbnROYW1lXSA9IERPTV9FVkVOVFNbbmFtZV07XG4gICAgICAgICAgICBldmVudHMuY29ubmVjdGVkLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0KHN0YXRlID0+ICh7XG4gICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5ldmVudHMsXG4gICAgICAgICAgICBjb25uZWN0ZWQ6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHsgdXNlSW5zdGFuY2VIYW5kbGUgYXMgQSwgQmxvY2sgYXMgQiwgdXNlU3RvcmUgYXMgQywgdXNlVGhyZWUgYXMgRCwgRXJyb3JCb3VuZGFyeSBhcyBFLCB1c2VGcmFtZSBhcyBGLCB1c2VHcmFwaCBhcyBHLCB1c2VMb2FkZXIgYXMgSCwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyBhLCBjcmVhdGVSb290IGFzIGIsIGNyZWF0ZVBvaW50ZXJFdmVudHMgYXMgYywgdW5tb3VudENvbXBvbmVudEF0Tm9kZSBhcyBkLCBleHRlbmQgYXMgZSwgY3JlYXRlRXZlbnRzIGFzIGYsIGNvbnRleHQgYXMgZywgY3JlYXRlUG9ydGFsIGFzIGgsIGlzUmVmIGFzIGksIHJlY29uY2lsZXIgYXMgaiwgYXBwbHlQcm9wcyBhcyBrLCBkaXNwb3NlIGFzIGwsIGludmFsaWRhdGUgYXMgbSwgYWR2YW5jZSBhcyBuLCBhZGRFZmZlY3QgYXMgbywgYWRkQWZ0ZXJFZmZlY3QgYXMgcCwgYWRkVGFpbCBhcyBxLCByZW5kZXIgYXMgciwgZmx1c2hHbG9iYWxFZmZlY3RzIGFzIHMsIHRocmVlVHlwZXMgYXMgdCwgdXNlTXV0YWJsZUNhbGxiYWNrIGFzIHUsIGZsdXNoU3luYyBhcyB2LCBnZXRSb290U3RhdGUgYXMgdywgYWN0IGFzIHgsIGJ1aWxkR3JhcGggYXMgeSwgcm9vdHMgYXMgeiB9O1xuIl0sIm5hbWVzIjpbIlRIUkVFIiwiUmVhY3QiLCJEZWZhdWx0RXZlbnRQcmlvcml0eSIsIkNvbnRpbnVvdXNFdmVudFByaW9yaXR5IiwiRGlzY3JldGVFdmVudFByaW9yaXR5IiwiQ29uY3VycmVudFJvb3QiLCJjcmVhdGUiLCJzdXNwZW5kIiwicHJlbG9hZCIsImNsZWFyIiwianN4IiwiRnJhZ21lbnQiLCJSZWNvbmNpbGVyIiwidW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayIsInVuc3RhYmxlX0lkbGVQcmlvcml0eSIsInRocmVlVHlwZXMiLCJPYmplY3QiLCJmcmVlemUiLCJfX3Byb3RvX18iLCJjYXRhbG9ndWUiLCJleHRlbmQiLCJvYmplY3RzIiwiYXNzaWduIiwiY3JlYXRlUmVuZGVyZXIiLCJfcm9vdHMiLCJfZ2V0RXZlbnRQcmlvcml0eSIsImNyZWF0ZUluc3RhbmNlIiwidHlwZSIsImFyZ3MiLCJhdHRhY2giLCJwcm9wcyIsInJvb3QiLCJuYW1lIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImluc3RhbmNlIiwib2JqZWN0IiwidW5kZWZpbmVkIiwiRXJyb3IiLCJwcmVwYXJlIiwicHJpbWl0aXZlIiwidGFyZ2V0IiwiQXJyYXkiLCJpc0FycmF5IiwibWVtb2l6ZWRQcm9wcyIsIl9fcjNmIiwiaXNCdWZmZXJHZW9tZXRyeSIsImlzTWF0ZXJpYWwiLCJhcHBseVByb3BzJDEiLCJhcHBlbmRDaGlsZCIsInBhcmVudEluc3RhbmNlIiwiY2hpbGQiLCJhZGRlZCIsIl9jaGlsZCRfX3IzZiIsIl9wYXJlbnRJbnN0YW5jZSRfX3IzZiIsImlzT2JqZWN0M0QiLCJhZGQiLCJwdXNoIiwicGFyZW50IiwidXBkYXRlSW5zdGFuY2UiLCJpbnZhbGlkYXRlSW5zdGFuY2UiLCJpbnNlcnRCZWZvcmUiLCJiZWZvcmVDaGlsZCIsIl9jaGlsZCRfX3IzZjIiLCJfcGFyZW50SW5zdGFuY2UkX19yM2YyIiwiZGlzcGF0Y2hFdmVudCIsInJlc3RTaWJsaW5ncyIsImNoaWxkcmVuIiwiZmlsdGVyIiwic2libGluZyIsImluZGV4IiwiaW5kZXhPZiIsInJlbW92ZVJlY3Vyc2l2ZSIsImFycmF5IiwiZGlzcG9zZSIsImZvckVhY2giLCJyZW1vdmVDaGlsZCIsIl9wYXJlbnRJbnN0YW5jZSRfX3IzZjMiLCJfY2hpbGQkX19yM2YzIiwiX2NoaWxkJF9fcjNmNSIsIngiLCJkZXRhY2giLCJfY2hpbGQkX19yM2Y0IiwicmVtb3ZlIiwicmVtb3ZlSW50ZXJhY3Rpdml0eSIsImZpbmRJbml0aWFsUm9vdCIsImlzUHJpbWl0aXZlIiwic2hvdWxkRGlzcG9zZSIsIl9jaGlsZCRfX3IzZjYiLCJjYWxsYmFjayIsImUiLCJJU19SRUFDVF9BQ1RfRU5WSVJPTk1FTlQiLCJzd2l0Y2hJbnN0YW5jZSIsIm5ld1Byb3BzIiwiZmliZXIiLCJfaW5zdGFuY2UkX19yM2YiLCJuZXdJbnN0YW5jZSIsImF1dG9SZW1vdmVkQmVmb3JlQXBwZW5kIiwicmF5Y2FzdCIsImV2ZW50Q291bnQiLCJyb290U3RhdGUiLCJnZXRTdGF0ZSIsImludGVybmFsIiwiaW50ZXJhY3Rpb24iLCJhbHRlcm5hdGUiLCJzdGF0ZU5vZGUiLCJyZWYiLCJjdXJyZW50IiwiaGFuZGxlVGV4dEluc3RhbmNlIiwicmVjb25jaWxlciIsImFwcGVuZEluaXRpYWxDaGlsZCIsInN1cHBvcnRzTXV0YXRpb24iLCJpc1ByaW1hcnlSZW5kZXJlciIsInN1cHBvcnRzUGVyc2lzdGVuY2UiLCJzdXBwb3J0c0h5ZHJhdGlvbiIsIm5vVGltZW91dCIsImFwcGVuZENoaWxkVG9Db250YWluZXIiLCJjb250YWluZXIiLCJzY2VuZSIsInJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lciIsImluc2VydEluQ29udGFpbmVyQmVmb3JlIiwiZ2V0Um9vdEhvc3RDb250ZXh0IiwiZ2V0Q2hpbGRIb3N0Q29udGV4dCIsInBhcmVudEhvc3RDb250ZXh0IiwiZmluYWxpemVJbml0aWFsQ2hpbGRyZW4iLCJfaW5zdGFuY2UkX19yM2YyIiwibG9jYWxTdGF0ZSIsIkJvb2xlYW4iLCJoYW5kbGVycyIsInByZXBhcmVVcGRhdGUiLCJfdHlwZSIsIm9sZFByb3BzIiwiX2luc3RhbmNlJF9fcjNmMyIsImFyZ3NOZXciLCJjTiIsInJlc3ROZXciLCJhcmdzT2xkIiwiY08iLCJyZXN0T2xkIiwic29tZSIsInZhbHVlIiwiZGlmZiIsImRpZmZQcm9wcyIsImNoYW5nZXMiLCJsZW5ndGgiLCJjb21taXRVcGRhdGUiLCJyZWNvbnN0cnVjdCIsIl9vbGRQcm9wcyIsImNvbW1pdE1vdW50IiwiX3Byb3BzIiwiX2ludCIsIl9pbnN0YW5jZSRfX3IzZjQiLCJnZXRQdWJsaWNJbnN0YW5jZSIsInByZXBhcmVGb3JDb21taXQiLCJwcmVwYXJlUG9ydGFsTW91bnQiLCJyZXNldEFmdGVyQ29tbWl0Iiwic2hvdWxkU2V0VGV4dENvbnRlbnQiLCJjbGVhckNvbnRhaW5lciIsImhpZGVJbnN0YW5jZSIsIl9pbnN0YW5jZSRfX3IzZjUiLCJ2aXNpYmxlIiwidW5oaWRlSW5zdGFuY2UiLCJfaW5zdGFuY2UkX19yM2Y2IiwiY3JlYXRlVGV4dEluc3RhbmNlIiwiaGlkZVRleHRJbnN0YW5jZSIsInVuaGlkZVRleHRJbnN0YW5jZSIsImdldEN1cnJlbnRFdmVudFByaW9yaXR5IiwiYmVmb3JlQWN0aXZlSW5zdGFuY2VCbHVyIiwiYWZ0ZXJBY3RpdmVJbnN0YW5jZUJsdXIiLCJkZXRhY2hEZWxldGVkSW5zdGFuY2UiLCJub3ciLCJwZXJmb3JtYW5jZSIsImlzIiwiZnVuIiwiRGF0ZSIsInNjaGVkdWxlVGltZW91dCIsInNldFRpbWVvdXQiLCJjYW5jZWxUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiYXBwbHlQcm9wcyIsIl93aW5kb3ckZG9jdW1lbnQiLCJfd2luZG93JG5hdmlnYXRvciIsImhhc0NvbG9yU3BhY2UiLCJnZXRDb2xvck1hbmFnZW1lbnQiLCJfQ29sb3JNYW5hZ2VtZW50IiwiQ29sb3JNYW5hZ2VtZW50IiwiaXNPcnRob2dyYXBoaWNDYW1lcmEiLCJkZWYiLCJpc1JlZiIsIm9iaiIsImhhc093blByb3BlcnR5IiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsIndpbmRvdyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VFZmZlY3QiLCJ1c2VNdXRhYmxlQ2FsbGJhY2siLCJmbiIsInVzZVJlZiIsIkJsb2NrIiwic2V0IiwiUHJvbWlzZSIsIkVycm9yQm91bmRhcnkiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInN0YXRlIiwiZXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsImVyciIsInJlbmRlciIsImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsIkRFRkFVTFQiLCJERUZBVUxUUyIsIk1hcCIsImlzRGlmZlNldCIsIm1lbW9pemVkIiwiY2FsY3VsYXRlRHByIiwiZHByIiwiX3dpbmRvdyRkZXZpY2VQaXhlbFJhIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIk1hdGgiLCJtaW4iLCJtYXgiLCJnZXRSb290U3RhdGUiLCJfcjNmIiwicHJldmlvdXNSb290IiwiYSIsImFyciIsInN0ciIsIm51bSIsImJvbyIsInVuZCIsImVxdSIsImIiLCJhcnJheXMiLCJzdHJpY3QiLCJpc09iaiIsImlzQXJyIiwiaSIsImtleXMiLCJidWlsZEdyYXBoIiwiZGF0YSIsIm5vZGVzIiwibWF0ZXJpYWxzIiwidHJhdmVyc2UiLCJtYXRlcmlhbCIsInAiLCJwcmV2aW91c0F0dGFjaCIsInJlc29sdmUiLCJrZXkiLCJpbmNsdWRlcyIsImVudHJpZXMiLCJzcGxpdCIsImxhc3QiLCJwb3AiLCJyZWR1Y2UiLCJhY2MiLCJJTkRFWF9SRUdFWCIsInRlc3QiLCJyZXBsYWNlIiwicHJldmlvdXMiLCJrTiIsInJOIiwiY1AiLCJrUCIsInJQIiwicHJldmlvdXNLZXlzIiwidW5zaGlmdCIsInByb3AiLCJzdGFydHNXaXRoIiwiX19ERVZfXyIsInByb2Nlc3MiLCJwcmV2SGFuZGxlcnMiLCJpc0V2ZW50Iiwic1JHQkVuY29kaW5nIiwiU1JHQkNvbG9yU3BhY2UiLCJMaW5lYXJTUkdCQ29sb3JTcGFjZSIsImN1cnJlbnRJbnN0YW5jZSIsInRhcmdldFByb3AiLCJyZXZlcnNlRW50cmllcyIsInJldmVyc2UiLCJjdG9yIiwiZ2V0IiwiY29weSIsIkxheWVycyIsImZyb21BcnJheSIsIl90YXJnZXRQcm9wIiwiaXNDb2xvciIsInNldFNjYWxhciIsIm1hc2siLCJsaW5lYXIiLCJjb252ZXJ0U1JHQlRvTGluZWFyIiwiX2N1cnJlbnRJbnN0YW5jZSRrZXkiLCJpc1RleHR1cmUiLCJmb3JtYXQiLCJSR0JBRm9ybWF0IiwiVW5zaWduZWRCeXRlVHlwZSIsInRleHR1cmUiLCJnbCIsImNvbG9yU3BhY2UiLCJvdXRwdXRDb2xvclNwYWNlIiwiZW5jb2RpbmciLCJvdXRwdXRFbmNvZGluZyIsInNwbGljZSIsImlzQ2lyY3VsYXIiLCJfaW5zdGFuY2UkX19yM2YzJHJvb3QiLCJmcmFtZXMiLCJpbnZhbGlkYXRlIiwib25VcGRhdGUiLCJ1cGRhdGVDYW1lcmEiLCJjYW1lcmEiLCJzaXplIiwibWFudWFsIiwibGVmdCIsIndpZHRoIiwicmlnaHQiLCJ0b3AiLCJoZWlnaHQiLCJib3R0b20iLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwidXBkYXRlTWF0cml4V29ybGQiLCJtYWtlSWQiLCJldmVudCIsImV2ZW50T2JqZWN0IiwidXVpZCIsImluc3RhbmNlSWQiLCJnZXRFdmVudFByaW9yaXR5IiwiX2dsb2JhbFNjb3BlJGV2ZW50IiwiZ2xvYmFsU2NvcGUiLCJzZWxmIiwicmVsZWFzZUludGVybmFsUG9pbnRlckNhcHR1cmUiLCJjYXB0dXJlZE1hcCIsImNhcHR1cmVzIiwicG9pbnRlcklkIiwiY2FwdHVyZURhdGEiLCJkZWxldGUiLCJyZWxlYXNlUG9pbnRlckNhcHR1cmUiLCJzdG9yZSIsIm8iLCJpbml0aWFsSGl0cyIsImhvdmVyZWQiLCJjcmVhdGVFdmVudHMiLCJjYWxjdWxhdGVEaXN0YW5jZSIsImR4Iiwib2Zmc2V0WCIsImluaXRpYWxDbGljayIsImR5Iiwib2Zmc2V0WSIsInJvdW5kIiwic3FydCIsImZpbHRlclBvaW50ZXJFdmVudHMiLCJpbnRlcnNlY3QiLCJkdXBsaWNhdGVzIiwiU2V0IiwiaW50ZXJzZWN0aW9ucyIsImV2ZW50c09iamVjdHMiLCJyYXljYXN0ZXIiLCJldmVudHMiLCJjb21wdXRlIiwiaGFuZGxlUmF5Y2FzdCIsImVuYWJsZWQiLCJfc3RhdGUkcHJldmlvdXNSb290IiwiaW50ZXJzZWN0T2JqZWN0IiwiaGl0cyIsImZsYXRNYXAiLCJzb3J0IiwiYVN0YXRlIiwiYlN0YXRlIiwiZGlzdGFuY2UiLCJwcmlvcml0eSIsIml0ZW0iLCJpZCIsImhhcyIsImhpdCIsIl9yM2YyIiwidmFsdWVzIiwiaW50ZXJzZWN0aW9uIiwiaGFuZGxlSW50ZXJzZWN0cyIsImRlbHRhIiwic3RvcHBlZCIsInBvaW50ZXIiLCJ1bnByb2plY3RlZFBvaW50IiwiVmVjdG9yMyIsInkiLCJ1bnByb2plY3QiLCJoYXNQb2ludGVyQ2FwdHVyZSIsIl9pbnRlcm5hbCRjYXB0dXJlZE1hcCIsIl9pbnRlcm5hbCRjYXB0dXJlZE1hcDIiLCJzZXRQb2ludGVyQ2FwdHVyZSIsImV4dHJhY3RFdmVudFByb3BzIiwicHJvcGVydHkiLCJyYXljYXN0RXZlbnQiLCJyYXkiLCJzdG9wUHJvcGFnYXRpb24iLCJjYXB0dXJlc0ZvclBvaW50ZXIiLCJmcm9tIiwiZmluZCIsImhpZ2hlciIsImNhbmNlbFBvaW50ZXIiLCJjdXJyZW50VGFyZ2V0IiwibmF0aXZlRXZlbnQiLCJob3ZlcmVkT2JqIiwib25Qb2ludGVyT3V0Iiwib25Qb2ludGVyTGVhdmUiLCJwb2ludGVyTWlzc2VkIiwib25Qb2ludGVyTWlzc2VkIiwiaGFuZGxlUG9pbnRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhhbmRsZUV2ZW50IiwibGFzdEV2ZW50IiwiaXNQb2ludGVyTW92ZSIsImlzQ2xpY2tFdmVudCIsIm1hcCIsIm9uSW50ZXJzZWN0Iiwib25Qb2ludGVyT3ZlciIsIm9uUG9pbnRlckVudGVyIiwiaG92ZXJlZEl0ZW0iLCJvblBvaW50ZXJNb3ZlIiwiaGFuZGxlciIsInByaXZhdGVLZXlzIiwiaXNSZW5kZXJlciIsImNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiY3JlYXRlU3RvcmUiLCJhZHZhbmNlIiwicG9zaXRpb24iLCJkZWZhdWx0VGFyZ2V0IiwidGVtcFRhcmdldCIsImdldEN1cnJlbnRWaWV3cG9ydCIsImlzVmVjdG9yMyIsImdldFdvcmxkUG9zaXRpb24iLCJkaXN0YW5jZVRvIiwiem9vbSIsImZhY3RvciIsImZvdiIsIlBJIiwiaCIsInRhbiIsInciLCJwZXJmb3JtYW5jZVRpbWVvdXQiLCJzZXRQZXJmb3JtYW5jZUN1cnJlbnQiLCJWZWN0b3IyIiwiY29ubmVjdGVkIiwieHIiLCJ0aW1lc3RhbXAiLCJydW5HbG9iYWxFZmZlY3RzIiwibGVnYWN5IiwiZmxhdCIsImNvbnRyb2xzIiwiY2xvY2siLCJDbG9jayIsIm1vdXNlIiwiZnJhbWVsb29wIiwiZGVib3VuY2UiLCJyZWdyZXNzIiwidXBkYXRlU3R5bGUiLCJ2aWV3cG9ydCIsImluaXRpYWxEcHIiLCJzZXRFdmVudHMiLCJzZXRTaXplIiwic2V0RHByIiwicmVzb2x2ZWQiLCJzZXRGcmFtZWxvb3AiLCJzdG9wIiwiZWxhcHNlZFRpbWUiLCJzdGFydCIsImFjdGl2ZSIsImNyZWF0ZVJlZiIsInN1YnNjcmliZXJzIiwic3Vic2NyaWJlIiwicyIsIm9sZFNpemUiLCJvbGREcHIiLCJvbGRDYW1lcmEiLCJfc2l6ZSR1cGRhdGVTdHlsZSIsInNldFBpeGVsUmF0aW8iLCJIVE1MQ2FudmFzRWxlbWVudCIsImRvbUVsZW1lbnQiLCJjcmVhdGVTdWJzIiwic3VicyIsInN1YiIsImdsb2JhbEVmZmVjdHMiLCJnbG9iYWxBZnRlckVmZmVjdHMiLCJnbG9iYWxUYWlsRWZmZWN0cyIsImFkZEVmZmVjdCIsImFkZEFmdGVyRWZmZWN0IiwiYWRkVGFpbCIsInJ1biIsImVmZmVjdHMiLCJmbHVzaEdsb2JhbEVmZmVjdHMiLCJzdWJzY3JpcHRpb24iLCJyZW5kZXIkMSIsImZyYW1lIiwiZ2V0RGVsdGEiLCJvbGRUaW1lIiwiY3JlYXRlTG9vcCIsInJvb3RzIiwicnVubmluZyIsInVzZUZyYW1lSW5Qcm9ncmVzcyIsInJlcGVhdCIsImxvb3AiLCJfc3RhdGUkZ2wkeHIiLCJpc1ByZXNlbnRpbmciLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGF0ZSRnbCR4cjIiLCJ1c2VJbnN0YW5jZUhhbmRsZSIsInVzZVN0b3JlIiwidXNlQ29udGV4dCIsInVzZVRocmVlIiwic2VsZWN0b3IiLCJlcXVhbGl0eUZuIiwidXNlRnJhbWUiLCJyZW5kZXJQcmlvcml0eSIsInVzZUdyYXBoIiwidXNlTWVtbyIsIm1lbW9pemVkTG9hZGVycyIsIldlYWtNYXAiLCJsb2FkaW5nRm4iLCJleHRlbnNpb25zIiwib25Qcm9ncmVzcyIsIlByb3RvIiwiaW5wdXQiLCJsb2FkZXIiLCJhbGwiLCJyZXMiLCJyZWplY3QiLCJsb2FkIiwibWVzc2FnZSIsInVzZUxvYWRlciIsInJlc3VsdHMiLCJlcXVhbCIsInNoYWxsb3dMb29zZSIsImNyZWF0ZVJlbmRlcmVySW5zdGFuY2UiLCJjYW52YXMiLCJjdXN0b21SZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJwb3dlclByZWZlcmVuY2UiLCJhbnRpYWxpYXMiLCJhbHBoYSIsImNvbXB1dGVJbml0aWFsU2l6ZSIsImRlZmF1bHRTaXplIiwiZGVmYXVsdFN0eWxlIiwicGFyZW50RWxlbWVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIk9mZnNjcmVlbkNhbnZhcyIsImNyZWF0ZVJvb3QiLCJwcmV2Um9vdCIsInByZXZGaWJlciIsInByZXZTdG9yZSIsImNvbnNvbGUiLCJ3YXJuIiwibG9nUmVjb3ZlcmFibGVFcnJvciIsInJlcG9ydEVycm9yIiwiY3JlYXRlQ29udGFpbmVyIiwib25DcmVhdGVkIiwiY29uZmlndXJlZCIsImxhc3RDYW1lcmEiLCJjb25maWd1cmUiLCJnbENvbmZpZyIsInByb3BzU2l6ZSIsInNjZW5lT3B0aW9ucyIsIm9uQ3JlYXRlZENhbGxiYWNrIiwic2hhZG93cyIsIm9ydGhvZ3JhcGhpYyIsInJheWNhc3RPcHRpb25zIiwiY2FtZXJhT3B0aW9ucyIsIlJheWNhc3RlciIsInBhcmFtcyIsIm9wdGlvbnMiLCJpc0NhbWVyYSIsIkNhbWVyYSIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwieiIsInJvdGF0aW9uIiwibG9va0F0IiwiaXNTY2VuZSIsIlNjZW5lIiwiX2dsJHhyIiwiaGFuZGxlWFJGcmFtZSIsImhhbmRsZVNlc3Npb25DaGFuZ2UiLCJzZXRBbmltYXRpb25Mb29wIiwiY29ubmVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNoYWRvd01hcCIsIm9sZEVuYWJsZWQiLCJvbGRUeXBlIiwiUENGU29mdFNoYWRvd01hcCIsIl90eXBlcyRzaGFkb3dzIiwidHlwZXMiLCJiYXNpYyIsIkJhc2ljU2hhZG93TWFwIiwicGVyY2VudGFnZSIsIlBDRlNoYWRvd01hcCIsInNvZnQiLCJ2YXJpYW5jZSIsIlZTTVNoYWRvd01hcCIsIm5lZWRzVXBkYXRlIiwibGVnYWN5TW9kZSIsIkxpbmVhckVuY29kaW5nIiwidG9uZU1hcHBpbmciLCJOb1RvbmVNYXBwaW5nIiwiQUNFU0ZpbG1pY1RvbmVNYXBwaW5nIiwidXBkYXRlQ29udGFpbmVyIiwiUHJvdmlkZXIiLCJyb290RWxlbWVudCIsInVubW91bnQiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwiY29uZmlnIiwiX3N0YXRlJGdsIiwiX3N0YXRlJGdsJHJlbmRlckxpc3RzIiwiX3N0YXRlJGdsMiIsIl9zdGF0ZSRnbDMiLCJyZW5kZXJMaXN0cyIsImZvcmNlQ29udGV4dExvc3MiLCJjcmVhdGVQb3J0YWwiLCJQb3J0YWwiLCJyZXN0IiwidXNlU3RhdGUiLCJpbmplY3QiLCJ1c2VDYWxsYmFjayIsImluamVjdFN0YXRlIiwidXNlUG9ydGFsU3RvcmUiLCJwcmV2aW91c1N0YXRlIiwidW5zdWIiLCJwcmV2Iiwic2V0U3RhdGUiLCJkZXN0cm95IiwiZmx1c2hTeW5jIiwiaW5qZWN0SW50b0RldlRvb2xzIiwiYnVuZGxlVHlwZSIsInJlbmRlcmVyUGFja2FnZU5hbWUiLCJ2ZXJzaW9uIiwiYWN0IiwidW5zdGFibGVfYWN0IiwiRE9NX0VWRU5UUyIsIm9uQ2xpY2siLCJvbkNvbnRleHRNZW51Iiwib25Eb3VibGVDbGljayIsIm9uV2hlZWwiLCJvblBvaW50ZXJEb3duIiwib25Qb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJvbkxvc3RQb2ludGVyQ2FwdHVyZSIsImNyZWF0ZVBvaW50ZXJFdmVudHMiLCJzZXRGcm9tQ2FtZXJhIiwidXBkYXRlIiwiX2ludGVybmFsJGxhc3RFdmVudCIsIl9ldmVudHMkaGFuZGxlcnMiLCJldmVudE5hbWUiLCJwYXNzaXZlIiwiX2V2ZW50cyRoYW5kbGVyczIiLCJIVE1MRWxlbWVudCIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiYyIsImQiLCJmIiwiZyIsImoiLCJrIiwibCIsIm0iLCJuIiwicSIsInIiLCJ0IiwidSIsInYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Canvas: () => (/* binding */ Canvas),\n/* harmony export */   ReactThreeFiber: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.t),\n/* harmony export */   _roots: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.z),\n/* harmony export */   act: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.x),\n/* harmony export */   addAfterEffect: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   addEffect: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   addTail: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   advance: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   applyProps: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.k),\n/* harmony export */   buildGraph: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.y),\n/* harmony export */   context: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   createEvents: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   createPointerEvents: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   createPortal: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   createRoot: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   dispose: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.l),\n/* harmony export */   events: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   extend: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   flushGlobalEffects: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   flushSync: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.v),\n/* harmony export */   getRootState: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   invalidate: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   reconciler: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   render: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.r),\n/* harmony export */   unmountComponentAtNode: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   useFrame: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.F),\n/* harmony export */   useGraph: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.G),\n/* harmony export */   useInstanceHandle: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.A),\n/* harmony export */   useLoader: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.H),\n/* harmony export */   useStore: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   useThree: () => (/* reexport safe */ _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.D)\n/* harmony export */ });\n/* harmony import */ var _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events-776716bd.esm.js */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var react_use_measure__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-use-measure */ \"(ssr)/./node_modules/react-use-measure/dist/index.js\");\n/* harmony import */ var its_fine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! its-fine */ \"(ssr)/./node_modules/its-fine/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_reconciler_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-reconciler/constants */ \"(ssr)/./node_modules/react-reconciler/constants.js\");\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-reconciler */ \"(ssr)/./node_modules/react-reconciler/index.js\");\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_reconciler__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var scheduler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! scheduler */ \"(ssr)/./node_modules/scheduler/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst CanvasImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(function Canvas({ children, fallback, resize, style, gl, events = _events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.c, eventSource, eventPrefix, shadows, linear, flat, legacy, orthographic, frameloop, dpr, performance, raycaster, camera, scene, onPointerMissed, onCreated, ...props }, forwardedRef) {\n    // Create a known catalogue of Threejs-native elements\n    // This will include the entire THREE namespace by default, users can extend\n    // their own elements by using the createRoot API instead\n    react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>(0,_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.e)(three__WEBPACK_IMPORTED_MODULE_6__), []);\n    const Bridge = (0,its_fine__WEBPACK_IMPORTED_MODULE_7__.useContextBridge)();\n    const [containerRef, containerRect] = (0,react_use_measure__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n        scroll: true,\n        debounce: {\n            scroll: 50,\n            resize: 0\n        },\n        ...resize\n    });\n    const canvasRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const divRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(forwardedRef, ()=>canvasRef.current);\n    const handlePointerMissed = (0,_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.u)(onPointerMissed);\n    const [block, setBlock] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [error, setError] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    // Suspend this component if block is a promise (2nd run)\n    if (block) throw block;\n    // Throw exception outwards if anything within canvas throws\n    if (error) throw error;\n    const root = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    (0,_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(()=>{\n        const canvas = canvasRef.current;\n        if (containerRect.width > 0 && containerRect.height > 0 && canvas) {\n            if (!root.current) root.current = (0,_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.b)(canvas);\n            root.current.configure({\n                gl,\n                events,\n                shadows,\n                linear,\n                flat,\n                legacy,\n                orthographic,\n                frameloop,\n                dpr,\n                performance,\n                raycaster,\n                camera,\n                scene,\n                size: containerRect,\n                // Pass mutable reference to onPointerMissed so it's free to update\n                onPointerMissed: (...args)=>handlePointerMissed.current == null ? void 0 : handlePointerMissed.current(...args),\n                onCreated: (state)=>{\n                    // Connect to event source\n                    state.events.connect == null ? void 0 : state.events.connect(eventSource ? (0,_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.i)(eventSource) ? eventSource.current : eventSource : divRef.current);\n                    // Set up compute function\n                    if (eventPrefix) {\n                        state.setEvents({\n                            compute: (event, state)=>{\n                                const x = event[eventPrefix + \"X\"];\n                                const y = event[eventPrefix + \"Y\"];\n                                state.pointer.set(x / state.size.width * 2 - 1, -(y / state.size.height) * 2 + 1);\n                                state.raycaster.setFromCamera(state.pointer, state.camera);\n                            }\n                        });\n                    }\n                    // Call onCreated callback\n                    onCreated == null ? void 0 : onCreated(state);\n                }\n            });\n            root.current.render(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Bridge, {\n                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.E, {\n                    set: setError,\n                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                        fallback: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.B, {\n                            set: setBlock\n                        }),\n                        children: children != null ? children : null\n                    })\n                })\n            }));\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        const canvas = canvasRef.current;\n        if (canvas) return ()=>(0,_events_776716bd_esm_js__WEBPACK_IMPORTED_MODULE_0__.d)(canvas);\n    }, []);\n    // When the event source is not this div, we need to set pointer-events to none\n    // Or else the canvas will block events from reaching the event source\n    const pointerEvents = eventSource ? \"none\" : \"auto\";\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n        ref: divRef,\n        style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: \"100%\",\n            overflow: \"hidden\",\n            pointerEvents,\n            ...style\n        },\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n            ref: containerRef,\n            style: {\n                width: \"100%\",\n                height: \"100%\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    display: \"block\"\n                },\n                children: fallback\n            })\n        })\n    });\n});\n/**\r\n * A DOM canvas which accepts threejs elements as children.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\r\n */ const Canvas = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(function CanvasWrapper(props, ref) {\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(its_fine__WEBPACK_IMPORTED_MODULE_7__.FiberProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CanvasImpl, {\n            ...props,\n            ref: ref\n        })\n    });\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvcmVhY3QtdGhyZWUtZmliZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb087QUFDeVU7QUFDOWdCO0FBQ0E7QUFDWTtBQUNnQjtBQUNuQjtBQUNKO0FBQ25CO0FBQ007QUFDRztBQUNQO0FBRW5CLE1BQU0yRSxhQUFhLFdBQVcsR0FBRU4sNkNBQWdCLENBQUMsU0FBU1EsT0FBTyxFQUMvREMsUUFBUSxFQUNSQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsS0FBSyxFQUNMQyxFQUFFLEVBQ0Z0QyxTQUFTM0Msc0RBQW1CLEVBQzVCa0YsV0FBVyxFQUNYQyxXQUFXLEVBQ1hDLE9BQU8sRUFDUEMsTUFBTSxFQUNOQyxJQUFJLEVBQ0pDLE1BQU0sRUFDTkMsWUFBWSxFQUNaQyxTQUFTLEVBQ1RDLEdBQUcsRUFDSEMsV0FBVyxFQUNYQyxTQUFTLEVBQ1RDLE1BQU0sRUFDTkMsS0FBSyxFQUNMQyxlQUFlLEVBQ2ZDLFNBQVMsRUFDVCxHQUFHQyxPQUNKLEVBQUVDLFlBQVk7SUFDYixzREFBc0Q7SUFDdEQsNEVBQTRFO0lBQzVFLHlEQUF5RDtJQUN6RDlCLDBDQUFhLENBQUMsSUFBTWxFLDBEQUFNQSxDQUFDbUUsa0NBQUtBLEdBQUcsRUFBRTtJQUNyQyxNQUFNK0IsU0FBUzVCLDBEQUFnQkE7SUFDL0IsTUFBTSxDQUFDNkIsY0FBY0MsY0FBYyxHQUFHaEMsNkRBQVVBLENBQUM7UUFDL0NpQyxRQUFRO1FBQ1JDLFVBQVU7WUFDUkQsUUFBUTtZQUNSeEIsUUFBUTtRQUNWO1FBQ0EsR0FBR0EsTUFBTTtJQUNYO0lBQ0EsTUFBTTBCLFlBQVlyQyx5Q0FBWSxDQUFDO0lBQy9CLE1BQU11QyxTQUFTdkMseUNBQVksQ0FBQztJQUM1QkEsc0RBQXlCLENBQUM4QixjQUFjLElBQU1PLFVBQVVJLE9BQU87SUFDL0QsTUFBTUMsc0JBQXNCMUcsMERBQWtCQSxDQUFDMkY7SUFDL0MsTUFBTSxDQUFDZ0IsT0FBT0MsU0FBUyxHQUFHNUMsMkNBQWMsQ0FBQztJQUN6QyxNQUFNLENBQUM4QyxPQUFPQyxTQUFTLEdBQUcvQywyQ0FBYyxDQUFDO0lBRXpDLHlEQUF5RDtJQUN6RCxJQUFJMkMsT0FBTyxNQUFNQTtJQUNqQiw0REFBNEQ7SUFDNUQsSUFBSUcsT0FBTyxNQUFNQTtJQUNqQixNQUFNRSxPQUFPaEQseUNBQVksQ0FBQztJQUMxQjlELDBEQUF5QkEsQ0FBQztRQUN4QixNQUFNK0csU0FBU1osVUFBVUksT0FBTztRQUNoQyxJQUFJUCxjQUFjZ0IsS0FBSyxHQUFHLEtBQUtoQixjQUFjaUIsTUFBTSxHQUFHLEtBQUtGLFFBQVE7WUFDakUsSUFBSSxDQUFDRCxLQUFLUCxPQUFPLEVBQUVPLEtBQUtQLE9BQU8sR0FBR3JHLDBEQUFVQSxDQUFDNkc7WUFDN0NELEtBQUtQLE9BQU8sQ0FBQ1csU0FBUyxDQUFDO2dCQUNyQnZDO2dCQUNBdEM7Z0JBQ0F5QztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0EyQixNQUFNbkI7Z0JBQ04sbUVBQW1FO2dCQUNuRVAsaUJBQWlCLENBQUMsR0FBRzJCLE9BQVNaLG9CQUFvQkQsT0FBTyxJQUFJLE9BQU8sS0FBSyxJQUFJQyxvQkFBb0JELE9BQU8sSUFBSWE7Z0JBQzVHMUIsV0FBVzJCLENBQUFBO29CQUNULDBCQUEwQjtvQkFDMUJBLE1BQU1oRixNQUFNLENBQUNpRixPQUFPLElBQUksT0FBTyxLQUFLLElBQUlELE1BQU1oRixNQUFNLENBQUNpRixPQUFPLENBQUMxQyxjQUFjeEUsMERBQUtBLENBQUN3RSxlQUFlQSxZQUFZMkIsT0FBTyxHQUFHM0IsY0FBY3lCLE9BQU9FLE9BQU87b0JBQ2xKLDBCQUEwQjtvQkFDMUIsSUFBSTFCLGFBQWE7d0JBQ2Z3QyxNQUFNRSxTQUFTLENBQUM7NEJBQ2RDLFNBQVMsQ0FBQ0MsT0FBT0o7Z0NBQ2YsTUFBTXRHLElBQUkwRyxLQUFLLENBQUM1QyxjQUFjLElBQUk7Z0NBQ2xDLE1BQU1sRCxJQUFJOEYsS0FBSyxDQUFDNUMsY0FBYyxJQUFJO2dDQUNsQ3dDLE1BQU1LLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDNUcsSUFBSXNHLE1BQU1GLElBQUksQ0FBQ0gsS0FBSyxHQUFHLElBQUksR0FBRyxDQUFFckYsQ0FBQUEsSUFBSTBGLE1BQU1GLElBQUksQ0FBQ0YsTUFBTSxJQUFJLElBQUk7Z0NBQy9FSSxNQUFNL0IsU0FBUyxDQUFDc0MsYUFBYSxDQUFDUCxNQUFNSyxPQUFPLEVBQUVMLE1BQU05QixNQUFNOzRCQUMzRDt3QkFDRjtvQkFDRjtvQkFDQSwwQkFBMEI7b0JBQzFCRyxhQUFhLE9BQU8sS0FBSyxJQUFJQSxVQUFVMkI7Z0JBQ3pDO1lBQ0Y7WUFDQVAsS0FBS1AsT0FBTyxDQUFDdEQsTUFBTSxDQUFFLFdBQVcsR0FBRWtCLHNEQUFHQSxDQUFDMkIsUUFBUTtnQkFDNUN2QixVQUFVLFdBQVcsR0FBRUosc0RBQUdBLENBQUM3RCxzREFBYUEsRUFBRTtvQkFDeENxSCxLQUFLZDtvQkFDTHRDLFVBQVUsV0FBVyxHQUFFSixzREFBR0EsQ0FBQ0wsMkNBQWMsRUFBRTt3QkFDekNVLFVBQVUsV0FBVyxHQUFFTCxzREFBR0EsQ0FBQzNELHNEQUFLQSxFQUFFOzRCQUNoQ21ILEtBQUtqQjt3QkFDUDt3QkFDQW5DLFVBQVVBLFlBQVksT0FBT0EsV0FBVztvQkFDMUM7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7SUFDQVQsNENBQWUsQ0FBQztRQUNkLE1BQU1pRCxTQUFTWixVQUFVSSxPQUFPO1FBQ2hDLElBQUlRLFFBQVEsT0FBTyxJQUFNckcsMERBQXNCQSxDQUFDcUc7SUFDbEQsR0FBRyxFQUFFO0lBRUwsK0VBQStFO0lBQy9FLHNFQUFzRTtJQUN0RSxNQUFNZ0IsZ0JBQWdCbkQsY0FBYyxTQUFTO0lBQzdDLE9BQU8sV0FBVyxHQUFFVCxzREFBR0EsQ0FBQyxPQUFPO1FBQzdCNkQsS0FBSzNCO1FBQ0wzQixPQUFPO1lBQ0x1RCxVQUFVO1lBQ1ZqQixPQUFPO1lBQ1BDLFFBQVE7WUFDUmlCLFVBQVU7WUFDVkg7WUFDQSxHQUFHckQsS0FBSztRQUNWO1FBQ0EsR0FBR2lCLEtBQUs7UUFDUnBCLFVBQVUsV0FBVyxHQUFFSixzREFBR0EsQ0FBQyxPQUFPO1lBQ2hDNkQsS0FBS2pDO1lBQ0xyQixPQUFPO2dCQUNMc0MsT0FBTztnQkFDUEMsUUFBUTtZQUNWO1lBQ0ExQyxVQUFVLFdBQVcsR0FBRUosc0RBQUdBLENBQUMsVUFBVTtnQkFDbkM2RCxLQUFLN0I7Z0JBQ0x6QixPQUFPO29CQUNMeUQsU0FBUztnQkFDWDtnQkFDQTVELFVBQVVDO1lBQ1o7UUFDRjtJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDRCxNQUFNRixTQUFTLFdBQVcsR0FBRVIsNkNBQWdCLENBQUMsU0FBU3NFLGNBQWN6QyxLQUFLLEVBQUVxQyxHQUFHO0lBQzVFLE9BQU8sV0FBVyxHQUFFN0Qsc0RBQUdBLENBQUNGLG1EQUFhQSxFQUFFO1FBQ3JDTSxVQUFVLFdBQVcsR0FBRUosc0RBQUdBLENBQUNDLFlBQVk7WUFDckMsR0FBR3VCLEtBQUs7WUFDUnFDLEtBQUtBO1FBQ1A7SUFDRjtBQUNGO0FBRWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2NyYXRlLXdlYi8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZmliZXIvZGlzdC9yZWFjdC10aHJlZS1maWJlci5lc20uanM/NzljZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjIGFzIGNyZWF0ZVBvaW50ZXJFdmVudHMsIGUgYXMgZXh0ZW5kLCB1IGFzIHVzZU11dGFibGVDYWxsYmFjaywgYSBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LCBiIGFzIGNyZWF0ZVJvb3QsIGkgYXMgaXNSZWYsIEUgYXMgRXJyb3JCb3VuZGFyeSwgQiBhcyBCbG9jaywgZCBhcyB1bm1vdW50Q29tcG9uZW50QXROb2RlIH0gZnJvbSAnLi9ldmVudHMtNzc2NzE2YmQuZXNtLmpzJztcbmV4cG9ydCB7IHQgYXMgUmVhY3RUaHJlZUZpYmVyLCB6IGFzIF9yb290cywgeCBhcyBhY3QsIHAgYXMgYWRkQWZ0ZXJFZmZlY3QsIG8gYXMgYWRkRWZmZWN0LCBxIGFzIGFkZFRhaWwsIG4gYXMgYWR2YW5jZSwgayBhcyBhcHBseVByb3BzLCB5IGFzIGJ1aWxkR3JhcGgsIGcgYXMgY29udGV4dCwgZiBhcyBjcmVhdGVFdmVudHMsIGMgYXMgY3JlYXRlUG9pbnRlckV2ZW50cywgaCBhcyBjcmVhdGVQb3J0YWwsIGIgYXMgY3JlYXRlUm9vdCwgbCBhcyBkaXNwb3NlLCBjIGFzIGV2ZW50cywgZSBhcyBleHRlbmQsIHMgYXMgZmx1c2hHbG9iYWxFZmZlY3RzLCB2IGFzIGZsdXNoU3luYywgdyBhcyBnZXRSb290U3RhdGUsIG0gYXMgaW52YWxpZGF0ZSwgaiBhcyByZWNvbmNpbGVyLCByIGFzIHJlbmRlciwgZCBhcyB1bm1vdW50Q29tcG9uZW50QXROb2RlLCBGIGFzIHVzZUZyYW1lLCBHIGFzIHVzZUdyYXBoLCBBIGFzIHVzZUluc3RhbmNlSGFuZGxlLCBIIGFzIHVzZUxvYWRlciwgQyBhcyB1c2VTdG9yZSwgRCBhcyB1c2VUaHJlZSB9IGZyb20gJy4vZXZlbnRzLTc3NjcxNmJkLmVzbS5qcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgdXNlTWVhc3VyZSBmcm9tICdyZWFjdC11c2UtbWVhc3VyZSc7XG5pbXBvcnQgeyBGaWJlclByb3ZpZGVyLCB1c2VDb250ZXh0QnJpZGdlIH0gZnJvbSAnaXRzLWZpbmUnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0ICdyZWFjdC1yZWNvbmNpbGVyL2NvbnN0YW50cyc7XG5pbXBvcnQgJ3p1c3RhbmQnO1xuaW1wb3J0ICdzdXNwZW5kLXJlYWN0JztcbmltcG9ydCAncmVhY3QtcmVjb25jaWxlcic7XG5pbXBvcnQgJ3NjaGVkdWxlcic7XG5cbmNvbnN0IENhbnZhc0ltcGwgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBDYW52YXMoe1xuICBjaGlsZHJlbixcbiAgZmFsbGJhY2ssXG4gIHJlc2l6ZSxcbiAgc3R5bGUsXG4gIGdsLFxuICBldmVudHMgPSBjcmVhdGVQb2ludGVyRXZlbnRzLFxuICBldmVudFNvdXJjZSxcbiAgZXZlbnRQcmVmaXgsXG4gIHNoYWRvd3MsXG4gIGxpbmVhcixcbiAgZmxhdCxcbiAgbGVnYWN5LFxuICBvcnRob2dyYXBoaWMsXG4gIGZyYW1lbG9vcCxcbiAgZHByLFxuICBwZXJmb3JtYW5jZSxcbiAgcmF5Y2FzdGVyLFxuICBjYW1lcmEsXG4gIHNjZW5lLFxuICBvblBvaW50ZXJNaXNzZWQsXG4gIG9uQ3JlYXRlZCxcbiAgLi4ucHJvcHNcbn0sIGZvcndhcmRlZFJlZikge1xuICAvLyBDcmVhdGUgYSBrbm93biBjYXRhbG9ndWUgb2YgVGhyZWVqcy1uYXRpdmUgZWxlbWVudHNcbiAgLy8gVGhpcyB3aWxsIGluY2x1ZGUgdGhlIGVudGlyZSBUSFJFRSBuYW1lc3BhY2UgYnkgZGVmYXVsdCwgdXNlcnMgY2FuIGV4dGVuZFxuICAvLyB0aGVpciBvd24gZWxlbWVudHMgYnkgdXNpbmcgdGhlIGNyZWF0ZVJvb3QgQVBJIGluc3RlYWRcbiAgUmVhY3QudXNlTWVtbygoKSA9PiBleHRlbmQoVEhSRUUpLCBbXSk7XG4gIGNvbnN0IEJyaWRnZSA9IHVzZUNvbnRleHRCcmlkZ2UoKTtcbiAgY29uc3QgW2NvbnRhaW5lclJlZiwgY29udGFpbmVyUmVjdF0gPSB1c2VNZWFzdXJlKHtcbiAgICBzY3JvbGw6IHRydWUsXG4gICAgZGVib3VuY2U6IHtcbiAgICAgIHNjcm9sbDogNTAsXG4gICAgICByZXNpemU6IDBcbiAgICB9LFxuICAgIC4uLnJlc2l6ZVxuICB9KTtcbiAgY29uc3QgY2FudmFzUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBkaXZSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUoZm9yd2FyZGVkUmVmLCAoKSA9PiBjYW52YXNSZWYuY3VycmVudCk7XG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJNaXNzZWQgPSB1c2VNdXRhYmxlQ2FsbGJhY2sob25Qb2ludGVyTWlzc2VkKTtcbiAgY29uc3QgW2Jsb2NrLCBzZXRCbG9ja10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFN1c3BlbmQgdGhpcyBjb21wb25lbnQgaWYgYmxvY2sgaXMgYSBwcm9taXNlICgybmQgcnVuKVxuICBpZiAoYmxvY2spIHRocm93IGJsb2NrO1xuICAvLyBUaHJvdyBleGNlcHRpb24gb3V0d2FyZHMgaWYgYW55dGhpbmcgd2l0aGluIGNhbnZhcyB0aHJvd3NcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgY29uc3Qgcm9vdCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNvbnRhaW5lclJlY3Qud2lkdGggPiAwICYmIGNvbnRhaW5lclJlY3QuaGVpZ2h0ID4gMCAmJiBjYW52YXMpIHtcbiAgICAgIGlmICghcm9vdC5jdXJyZW50KSByb290LmN1cnJlbnQgPSBjcmVhdGVSb290KGNhbnZhcyk7XG4gICAgICByb290LmN1cnJlbnQuY29uZmlndXJlKHtcbiAgICAgICAgZ2wsXG4gICAgICAgIGV2ZW50cyxcbiAgICAgICAgc2hhZG93cyxcbiAgICAgICAgbGluZWFyLFxuICAgICAgICBmbGF0LFxuICAgICAgICBsZWdhY3ksXG4gICAgICAgIG9ydGhvZ3JhcGhpYyxcbiAgICAgICAgZnJhbWVsb29wLFxuICAgICAgICBkcHIsXG4gICAgICAgIHBlcmZvcm1hbmNlLFxuICAgICAgICByYXljYXN0ZXIsXG4gICAgICAgIGNhbWVyYSxcbiAgICAgICAgc2NlbmUsXG4gICAgICAgIHNpemU6IGNvbnRhaW5lclJlY3QsXG4gICAgICAgIC8vIFBhc3MgbXV0YWJsZSByZWZlcmVuY2UgdG8gb25Qb2ludGVyTWlzc2VkIHNvIGl0J3MgZnJlZSB0byB1cGRhdGVcbiAgICAgICAgb25Qb2ludGVyTWlzc2VkOiAoLi4uYXJncykgPT4gaGFuZGxlUG9pbnRlck1pc3NlZC5jdXJyZW50ID09IG51bGwgPyB2b2lkIDAgOiBoYW5kbGVQb2ludGVyTWlzc2VkLmN1cnJlbnQoLi4uYXJncyksXG4gICAgICAgIG9uQ3JlYXRlZDogc3RhdGUgPT4ge1xuICAgICAgICAgIC8vIENvbm5lY3QgdG8gZXZlbnQgc291cmNlXG4gICAgICAgICAgc3RhdGUuZXZlbnRzLmNvbm5lY3QgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb25uZWN0KGV2ZW50U291cmNlID8gaXNSZWYoZXZlbnRTb3VyY2UpID8gZXZlbnRTb3VyY2UuY3VycmVudCA6IGV2ZW50U291cmNlIDogZGl2UmVmLmN1cnJlbnQpO1xuICAgICAgICAgIC8vIFNldCB1cCBjb21wdXRlIGZ1bmN0aW9uXG4gICAgICAgICAgaWYgKGV2ZW50UHJlZml4KSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXRFdmVudHMoe1xuICAgICAgICAgICAgICBjb21wdXRlOiAoZXZlbnQsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50W2V2ZW50UHJlZml4ICsgJ1gnXTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZXZlbnRbZXZlbnRQcmVmaXggKyAnWSddO1xuICAgICAgICAgICAgICAgIHN0YXRlLnBvaW50ZXIuc2V0KHggLyBzdGF0ZS5zaXplLndpZHRoICogMiAtIDEsIC0oeSAvIHN0YXRlLnNpemUuaGVpZ2h0KSAqIDIgKyAxKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShzdGF0ZS5wb2ludGVyLCBzdGF0ZS5jYW1lcmEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ2FsbCBvbkNyZWF0ZWQgY2FsbGJhY2tcbiAgICAgICAgICBvbkNyZWF0ZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ3JlYXRlZChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcm9vdC5jdXJyZW50LnJlbmRlciggLyojX19QVVJFX18qL2pzeChCcmlkZ2UsIHtcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9qc3goRXJyb3JCb3VuZGFyeSwge1xuICAgICAgICAgIHNldDogc2V0RXJyb3IsXG4gICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9qc3goUmVhY3QuU3VzcGVuc2UsIHtcbiAgICAgICAgICAgIGZhbGxiYWNrOiAvKiNfX1BVUkVfXyovanN4KEJsb2NrLCB7XG4gICAgICAgICAgICAgIHNldDogc2V0QmxvY2tcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuICE9IG51bGwgPyBjaGlsZHJlbiA6IG51bGxcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNhbnZhcykgcmV0dXJuICgpID0+IHVubW91bnRDb21wb25lbnRBdE5vZGUoY2FudmFzKTtcbiAgfSwgW10pO1xuXG4gIC8vIFdoZW4gdGhlIGV2ZW50IHNvdXJjZSBpcyBub3QgdGhpcyBkaXYsIHdlIG5lZWQgdG8gc2V0IHBvaW50ZXItZXZlbnRzIHRvIG5vbmVcbiAgLy8gT3IgZWxzZSB0aGUgY2FudmFzIHdpbGwgYmxvY2sgZXZlbnRzIGZyb20gcmVhY2hpbmcgdGhlIGV2ZW50IHNvdXJjZVxuICBjb25zdCBwb2ludGVyRXZlbnRzID0gZXZlbnRTb3VyY2UgPyAnbm9uZScgOiAnYXV0byc7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovanN4KFwiZGl2XCIsIHtcbiAgICByZWY6IGRpdlJlZixcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICBwb2ludGVyRXZlbnRzLFxuICAgICAgLi4uc3R5bGVcbiAgICB9LFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovanN4KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogY29udGFpbmVyUmVmLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL2pzeChcImNhbnZhc1wiLCB7XG4gICAgICAgIHJlZjogY2FudmFzUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGZhbGxiYWNrXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufSk7XG5cbi8qKlxyXG4gKiBBIERPTSBjYW52YXMgd2hpY2ggYWNjZXB0cyB0aHJlZWpzIGVsZW1lbnRzIGFzIGNoaWxkcmVuLlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9jYW52YXNcclxuICovXG5jb25zdCBDYW52YXMgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBDYW52YXNXcmFwcGVyKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goRmliZXJQcm92aWRlciwge1xuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovanN4KENhbnZhc0ltcGwsIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiByZWZcbiAgICB9KVxuICB9KTtcbn0pO1xuXG5leHBvcnQgeyBDYW52YXMgfTtcbiJdLCJuYW1lcyI6WyJjIiwiY3JlYXRlUG9pbnRlckV2ZW50cyIsImUiLCJleHRlbmQiLCJ1IiwidXNlTXV0YWJsZUNhbGxiYWNrIiwiYSIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCJiIiwiY3JlYXRlUm9vdCIsImkiLCJpc1JlZiIsIkUiLCJFcnJvckJvdW5kYXJ5IiwiQiIsIkJsb2NrIiwiZCIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJ0IiwiUmVhY3RUaHJlZUZpYmVyIiwieiIsIl9yb290cyIsIngiLCJhY3QiLCJwIiwiYWRkQWZ0ZXJFZmZlY3QiLCJvIiwiYWRkRWZmZWN0IiwicSIsImFkZFRhaWwiLCJuIiwiYWR2YW5jZSIsImsiLCJhcHBseVByb3BzIiwieSIsImJ1aWxkR3JhcGgiLCJnIiwiY29udGV4dCIsImYiLCJjcmVhdGVFdmVudHMiLCJoIiwiY3JlYXRlUG9ydGFsIiwibCIsImRpc3Bvc2UiLCJldmVudHMiLCJzIiwiZmx1c2hHbG9iYWxFZmZlY3RzIiwidiIsImZsdXNoU3luYyIsInciLCJnZXRSb290U3RhdGUiLCJtIiwiaW52YWxpZGF0ZSIsImoiLCJyZWNvbmNpbGVyIiwiciIsInJlbmRlciIsIkYiLCJ1c2VGcmFtZSIsIkciLCJ1c2VHcmFwaCIsIkEiLCJ1c2VJbnN0YW5jZUhhbmRsZSIsIkgiLCJ1c2VMb2FkZXIiLCJDIiwidXNlU3RvcmUiLCJEIiwidXNlVGhyZWUiLCJSZWFjdCIsIlRIUkVFIiwidXNlTWVhc3VyZSIsIkZpYmVyUHJvdmlkZXIiLCJ1c2VDb250ZXh0QnJpZGdlIiwianN4IiwiQ2FudmFzSW1wbCIsImZvcndhcmRSZWYiLCJDYW52YXMiLCJjaGlsZHJlbiIsImZhbGxiYWNrIiwicmVzaXplIiwic3R5bGUiLCJnbCIsImV2ZW50U291cmNlIiwiZXZlbnRQcmVmaXgiLCJzaGFkb3dzIiwibGluZWFyIiwiZmxhdCIsImxlZ2FjeSIsIm9ydGhvZ3JhcGhpYyIsImZyYW1lbG9vcCIsImRwciIsInBlcmZvcm1hbmNlIiwicmF5Y2FzdGVyIiwiY2FtZXJhIiwic2NlbmUiLCJvblBvaW50ZXJNaXNzZWQiLCJvbkNyZWF0ZWQiLCJwcm9wcyIsImZvcndhcmRlZFJlZiIsInVzZU1lbW8iLCJCcmlkZ2UiLCJjb250YWluZXJSZWYiLCJjb250YWluZXJSZWN0Iiwic2Nyb2xsIiwiZGVib3VuY2UiLCJjYW52YXNSZWYiLCJ1c2VSZWYiLCJkaXZSZWYiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwiY3VycmVudCIsImhhbmRsZVBvaW50ZXJNaXNzZWQiLCJibG9jayIsInNldEJsb2NrIiwidXNlU3RhdGUiLCJlcnJvciIsInNldEVycm9yIiwicm9vdCIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiY29uZmlndXJlIiwic2l6ZSIsImFyZ3MiLCJzdGF0ZSIsImNvbm5lY3QiLCJzZXRFdmVudHMiLCJjb21wdXRlIiwiZXZlbnQiLCJwb2ludGVyIiwic2V0Iiwic2V0RnJvbUNhbWVyYSIsIlN1c3BlbnNlIiwidXNlRWZmZWN0IiwicG9pbnRlckV2ZW50cyIsInJlZiIsInBvc2l0aW9uIiwib3ZlcmZsb3ciLCJkaXNwbGF5IiwiQ2FudmFzV3JhcHBlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction createStore(createState) {\n    let state;\n    const listeners = /* @__PURE__ */ new Set();\n    const setState = (partial, replace)=>{\n        const nextState = typeof partial === \"function\" ? partial(state) : partial;\n        if (nextState !== state) {\n            const previousState = state;\n            state = replace ? nextState : Object.assign({}, state, nextState);\n            listeners.forEach((listener)=>listener(state, previousState));\n        }\n    };\n    const getState = ()=>state;\n    const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is)=>{\n        console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n        let currentSlice = selector(state);\n        function listenerToAdd() {\n            const nextSlice = selector(state);\n            if (!equalityFn(currentSlice, nextSlice)) {\n                const previousSlice = currentSlice;\n                listener(currentSlice = nextSlice, previousSlice);\n            }\n        }\n        listeners.add(listenerToAdd);\n        return ()=>listeners.delete(listenerToAdd);\n    };\n    const subscribe = (listener, selector, equalityFn)=>{\n        if (selector || equalityFn) {\n            return subscribeWithSelector(listener, selector, equalityFn);\n        }\n        listeners.add(listener);\n        return ()=>listeners.delete(listener);\n    };\n    const destroy = ()=>listeners.clear();\n    const api = {\n        setState,\n        getState,\n        subscribe,\n        destroy\n    };\n    state = createState(setState, getState, api);\n    return api;\n}\nconst isSSR =  true || 0;\nconst useIsomorphicLayoutEffect = isSSR ? react__WEBPACK_IMPORTED_MODULE_0__.useEffect : react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;\nfunction create(createState) {\n    const api = typeof createState === \"function\" ? createStore(createState) : createState;\n    const useStore = (selector = api.getState, equalityFn = Object.is)=>{\n        const [, forceUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((c)=>c + 1, 0);\n        const state = api.getState();\n        const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n        const selectorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selector);\n        const equalityFnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(equalityFn);\n        const erroredRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n        const currentSliceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n        if (currentSliceRef.current === void 0) {\n            currentSliceRef.current = selector(state);\n        }\n        let newStateSlice;\n        let hasNewStateSlice = false;\n        if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n            newStateSlice = selector(state);\n            hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n        }\n        useIsomorphicLayoutEffect(()=>{\n            if (hasNewStateSlice) {\n                currentSliceRef.current = newStateSlice;\n            }\n            stateRef.current = state;\n            selectorRef.current = selector;\n            equalityFnRef.current = equalityFn;\n            erroredRef.current = false;\n        });\n        const stateBeforeSubscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n        useIsomorphicLayoutEffect(()=>{\n            const listener = ()=>{\n                try {\n                    const nextState = api.getState();\n                    const nextStateSlice = selectorRef.current(nextState);\n                    if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n                        stateRef.current = nextState;\n                        currentSliceRef.current = nextStateSlice;\n                        forceUpdate();\n                    }\n                } catch (error) {\n                    erroredRef.current = true;\n                    forceUpdate();\n                }\n            };\n            const unsubscribe = api.subscribe(listener);\n            if (api.getState() !== stateBeforeSubscriptionRef.current) {\n                listener();\n            }\n            return unsubscribe;\n        }, []);\n        const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n        (0,react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue)(sliceToReturn);\n        return sliceToReturn;\n    };\n    Object.assign(useStore, api);\n    useStore[Symbol.iterator] = function() {\n        console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n        const items = [\n            useStore,\n            api\n        ];\n        return {\n            next () {\n                const done = items.length <= 0;\n                return {\n                    value: items.shift(),\n                    done\n                };\n            }\n        };\n    };\n    return useStore;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Y7QUFFdEYsU0FBU0ssWUFBWUMsV0FBVztJQUM5QixJQUFJQztJQUNKLE1BQU1DLFlBQVksYUFBYSxHQUFHLElBQUlDO0lBQ3RDLE1BQU1DLFdBQVcsQ0FBQ0MsU0FBU0M7UUFDekIsTUFBTUMsWUFBWSxPQUFPRixZQUFZLGFBQWFBLFFBQVFKLFNBQVNJO1FBQ25FLElBQUlFLGNBQWNOLE9BQU87WUFDdkIsTUFBTU8sZ0JBQWdCUDtZQUN0QkEsUUFBUUssVUFBVUMsWUFBWUUsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR1QsT0FBT007WUFDdkRMLFVBQVVTLE9BQU8sQ0FBQyxDQUFDQyxXQUFhQSxTQUFTWCxPQUFPTztRQUNsRDtJQUNGO0lBQ0EsTUFBTUssV0FBVyxJQUFNWjtJQUN2QixNQUFNYSx3QkFBd0IsQ0FBQ0YsVUFBVUcsV0FBV0YsUUFBUSxFQUFFRyxhQUFhUCxPQUFPUSxFQUFFO1FBQ2xGQyxRQUFRQyxJQUFJLENBQUM7UUFDYixJQUFJQyxlQUFlTCxTQUFTZDtRQUM1QixTQUFTb0I7WUFDUCxNQUFNQyxZQUFZUCxTQUFTZDtZQUMzQixJQUFJLENBQUNlLFdBQVdJLGNBQWNFLFlBQVk7Z0JBQ3hDLE1BQU1DLGdCQUFnQkg7Z0JBQ3RCUixTQUFTUSxlQUFlRSxXQUFXQztZQUNyQztRQUNGO1FBQ0FyQixVQUFVc0IsR0FBRyxDQUFDSDtRQUNkLE9BQU8sSUFBTW5CLFVBQVV1QixNQUFNLENBQUNKO0lBQ2hDO0lBQ0EsTUFBTUssWUFBWSxDQUFDZCxVQUFVRyxVQUFVQztRQUNyQyxJQUFJRCxZQUFZQyxZQUFZO1lBQzFCLE9BQU9GLHNCQUFzQkYsVUFBVUcsVUFBVUM7UUFDbkQ7UUFDQWQsVUFBVXNCLEdBQUcsQ0FBQ1o7UUFDZCxPQUFPLElBQU1WLFVBQVV1QixNQUFNLENBQUNi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LE1BQU1HLE1BQU0sSUFBSTtnQkFDN0IsT0FBTztvQkFBRUMsT0FBT0osTUFBTUssS0FBSztvQkFBSUg7Z0JBQUs7WUFDdEM7UUFDRjtJQUNGO0lBQ0EsT0FBT3BCO0FBQ1Q7QUFFNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9maWJlci9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vaW5kZXguanM/MzMwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSZWR1Y2VyLCB1c2VSZWYsIHVzZURlYnVnVmFsdWUsIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShjcmVhdGVTdGF0ZSkge1xuICBsZXQgc3RhdGU7XG4gIGNvbnN0IGxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IHNldFN0YXRlID0gKHBhcnRpYWwsIHJlcGxhY2UpID0+IHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSB0eXBlb2YgcGFydGlhbCA9PT0gXCJmdW5jdGlvblwiID8gcGFydGlhbChzdGF0ZSkgOiBwYXJ0aWFsO1xuICAgIGlmIChuZXh0U3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgICBzdGF0ZSA9IHJlcGxhY2UgPyBuZXh0U3RhdGUgOiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgbmV4dFN0YXRlKTtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoc3RhdGUsIHByZXZpb3VzU3RhdGUpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4gc3RhdGU7XG4gIGNvbnN0IHN1YnNjcmliZVdpdGhTZWxlY3RvciA9IChsaXN0ZW5lciwgc2VsZWN0b3IgPSBnZXRTdGF0ZSwgZXF1YWxpdHlGbiA9IE9iamVjdC5pcykgPT4ge1xuICAgIGNvbnNvbGUud2FybihcIltERVBSRUNBVEVEXSBQbGVhc2UgdXNlIGBzdWJzY3JpYmVXaXRoU2VsZWN0b3JgIG1pZGRsZXdhcmVcIik7XG4gICAgbGV0IGN1cnJlbnRTbGljZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICBmdW5jdGlvbiBsaXN0ZW5lclRvQWRkKCkge1xuICAgICAgY29uc3QgbmV4dFNsaWNlID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgICAgaWYgKCFlcXVhbGl0eUZuKGN1cnJlbnRTbGljZSwgbmV4dFNsaWNlKSkge1xuICAgICAgICBjb25zdCBwcmV2aW91c1NsaWNlID0gY3VycmVudFNsaWNlO1xuICAgICAgICBsaXN0ZW5lcihjdXJyZW50U2xpY2UgPSBuZXh0U2xpY2UsIHByZXZpb3VzU2xpY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyVG9BZGQpO1xuICAgIHJldHVybiAoKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyVG9BZGQpO1xuICB9O1xuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIsIHNlbGVjdG9yLCBlcXVhbGl0eUZuKSA9PiB7XG4gICAgaWYgKHNlbGVjdG9yIHx8IGVxdWFsaXR5Rm4pIHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmVXaXRoU2VsZWN0b3IobGlzdGVuZXIsIHNlbGVjdG9yLCBlcXVhbGl0eUZuKTtcbiAgICB9XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICB9O1xuICBjb25zdCBkZXN0cm95ID0gKCkgPT4gbGlzdGVuZXJzLmNsZWFyKCk7XG4gIGNvbnN0IGFwaSA9IHsgc2V0U3RhdGUsIGdldFN0YXRlLCBzdWJzY3JpYmUsIGRlc3Ryb3kgfTtcbiAgc3RhdGUgPSBjcmVhdGVTdGF0ZShzZXRTdGF0ZSwgZ2V0U3RhdGUsIGFwaSk7XG4gIHJldHVybiBhcGk7XG59XG5cbmNvbnN0IGlzU1NSID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhd2luZG93Lm5hdmlnYXRvciB8fCAvU2VydmVyU2lkZVJlbmRlcmluZ3xeRGVub1xcLy8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5jb25zdCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gaXNTU1IgPyB1c2VFZmZlY3QgOiB1c2VMYXlvdXRFZmZlY3Q7XG5mdW5jdGlvbiBjcmVhdGUoY3JlYXRlU3RhdGUpIHtcbiAgY29uc3QgYXBpID0gdHlwZW9mIGNyZWF0ZVN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyBjcmVhdGVTdG9yZShjcmVhdGVTdGF0ZSkgOiBjcmVhdGVTdGF0ZTtcbiAgY29uc3QgdXNlU3RvcmUgPSAoc2VsZWN0b3IgPSBhcGkuZ2V0U3RhdGUsIGVxdWFsaXR5Rm4gPSBPYmplY3QuaXMpID0+IHtcbiAgICBjb25zdCBbLCBmb3JjZVVwZGF0ZV0gPSB1c2VSZWR1Y2VyKChjKSA9PiBjICsgMSwgMCk7XG4gICAgY29uc3Qgc3RhdGUgPSBhcGkuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBzdGF0ZVJlZiA9IHVzZVJlZihzdGF0ZSk7XG4gICAgY29uc3Qgc2VsZWN0b3JSZWYgPSB1c2VSZWYoc2VsZWN0b3IpO1xuICAgIGNvbnN0IGVxdWFsaXR5Rm5SZWYgPSB1c2VSZWYoZXF1YWxpdHlGbik7XG4gICAgY29uc3QgZXJyb3JlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgY3VycmVudFNsaWNlUmVmID0gdXNlUmVmKCk7XG4gICAgaWYgKGN1cnJlbnRTbGljZVJlZi5jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgIGN1cnJlbnRTbGljZVJlZi5jdXJyZW50ID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgIH1cbiAgICBsZXQgbmV3U3RhdGVTbGljZTtcbiAgICBsZXQgaGFzTmV3U3RhdGVTbGljZSA9IGZhbHNlO1xuICAgIGlmIChzdGF0ZVJlZi5jdXJyZW50ICE9PSBzdGF0ZSB8fCBzZWxlY3RvclJlZi5jdXJyZW50ICE9PSBzZWxlY3RvciB8fCBlcXVhbGl0eUZuUmVmLmN1cnJlbnQgIT09IGVxdWFsaXR5Rm4gfHwgZXJyb3JlZFJlZi5jdXJyZW50KSB7XG4gICAgICBuZXdTdGF0ZVNsaWNlID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgICAgaGFzTmV3U3RhdGVTbGljZSA9ICFlcXVhbGl0eUZuKGN1cnJlbnRTbGljZVJlZi5jdXJyZW50LCBuZXdTdGF0ZVNsaWNlKTtcbiAgICB9XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoaGFzTmV3U3RhdGVTbGljZSkge1xuICAgICAgICBjdXJyZW50U2xpY2VSZWYuY3VycmVudCA9IG5ld1N0YXRlU2xpY2U7XG4gICAgICB9XG4gICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XG4gICAgICBzZWxlY3RvclJlZi5jdXJyZW50ID0gc2VsZWN0b3I7XG4gICAgICBlcXVhbGl0eUZuUmVmLmN1cnJlbnQgPSBlcXVhbGl0eUZuO1xuICAgICAgZXJyb3JlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSk7XG4gICAgY29uc3Qgc3RhdGVCZWZvcmVTdWJzY3JpcHRpb25SZWYgPSB1c2VSZWYoc3RhdGUpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbmV4dFN0YXRlID0gYXBpLmdldFN0YXRlKCk7XG4gICAgICAgICAgY29uc3QgbmV4dFN0YXRlU2xpY2UgPSBzZWxlY3RvclJlZi5jdXJyZW50KG5leHRTdGF0ZSk7XG4gICAgICAgICAgaWYgKCFlcXVhbGl0eUZuUmVmLmN1cnJlbnQoY3VycmVudFNsaWNlUmVmLmN1cnJlbnQsIG5leHRTdGF0ZVNsaWNlKSkge1xuICAgICAgICAgICAgc3RhdGVSZWYuY3VycmVudCA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgIGN1cnJlbnRTbGljZVJlZi5jdXJyZW50ID0gbmV4dFN0YXRlU2xpY2U7XG4gICAgICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlcnJvcmVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IGFwaS5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICAgICAgaWYgKGFwaS5nZXRTdGF0ZSgpICE9PSBzdGF0ZUJlZm9yZVN1YnNjcmlwdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5zdWJzY3JpYmU7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHNsaWNlVG9SZXR1cm4gPSBoYXNOZXdTdGF0ZVNsaWNlID8gbmV3U3RhdGVTbGljZSA6IGN1cnJlbnRTbGljZVJlZi5jdXJyZW50O1xuICAgIHVzZURlYnVnVmFsdWUoc2xpY2VUb1JldHVybik7XG4gICAgcmV0dXJuIHNsaWNlVG9SZXR1cm47XG4gIH07XG4gIE9iamVjdC5hc3NpZ24odXNlU3RvcmUsIGFwaSk7XG4gIHVzZVN0b3JlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLndhcm4oXCJbdXNlU3RvcmUsIGFwaV0gPSBjcmVhdGUoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjRcIik7XG4gICAgY29uc3QgaXRlbXMgPSBbdXNlU3RvcmUsIGFwaV07XG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IGRvbmUgPSBpdGVtcy5sZW5ndGggPD0gMDtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGl0ZW1zLnNoaWZ0KCksIGRvbmUgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICByZXR1cm4gdXNlU3RvcmU7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZSBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOlsidXNlUmVkdWNlciIsInVzZVJlZiIsInVzZURlYnVnVmFsdWUiLCJ1c2VFZmZlY3QiLCJ1c2VMYXlvdXRFZmZlY3QiLCJjcmVhdGVTdG9yZSIsImNyZWF0ZVN0YXRlIiwic3RhdGUiLCJsaXN0ZW5lcnMiLCJTZXQiLCJzZXRTdGF0ZSIsInBhcnRpYWwiLCJyZXBsYWNlIiwibmV4dFN0YXRlIiwicHJldmlvdXNTdGF0ZSIsIk9iamVjdCIsImFzc2lnbiIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXRlIiwic3Vic2NyaWJlV2l0aFNlbGVjdG9yIiwic2VsZWN0b3IiLCJlcXVhbGl0eUZuIiwiaXMiLCJjb25zb2xlIiwid2FybiIsImN1cnJlbnRTbGljZSIsImxpc3RlbmVyVG9BZGQiLCJuZXh0U2xpY2UiLCJwcmV2aW91c1NsaWNlIiwiYWRkIiwiZGVsZXRlIiwic3Vic2NyaWJlIiwiZGVzdHJveSIsImNsZWFyIiwiYXBpIiwiaXNTU1IiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ0ZXN0IiwidXNlckFnZW50IiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsImNyZWF0ZSIsInVzZVN0b3JlIiwiZm9yY2VVcGRhdGUiLCJjIiwic3RhdGVSZWYiLCJzZWxlY3RvclJlZiIsImVxdWFsaXR5Rm5SZWYiLCJlcnJvcmVkUmVmIiwiY3VycmVudFNsaWNlUmVmIiwiY3VycmVudCIsIm5ld1N0YXRlU2xpY2UiLCJoYXNOZXdTdGF0ZVNsaWNlIiwic3RhdGVCZWZvcmVTdWJzY3JpcHRpb25SZWYiLCJuZXh0U3RhdGVTbGljZSIsImVycm9yIiwidW5zdWJzY3JpYmUiLCJzbGljZVRvUmV0dXJuIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJpdGVtcyIsIm5leHQiLCJkb25lIiwibGVuZ3RoIiwidmFsdWUiLCJzaGlmdCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/postprocessing/dist/EffectComposer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@react-three/postprocessing/dist/EffectComposer.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EffectComposer: () => (/* binding */ EffectComposer),\n/* harmony export */   EffectComposerContext: () => (/* binding */ EffectComposerContext)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var postprocessing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! postprocessing */ \"(ssr)/./node_modules/postprocessing/build/index.js\");\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/misc/WebGL.js\");\n\n\n\n\n\n\nconst EffectComposerContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nconst isConvolution = (effect)=>(effect.getAttributes() & postprocessing__WEBPACK_IMPORTED_MODULE_2__.EffectAttribute.CONVOLUTION) === postprocessing__WEBPACK_IMPORTED_MODULE_2__.EffectAttribute.CONVOLUTION;\nconst EffectComposer = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.memo(/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ children, camera: _camera, scene: _scene, resolutionScale, enabled = true, renderPriority = 1, autoClear = true, depthBuffer, enableNormalPass, stencilBuffer, multisampling = 8, frameBufferType = three__WEBPACK_IMPORTED_MODULE_3__.HalfFloatType }, ref)=>{\n    const { gl, scene: defaultScene, camera: defaultCamera, size } = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.D)();\n    const scene = _scene || defaultScene;\n    const camera = _camera || defaultCamera;\n    const [composer, normalPass, downSamplingPass] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const webGL2Available = (0,three_stdlib__WEBPACK_IMPORTED_MODULE_5__.isWebGL2Available)();\n        const effectComposer = new postprocessing__WEBPACK_IMPORTED_MODULE_2__.EffectComposer(gl, {\n            depthBuffer,\n            stencilBuffer,\n            multisampling: multisampling > 0 && webGL2Available ? multisampling : 0,\n            frameBufferType\n        });\n        effectComposer.addPass(new postprocessing__WEBPACK_IMPORTED_MODULE_2__.RenderPass(scene, camera));\n        let downSamplingPass2 = null;\n        let normalPass2 = null;\n        if (enableNormalPass) {\n            normalPass2 = new postprocessing__WEBPACK_IMPORTED_MODULE_2__.NormalPass(scene, camera);\n            normalPass2.enabled = false;\n            effectComposer.addPass(normalPass2);\n            if (resolutionScale !== void 0 && webGL2Available) {\n                downSamplingPass2 = new postprocessing__WEBPACK_IMPORTED_MODULE_2__.DepthDownsamplingPass({\n                    normalBuffer: normalPass2.texture,\n                    resolutionScale\n                });\n                downSamplingPass2.enabled = false;\n                effectComposer.addPass(downSamplingPass2);\n            }\n        }\n        return [\n            effectComposer,\n            normalPass2,\n            downSamplingPass2\n        ];\n    }, [\n        camera,\n        gl,\n        depthBuffer,\n        stencilBuffer,\n        multisampling,\n        frameBufferType,\n        scene,\n        enableNormalPass,\n        resolutionScale\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>composer == null ? void 0 : composer.setSize(size.width, size.height), [\n        composer,\n        size\n    ]);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.F)((_, delta)=>{\n        if (enabled) {\n            const currentAutoClear = gl.autoClear;\n            gl.autoClear = autoClear;\n            if (stencilBuffer && !autoClear) gl.clearStencil();\n            composer.render(delta);\n            gl.autoClear = currentAutoClear;\n        }\n    }, enabled ? renderPriority : 0);\n    const group = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(()=>{\n        var _a;\n        const passes = [];\n        const groupInstance = (_a = group.current) == null ? void 0 : _a.__r3f;\n        if (groupInstance && composer) {\n            const children2 = groupInstance.objects;\n            for(let i = 0; i < children2.length; i++){\n                const child = children2[i];\n                if (child instanceof postprocessing__WEBPACK_IMPORTED_MODULE_2__.Effect) {\n                    const effects = [\n                        child\n                    ];\n                    if (!isConvolution(child)) {\n                        let next = null;\n                        while((next = children2[i + 1]) instanceof postprocessing__WEBPACK_IMPORTED_MODULE_2__.Effect){\n                            if (isConvolution(next)) break;\n                            effects.push(next);\n                            i++;\n                        }\n                    }\n                    const pass = new postprocessing__WEBPACK_IMPORTED_MODULE_2__.EffectPass(camera, ...effects);\n                    passes.push(pass);\n                } else if (child instanceof postprocessing__WEBPACK_IMPORTED_MODULE_2__.Pass) {\n                    passes.push(child);\n                }\n            }\n            for (const pass of passes)composer == null ? void 0 : composer.addPass(pass);\n            if (normalPass) normalPass.enabled = true;\n            if (downSamplingPass) downSamplingPass.enabled = true;\n        }\n        return ()=>{\n            for (const pass of passes)composer == null ? void 0 : composer.removePass(pass);\n            if (normalPass) normalPass.enabled = false;\n            if (downSamplingPass) downSamplingPass.enabled = false;\n        };\n    }, [\n        composer,\n        children,\n        camera,\n        normalPass,\n        downSamplingPass\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentTonemapping = gl.toneMapping;\n        gl.toneMapping = three__WEBPACK_IMPORTED_MODULE_3__.NoToneMapping;\n        return ()=>{\n            gl.toneMapping = currentTonemapping;\n        };\n    }, [\n        gl\n    ]);\n    const state = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            composer,\n            normalPass,\n            downSamplingPass,\n            resolutionScale,\n            camera,\n            scene\n        }), [\n        composer,\n        normalPass,\n        downSamplingPass,\n        resolutionScale,\n        camera,\n        scene\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, ()=>composer, [\n        composer\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EffectComposerContext.Provider, {\n        value: state,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"group\", {\n            ref: group,\n            children\n        })\n    });\n}));\n //# sourceMappingURL=EffectComposer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL3Bvc3Rwcm9jZXNzaW5nL2Rpc3QvRWZmZWN0Q29tcG9zZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0M7QUFDYTtBQUNzRTtBQUNuRTtBQUNzRztBQUM3RztBQUNqRCxNQUFNdUIsc0NBQXdCbkIsb0RBQWFBLENBQUM7QUFDNUMsTUFBTW9CLGdCQUFnQixDQUFDQyxTQUFXLENBQUNBLE9BQU9DLGFBQWEsS0FBS04sMkRBQWVBLENBQUNPLFdBQVcsTUFBTVAsMkRBQWVBLENBQUNPLFdBQVc7QUFDeEgsTUFBTWQsK0JBQWlCVix1Q0FBVSxlQUMvQkUsaURBQVVBLENBQ1IsQ0FBQyxFQUNDd0IsUUFBUSxFQUNSQyxRQUFRQyxPQUFPLEVBQ2ZDLE9BQU9DLE1BQU0sRUFDYkMsZUFBZSxFQUNmQyxVQUFVLElBQUksRUFDZEMsaUJBQWlCLENBQUMsRUFDbEJDLFlBQVksSUFBSSxFQUNoQkMsV0FBVyxFQUNYQyxnQkFBZ0IsRUFDaEJDLGFBQWEsRUFDYkMsZ0JBQWdCLENBQUMsRUFDakJDLGtCQUFrQnhDLGdEQUFhLEVBQ2hDLEVBQUV5QztJQUNELE1BQU0sRUFBRUMsRUFBRSxFQUFFWixPQUFPYSxZQUFZLEVBQUVmLFFBQVFnQixhQUFhLEVBQUVDLElBQUksRUFBRSxHQUFHcEMscURBQVFBO0lBQ3pFLE1BQU1xQixRQUFRQyxVQUFVWTtJQUN4QixNQUFNZixTQUFTQyxXQUFXZTtJQUMxQixNQUFNLENBQUNFLFVBQVVDLFlBQVlDLGlCQUFpQixHQUFHNUMsOENBQU9BLENBQUM7UUFDdkQsTUFBTTZDLGtCQUFrQjdCLCtEQUFpQkE7UUFDekMsTUFBTThCLGlCQUFpQixJQUFJdEMsMERBQWdCQSxDQUFDOEIsSUFBSTtZQUM5Q047WUFDQUU7WUFDQUMsZUFBZUEsZ0JBQWdCLEtBQUtVLGtCQUFrQlYsZ0JBQWdCO1lBQ3RFQztRQUNGO1FBQ0FVLGVBQWVDLE9BQU8sQ0FBQyxJQUFJdEMsc0RBQVVBLENB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UUFBQ2E7UUFBVW5CO1FBQVVDO1FBQVFtQjtRQUFZQztLQUFpQjtJQUM3RDNDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTJFLHFCQUFxQnRDLEdBQUd1QyxXQUFXO1FBQ3pDdkMsR0FBR3VDLFdBQVcsR0FBR2xGLGdEQUFhQTtRQUM5QixPQUFPO1lBQ0wyQyxHQUFHdUMsV0FBVyxHQUFHRDtRQUNuQjtJQUNGLEdBQUc7UUFBQ3RDO0tBQUc7SUFDUCxNQUFNd0MsUUFBUTlFLDhDQUFPQSxDQUNuQixJQUFPO1lBQUUwQztZQUFVQztZQUFZQztZQUFrQmhCO1lBQWlCSjtZQUFRRTtRQUFNLElBQ2hGO1FBQUNnQjtRQUFVQztRQUFZQztRQUFrQmhCO1FBQWlCSjtRQUFRRTtLQUFNO0lBRTFFdEIsMERBQW1CQSxDQUFDaUMsS0FBSyxJQUFNSyxVQUFVO1FBQUNBO0tBQVM7SUFDbkQsT0FBTyxhQUFhLEdBQUdoRCxzREFBR0EsQ0FBQ3VCLHNCQUFzQjhELFFBQVEsRUFBRTtRQUFFQyxPQUFPRjtRQUFPdkQsVUFBVSxhQUFhLEdBQUc3QixzREFBR0EsQ0FBQyxTQUFTO1lBQUUyQyxLQUFLdUI7WUFBT3JDO1FBQVM7SUFBRztBQUM5STtBQU1GLENBQ0YsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2NyYXRlLXdlYi8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvcG9zdHByb2Nlc3NpbmcvZGlzdC9FZmZlY3RDb21wb3Nlci5qcz82ZDQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgTm9Ub25lTWFwcGluZywgSGFsZkZsb2F0VHlwZSB9IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIGZvcndhcmRSZWYsIHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VMYXlvdXRFZmZlY3QsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVRocmVlLCB1c2VGcmFtZSB9IGZyb20gXCJAcmVhY3QtdGhyZWUvZmliZXJcIjtcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIGFzIEVmZmVjdENvbXBvc2VyJDEsIFJlbmRlclBhc3MsIE5vcm1hbFBhc3MsIERlcHRoRG93bnNhbXBsaW5nUGFzcywgRWZmZWN0LCBFZmZlY3RQYXNzLCBFZmZlY3RBdHRyaWJ1dGUsIFBhc3MgfSBmcm9tIFwicG9zdHByb2Nlc3NpbmdcIjtcbmltcG9ydCB7IGlzV2ViR0wyQXZhaWxhYmxlIH0gZnJvbSBcInRocmVlLXN0ZGxpYlwiO1xuY29uc3QgRWZmZWN0Q29tcG9zZXJDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IGlzQ29udm9sdXRpb24gPSAoZWZmZWN0KSA9PiAoZWZmZWN0LmdldEF0dHJpYnV0ZXMoKSAmIEVmZmVjdEF0dHJpYnV0ZS5DT05WT0xVVElPTikgPT09IEVmZmVjdEF0dHJpYnV0ZS5DT05WT0xVVElPTjtcbmNvbnN0IEVmZmVjdENvbXBvc2VyID0gUmVhY3QubWVtbyhcbiAgZm9yd2FyZFJlZihcbiAgICAoe1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBjYW1lcmE6IF9jYW1lcmEsXG4gICAgICBzY2VuZTogX3NjZW5lLFxuICAgICAgcmVzb2x1dGlvblNjYWxlLFxuICAgICAgZW5hYmxlZCA9IHRydWUsXG4gICAgICByZW5kZXJQcmlvcml0eSA9IDEsXG4gICAgICBhdXRvQ2xlYXIgPSB0cnVlLFxuICAgICAgZGVwdGhCdWZmZXIsXG4gICAgICBlbmFibGVOb3JtYWxQYXNzLFxuICAgICAgc3RlbmNpbEJ1ZmZlcixcbiAgICAgIG11bHRpc2FtcGxpbmcgPSA4LFxuICAgICAgZnJhbWVCdWZmZXJUeXBlID0gSGFsZkZsb2F0VHlwZVxuICAgIH0sIHJlZikgPT4ge1xuICAgICAgY29uc3QgeyBnbCwgc2NlbmU6IGRlZmF1bHRTY2VuZSwgY2FtZXJhOiBkZWZhdWx0Q2FtZXJhLCBzaXplIH0gPSB1c2VUaHJlZSgpO1xuICAgICAgY29uc3Qgc2NlbmUgPSBfc2NlbmUgfHwgZGVmYXVsdFNjZW5lO1xuICAgICAgY29uc3QgY2FtZXJhID0gX2NhbWVyYSB8fCBkZWZhdWx0Q2FtZXJhO1xuICAgICAgY29uc3QgW2NvbXBvc2VyLCBub3JtYWxQYXNzLCBkb3duU2FtcGxpbmdQYXNzXSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCB3ZWJHTDJBdmFpbGFibGUgPSBpc1dlYkdMMkF2YWlsYWJsZSgpO1xuICAgICAgICBjb25zdCBlZmZlY3RDb21wb3NlciA9IG5ldyBFZmZlY3RDb21wb3NlciQxKGdsLCB7XG4gICAgICAgICAgZGVwdGhCdWZmZXIsXG4gICAgICAgICAgc3RlbmNpbEJ1ZmZlcixcbiAgICAgICAgICBtdWx0aXNhbXBsaW5nOiBtdWx0aXNhbXBsaW5nID4gMCAmJiB3ZWJHTDJBdmFpbGFibGUgPyBtdWx0aXNhbXBsaW5nIDogMCxcbiAgICAgICAgICBmcmFtZUJ1ZmZlclR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIGVmZmVjdENvbXBvc2VyLmFkZFBhc3MobmV3IFJlbmRlclBhc3Moc2NlbmUsIGNhbWVyYSkpO1xuICAgICAgICBsZXQgZG93blNhbXBsaW5nUGFzczIgPSBudWxsO1xuICAgICAgICBsZXQgbm9ybWFsUGFzczIgPSBudWxsO1xuICAgICAgICBpZiAoZW5hYmxlTm9ybWFsUGFzcykge1xuICAgICAgICAgIG5vcm1hbFBhc3MyID0gbmV3IE5vcm1hbFBhc3Moc2NlbmUsIGNhbWVyYSk7XG4gICAgICAgICAgbm9ybWFsUGFzczIuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGVmZmVjdENvbXBvc2VyLmFkZFBhc3Mobm9ybWFsUGFzczIpO1xuICAgICAgICAgIGlmIChyZXNvbHV0aW9uU2NhbGUgIT09IHZvaWQgMCAmJiB3ZWJHTDJBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIGRvd25TYW1wbGluZ1Bhc3MyID0gbmV3IERlcHRoRG93bnNhbXBsaW5nUGFzcyh7IG5vcm1hbEJ1ZmZlcjogbm9ybWFsUGFzczIudGV4dHVyZSwgcmVzb2x1dGlvblNjYWxlIH0pO1xuICAgICAgICAgICAgZG93blNhbXBsaW5nUGFzczIuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZWZmZWN0Q29tcG9zZXIuYWRkUGFzcyhkb3duU2FtcGxpbmdQYXNzMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZWZmZWN0Q29tcG9zZXIsIG5vcm1hbFBhc3MyLCBkb3duU2FtcGxpbmdQYXNzMl07XG4gICAgICB9LCBbXG4gICAgICAgIGNhbWVyYSxcbiAgICAgICAgZ2wsXG4gICAgICAgIGRlcHRoQnVmZmVyLFxuICAgICAgICBzdGVuY2lsQnVmZmVyLFxuICAgICAgICBtdWx0aXNhbXBsaW5nLFxuICAgICAgICBmcmFtZUJ1ZmZlclR5cGUsXG4gICAgICAgIHNjZW5lLFxuICAgICAgICBlbmFibGVOb3JtYWxQYXNzLFxuICAgICAgICByZXNvbHV0aW9uU2NhbGVcbiAgICAgIF0pO1xuICAgICAgdXNlRWZmZWN0KCgpID0+IGNvbXBvc2VyID09IG51bGwgPyB2b2lkIDAgOiBjb21wb3Nlci5zZXRTaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KSwgW2NvbXBvc2VyLCBzaXplXSk7XG4gICAgICB1c2VGcmFtZShcbiAgICAgICAgKF8sIGRlbHRhKSA9PiB7XG4gICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBdXRvQ2xlYXIgPSBnbC5hdXRvQ2xlYXI7XG4gICAgICAgICAgICBnbC5hdXRvQ2xlYXIgPSBhdXRvQ2xlYXI7XG4gICAgICAgICAgICBpZiAoc3RlbmNpbEJ1ZmZlciAmJiAhYXV0b0NsZWFyKVxuICAgICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoKTtcbiAgICAgICAgICAgIGNvbXBvc2VyLnJlbmRlcihkZWx0YSk7XG4gICAgICAgICAgICBnbC5hdXRvQ2xlYXIgPSBjdXJyZW50QXV0b0NsZWFyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5hYmxlZCA/IHJlbmRlclByaW9yaXR5IDogMFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGdyb3VwID0gdXNlUmVmKG51bGwpO1xuICAgICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBwYXNzZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZ3JvdXBJbnN0YW5jZSA9IChfYSA9IGdyb3VwLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5fX3IzZjtcbiAgICAgICAgaWYgKGdyb3VwSW5zdGFuY2UgJiYgY29tcG9zZXIpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZHJlbjIgPSBncm91cEluc3RhbmNlLm9iamVjdHM7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbjIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW4yW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgRWZmZWN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVmZmVjdHMgPSBbY2hpbGRdO1xuICAgICAgICAgICAgICBpZiAoIWlzQ29udm9sdXRpb24oY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHdoaWxlICgobmV4dCA9IGNoaWxkcmVuMltpICsgMV0pIGluc3RhbmNlb2YgRWZmZWN0KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNDb252b2x1dGlvbihuZXh0KSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHBhc3MgPSBuZXcgRWZmZWN0UGFzcyhjYW1lcmEsIC4uLmVmZmVjdHMpO1xuICAgICAgICAgICAgICBwYXNzZXMucHVzaChwYXNzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBQYXNzKSB7XG4gICAgICAgICAgICAgIHBhc3Nlcy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCBwYXNzIG9mIHBhc3NlcylcbiAgICAgICAgICAgIGNvbXBvc2VyID09IG51bGwgPyB2b2lkIDAgOiBjb21wb3Nlci5hZGRQYXNzKHBhc3MpO1xuICAgICAgICAgIGlmIChub3JtYWxQYXNzKVxuICAgICAgICAgICAgbm9ybWFsUGFzcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZG93blNhbXBsaW5nUGFzcylcbiAgICAgICAgICAgIGRvd25TYW1wbGluZ1Bhc3MuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhc3Mgb2YgcGFzc2VzKVxuICAgICAgICAgICAgY29tcG9zZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBvc2VyLnJlbW92ZVBhc3MocGFzcyk7XG4gICAgICAgICAgaWYgKG5vcm1hbFBhc3MpXG4gICAgICAgICAgICBub3JtYWxQYXNzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoZG93blNhbXBsaW5nUGFzcylcbiAgICAgICAgICAgIGRvd25TYW1wbGluZ1Bhc3MuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgfSwgW2NvbXBvc2VyLCBjaGlsZHJlbiwgY2FtZXJhLCBub3JtYWxQYXNzLCBkb3duU2FtcGxpbmdQYXNzXSk7XG4gICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VG9uZW1hcHBpbmcgPSBnbC50b25lTWFwcGluZztcbiAgICAgICAgZ2wudG9uZU1hcHBpbmcgPSBOb1RvbmVNYXBwaW5nO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGdsLnRvbmVNYXBwaW5nID0gY3VycmVudFRvbmVtYXBwaW5nO1xuICAgICAgICB9O1xuICAgICAgfSwgW2dsXSk7XG4gICAgICBjb25zdCBzdGF0ZSA9IHVzZU1lbW8oXG4gICAgICAgICgpID0+ICh7IGNvbXBvc2VyLCBub3JtYWxQYXNzLCBkb3duU2FtcGxpbmdQYXNzLCByZXNvbHV0aW9uU2NhbGUsIGNhbWVyYSwgc2NlbmUgfSksXG4gICAgICAgIFtjb21wb3Nlciwgbm9ybWFsUGFzcywgZG93blNhbXBsaW5nUGFzcywgcmVzb2x1dGlvblNjYWxlLCBjYW1lcmEsIHNjZW5lXVxuICAgICAgKTtcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBjb21wb3NlciwgW2NvbXBvc2VyXSk7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChFZmZlY3RDb21wb3NlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHN0YXRlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImdyb3VwXCIsIHsgcmVmOiBncm91cCwgY2hpbGRyZW4gfSkgfSk7XG4gICAgfVxuICApXG4pO1xuZXhwb3J0IHtcbiAgRWZmZWN0Q29tcG9zZXIsXG4gIEVmZmVjdENvbXBvc2VyQ29udGV4dFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVmZmVjdENvbXBvc2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbImpzeCIsIk5vVG9uZU1hcHBpbmciLCJIYWxmRmxvYXRUeXBlIiwiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwiZm9yd2FyZFJlZiIsInVzZU1lbW8iLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwidXNlVGhyZWUiLCJ1c2VGcmFtZSIsIkVmZmVjdENvbXBvc2VyIiwiRWZmZWN0Q29tcG9zZXIkMSIsIlJlbmRlclBhc3MiLCJOb3JtYWxQYXNzIiwiRGVwdGhEb3duc2FtcGxpbmdQYXNzIiwiRWZmZWN0IiwiRWZmZWN0UGFzcyIsIkVmZmVjdEF0dHJpYnV0ZSIsIlBhc3MiLCJpc1dlYkdMMkF2YWlsYWJsZSIsIkVmZmVjdENvbXBvc2VyQ29udGV4dCIsImlzQ29udm9sdXRpb24iLCJlZmZlY3QiLCJnZXRBdHRyaWJ1dGVzIiwiQ09OVk9MVVRJT04iLCJtZW1vIiwiY2hpbGRyZW4iLCJjYW1lcmEiLCJfY2FtZXJhIiwic2NlbmUiLCJfc2NlbmUiLCJyZXNvbHV0aW9uU2NhbGUiLCJlbmFibGVkIiwicmVuZGVyUHJpb3JpdHkiLCJhdXRvQ2xlYXIiLCJkZXB0aEJ1ZmZlciIsImVuYWJsZU5vcm1hbFBhc3MiLCJzdGVuY2lsQnVmZmVyIiwibXVsdGlzYW1wbGluZyIsImZyYW1lQnVmZmVyVHlwZSIsInJlZiIsImdsIiwiZGVmYXVsdFNjZW5lIiwiZGVmYXVsdENhbWVyYSIsInNpemUiLCJjb21wb3NlciIsIm5vcm1hbFBhc3MiLCJkb3duU2FtcGxpbmdQYXNzIiwid2ViR0wyQXZhaWxhYmxlIiwiZWZmZWN0Q29tcG9zZXIiLCJhZGRQYXNzIiwiZG93blNhbXBsaW5nUGFzczIiLCJub3JtYWxQYXNzMiIsIm5vcm1hbEJ1ZmZlciIsInRleHR1cmUiLCJzZXRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJfIiwiZGVsdGEiLCJjdXJyZW50QXV0b0NsZWFyIiwiY2xlYXJTdGVuY2lsIiwicmVuZGVyIiwiZ3JvdXAiLCJfYSIsInBhc3NlcyIsImdyb3VwSW5zdGFuY2UiLCJjdXJyZW50IiwiX19yM2YiLCJjaGlsZHJlbjIiLCJvYmplY3RzIiwiaSIsImxlbmd0aCIsImNoaWxkIiwiZWZmZWN0cyIsIm5leHQiLCJwdXNoIiwicGFzcyIsInJlbW92ZVBhc3MiLCJjdXJyZW50VG9uZW1hcHBpbmciLCJ0b25lTWFwcGluZyIsInN0YXRlIiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/postprocessing/dist/EffectComposer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/postprocessing/dist/effects/Bloom.js":
/*!************************************************************************!*\
  !*** ./node_modules/@react-three/postprocessing/dist/effects/Bloom.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bloom: () => (/* binding */ Bloom)\n/* harmony export */ });\n/* harmony import */ var postprocessing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! postprocessing */ \"(ssr)/./node_modules/postprocessing/build/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util.js */ \"(ssr)/./node_modules/@react-three/postprocessing/dist/util.js\");\n\n\nconst Bloom = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.wrapEffect)(postprocessing__WEBPACK_IMPORTED_MODULE_1__.BloomEffect, {\n    blendFunction: postprocessing__WEBPACK_IMPORTED_MODULE_1__.BlendFunction.ADD\n});\n //# sourceMappingURL=Bloom.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL3Bvc3Rwcm9jZXNzaW5nL2Rpc3QvZWZmZWN0cy9CbG9vbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEQ7QUFDcEI7QUFDeEMsTUFBTUcsUUFBUUQsb0RBQVVBLENBQUNELHVEQUFXQSxFQUFFO0lBQ3BDRyxlQUFlSix5REFBYUEsQ0FBQ0ssR0FBRztBQUNsQztBQUdFLENBQ0YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2NyYXRlLXdlYi8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvcG9zdHByb2Nlc3NpbmcvZGlzdC9lZmZlY3RzL0Jsb29tLmpzPzM5MGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmxlbmRGdW5jdGlvbiwgQmxvb21FZmZlY3QgfSBmcm9tIFwicG9zdHByb2Nlc3NpbmdcIjtcbmltcG9ydCB7IHdyYXBFZmZlY3QgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuY29uc3QgQmxvb20gPSB3cmFwRWZmZWN0KEJsb29tRWZmZWN0LCB7XG4gIGJsZW5kRnVuY3Rpb246IEJsZW5kRnVuY3Rpb24uQUREXG59KTtcbmV4cG9ydCB7XG4gIEJsb29tXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmxvb20uanMubWFwXG4iXSwibmFtZXMiOlsiQmxlbmRGdW5jdGlvbiIsIkJsb29tRWZmZWN0Iiwid3JhcEVmZmVjdCIsIkJsb29tIiwiYmxlbmRGdW5jdGlvbiIsIkFERCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/postprocessing/dist/effects/Bloom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/postprocessing/dist/effects/DepthOfField.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@react-three/postprocessing/dist/effects/DepthOfField.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DepthOfField: () => (/* binding */ DepthOfField)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var postprocessing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! postprocessing */ \"(ssr)/./node_modules/postprocessing/build/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _EffectComposer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EffectComposer.js */ \"(ssr)/./node_modules/@react-three/postprocessing/dist/EffectComposer.js\");\n\n\n\n\n\nconst DepthOfField = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function DepthOfField2({ blendFunction, worldFocusDistance, worldFocusRange, focusDistance, focusRange, focalLength, bokehScale, resolutionScale, resolutionX, resolutionY, width, height, target, depthTexture, ...props }, ref) {\n    const { camera } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_EffectComposer_js__WEBPACK_IMPORTED_MODULE_2__.EffectComposerContext);\n    const autoFocus = target != null;\n    const effect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const effect2 = new postprocessing__WEBPACK_IMPORTED_MODULE_3__.DepthOfFieldEffect(camera, {\n            blendFunction,\n            worldFocusDistance,\n            worldFocusRange,\n            focusDistance,\n            focusRange,\n            focalLength,\n            bokehScale,\n            resolutionScale,\n            resolutionX,\n            resolutionY,\n            width,\n            height\n        });\n        if (autoFocus) effect2.target = new three__WEBPACK_IMPORTED_MODULE_4__.Vector3();\n        if (depthTexture) effect2.setDepthTexture(depthTexture.texture, depthTexture.packing);\n        const maskPass = effect2.maskPass;\n        maskPass.maskFunction = postprocessing__WEBPACK_IMPORTED_MODULE_3__.MaskFunction.MULTIPLY_RGB_SET_ALPHA;\n        return effect2;\n    }, [\n        camera,\n        blendFunction,\n        worldFocusDistance,\n        worldFocusRange,\n        focusDistance,\n        focusRange,\n        focalLength,\n        bokehScale,\n        resolutionScale,\n        resolutionX,\n        resolutionY,\n        width,\n        height,\n        autoFocus,\n        depthTexture\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            effect.dispose();\n        };\n    }, [\n        effect\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"primitive\", {\n        ...props,\n        ref,\n        object: effect,\n        target\n    });\n});\n //# sourceMappingURL=DepthOfField.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL3Bvc3Rwcm9jZXNzaW5nL2Rpc3QvZWZmZWN0cy9EZXB0aE9mRmllbGQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdDO0FBQzBCO0FBQ0M7QUFDbkM7QUFDNkI7QUFDN0QsTUFBTVMsNkJBQWVOLGlEQUFVQSxDQUFDLFNBQVNPLGNBQWMsRUFDckRDLGFBQWEsRUFDYkMsa0JBQWtCLEVBQ2xCQyxlQUFlLEVBQ2ZDLGFBQWEsRUFDYkMsVUFBVSxFQUNWQyxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsZUFBZSxFQUNmQyxXQUFXLEVBQ1hDLFdBQVcsRUFDWEMsS0FBSyxFQUNMQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsWUFBWSxFQUNaLEdBQUdDLE9BQ0osRUFBRUMsR0FBRztJQUNKLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUd2QixpREFBVUEsQ0FBQ0kscUVBQXFCQTtJQUNuRCxNQUFNb0IsWUFBWUwsVUFBVTtJQUM1QixNQUFNTSxTQUFTeEIsOENBQU9BLENBQUM7UUFDckIsTUFBTXlCLFVBQVUsSUFBSTdCLDhEQUFrQkEsQ0FBQzBCLFFBQVE7WUFDN0NoQjtZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBQztRQUNGO1FBQ0EsSUFBSU0sV0FDRkUsUUFBUVAsTUFBTSxHQUFHLElBQUloQiwwQ0FBT0E7UUFDOUIsSUFBSWlCLGNBQ0ZNLFFBQVFDLGVBQWUsQ0FBQ1AsYUFBYVEsT0FBTyxFQUFFUixhQUFhUyxPQUFPO1FBQ3BFLE1BQU1DLFdBQVdKLFFBQVFJLFFBQVE7UUFDakNBLFNBQVNDLFlBQVksR0FBR2pDLHdEQUFZQSxDQUFDa0Msc0JBQXNCO1FBQzNELE9BQU9OO0lBQ1QsR0FBRztRQUNESDtRQUNBaEI7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQU07UUFDQUo7S0FDRDtJQUNEbEIsZ0RBQVNBLENBQUM7UUFDUixPQUFPO1lBQ0x1QixPQUFPUSxPQUFPO1FBQ2hCO0lBQ0YsR0FBRztRQUFDUjtLQUFPO0lBQ1gsT0FBTyxhQUFhLEdBQUc3QixzREFBR0EsQ0FBQyxhQUFhO1FBQUUsR0FBR3lCLEtBQUs7UUFBRUM7UUFBS1ksUUFBUVQ7UUFBUU47SUFBTztBQUNsRjtBQUdFLENBQ0Ysd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2NyYXRlLXdlYi8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvcG9zdHByb2Nlc3NpbmcvZGlzdC9lZmZlY3RzL0RlcHRoT2ZGaWVsZC5qcz81YTBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgRGVwdGhPZkZpZWxkRWZmZWN0LCBNYXNrRnVuY3Rpb24gfSBmcm9tIFwicG9zdHByb2Nlc3NpbmdcIjtcbmltcG9ydCB7IGZvcndhcmRSZWYsIHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgRWZmZWN0Q29tcG9zZXJDb250ZXh0IH0gZnJvbSBcIi4uL0VmZmVjdENvbXBvc2VyLmpzXCI7XG5jb25zdCBEZXB0aE9mRmllbGQgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIERlcHRoT2ZGaWVsZDIoe1xuICBibGVuZEZ1bmN0aW9uLFxuICB3b3JsZEZvY3VzRGlzdGFuY2UsXG4gIHdvcmxkRm9jdXNSYW5nZSxcbiAgZm9jdXNEaXN0YW5jZSxcbiAgZm9jdXNSYW5nZSxcbiAgZm9jYWxMZW5ndGgsXG4gIGJva2VoU2NhbGUsXG4gIHJlc29sdXRpb25TY2FsZSxcbiAgcmVzb2x1dGlvblgsXG4gIHJlc29sdXRpb25ZLFxuICB3aWR0aCxcbiAgaGVpZ2h0LFxuICB0YXJnZXQsXG4gIGRlcHRoVGV4dHVyZSxcbiAgLi4ucHJvcHNcbn0sIHJlZikge1xuICBjb25zdCB7IGNhbWVyYSB9ID0gdXNlQ29udGV4dChFZmZlY3RDb21wb3NlckNvbnRleHQpO1xuICBjb25zdCBhdXRvRm9jdXMgPSB0YXJnZXQgIT0gbnVsbDtcbiAgY29uc3QgZWZmZWN0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZWZmZWN0MiA9IG5ldyBEZXB0aE9mRmllbGRFZmZlY3QoY2FtZXJhLCB7XG4gICAgICBibGVuZEZ1bmN0aW9uLFxuICAgICAgd29ybGRGb2N1c0Rpc3RhbmNlLFxuICAgICAgd29ybGRGb2N1c1JhbmdlLFxuICAgICAgZm9jdXNEaXN0YW5jZSxcbiAgICAgIGZvY3VzUmFuZ2UsXG4gICAgICBmb2NhbExlbmd0aCxcbiAgICAgIGJva2VoU2NhbGUsXG4gICAgICByZXNvbHV0aW9uU2NhbGUsXG4gICAgICByZXNvbHV0aW9uWCxcbiAgICAgIHJlc29sdXRpb25ZLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9KTtcbiAgICBpZiAoYXV0b0ZvY3VzKVxuICAgICAgZWZmZWN0Mi50YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuICAgIGlmIChkZXB0aFRleHR1cmUpXG4gICAgICBlZmZlY3QyLnNldERlcHRoVGV4dHVyZShkZXB0aFRleHR1cmUudGV4dHVyZSwgZGVwdGhUZXh0dXJlLnBhY2tpbmcpO1xuICAgIGNvbnN0IG1hc2tQYXNzID0gZWZmZWN0Mi5tYXNrUGFzcztcbiAgICBtYXNrUGFzcy5tYXNrRnVuY3Rpb24gPSBNYXNrRnVuY3Rpb24uTVVMVElQTFlfUkdCX1NFVF9BTFBIQTtcbiAgICByZXR1cm4gZWZmZWN0MjtcbiAgfSwgW1xuICAgIGNhbWVyYSxcbiAgICBibGVuZEZ1bmN0aW9uLFxuICAgIHdvcmxkRm9jdXNEaXN0YW5jZSxcbiAgICB3b3JsZEZvY3VzUmFuZ2UsXG4gICAgZm9jdXNEaXN0YW5jZSxcbiAgICBmb2N1c1JhbmdlLFxuICAgIGZvY2FsTGVuZ3RoLFxuICAgIGJva2VoU2NhbGUsXG4gICAgcmVzb2x1dGlvblNjYWxlLFxuICAgIHJlc29sdXRpb25YLFxuICAgIHJlc29sdXRpb25ZLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBhdXRvRm9jdXMsXG4gICAgZGVwdGhUZXh0dXJlXG4gIF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlZmZlY3QuZGlzcG9zZSgpO1xuICAgIH07XG4gIH0sIFtlZmZlY3RdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwcmltaXRpdmVcIiwgeyAuLi5wcm9wcywgcmVmLCBvYmplY3Q6IGVmZmVjdCwgdGFyZ2V0IH0pO1xufSk7XG5leHBvcnQge1xuICBEZXB0aE9mRmllbGRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZXB0aE9mRmllbGQuanMubWFwXG4iXSwibmFtZXMiOlsianN4IiwiRGVwdGhPZkZpZWxkRWZmZWN0IiwiTWFza0Z1bmN0aW9uIiwiZm9yd2FyZFJlZiIsInVzZUNvbnRleHQiLCJ1c2VNZW1vIiwidXNlRWZmZWN0IiwiVmVjdG9yMyIsIkVmZmVjdENvbXBvc2VyQ29udGV4dCIsIkRlcHRoT2ZGaWVsZCIsIkRlcHRoT2ZGaWVsZDIiLCJibGVuZEZ1bmN0aW9uIiwid29ybGRGb2N1c0Rpc3RhbmNlIiwid29ybGRGb2N1c1JhbmdlIiwiZm9jdXNEaXN0YW5jZSIsImZvY3VzUmFuZ2UiLCJmb2NhbExlbmd0aCIsImJva2VoU2NhbGUiLCJyZXNvbHV0aW9uU2NhbGUiLCJyZXNvbHV0aW9uWCIsInJlc29sdXRpb25ZIiwid2lkdGgiLCJoZWlnaHQiLCJ0YXJnZXQiLCJkZXB0aFRleHR1cmUiLCJwcm9wcyIsInJlZiIsImNhbWVyYSIsImF1dG9Gb2N1cyIsImVmZmVjdCIsImVmZmVjdDIiLCJzZXREZXB0aFRleHR1cmUiLCJ0ZXh0dXJlIiwicGFja2luZyIsIm1hc2tQYXNzIiwibWFza0Z1bmN0aW9uIiwiTVVMVElQTFlfUkdCX1NFVF9BTFBIQSIsImRpc3Bvc2UiLCJvYmplY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/postprocessing/dist/effects/DepthOfField.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/postprocessing/dist/effects/Vignette.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-three/postprocessing/dist/effects/Vignette.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Vignette: () => (/* binding */ Vignette)\n/* harmony export */ });\n/* harmony import */ var postprocessing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! postprocessing */ \"(ssr)/./node_modules/postprocessing/build/index.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util.js */ \"(ssr)/./node_modules/@react-three/postprocessing/dist/util.js\");\n\n\nconst Vignette = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.wrapEffect)(postprocessing__WEBPACK_IMPORTED_MODULE_1__.VignetteEffect);\n //# sourceMappingURL=Vignette.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL3Bvc3Rwcm9jZXNzaW5nL2Rpc3QvZWZmZWN0cy9WaWduZXR0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7QUFDUjtBQUN4QyxNQUFNRSxXQUFXRCxvREFBVUEsQ0FBQ0QsMERBQWNBO0FBR3hDLENBQ0Ysb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2NyYXRlLXdlYi8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvcG9zdHByb2Nlc3NpbmcvZGlzdC9lZmZlY3RzL1ZpZ25ldHRlLmpzP2E0ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlnbmV0dGVFZmZlY3QgfSBmcm9tIFwicG9zdHByb2Nlc3NpbmdcIjtcbmltcG9ydCB7IHdyYXBFZmZlY3QgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuY29uc3QgVmlnbmV0dGUgPSB3cmFwRWZmZWN0KFZpZ25ldHRlRWZmZWN0KTtcbmV4cG9ydCB7XG4gIFZpZ25ldHRlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmlnbmV0dGUuanMubWFwXG4iXSwibmFtZXMiOlsiVmlnbmV0dGVFZmZlY3QiLCJ3cmFwRWZmZWN0IiwiVmlnbmV0dGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/postprocessing/dist/effects/Vignette.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/postprocessing/dist/util.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-three/postprocessing/dist/util.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveRef: () => (/* binding */ resolveRef),\n/* harmony export */   useVector2: () => (/* binding */ useVector2),\n/* harmony export */   wrapEffect: () => (/* binding */ wrapEffect)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n\n\n\n\nconst resolveRef = (ref)=>typeof ref === \"object\" && ref != null && \"current\" in ref ? ref.current : ref;\nlet i = 0;\nconst components = /* @__PURE__ */ new WeakMap();\nconst wrapEffect = (effect, defaults)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(function Effect({ blendFunction = defaults == null ? void 0 : defaults.blendFunction, opacity = defaults == null ? void 0 : defaults.opacity, ...props }, ref) {\n        let Component = components.get(effect);\n        if (!Component) {\n            const key = `@react-three/postprocessing/${effect.name}-${i++}`;\n            (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.e)({\n                [key]: effect\n            });\n            components.set(effect, Component = key);\n        }\n        const camera = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)((state)=>state.camera);\n        const args = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{\n            var _a, _b;\n            return [\n                ...(_a = defaults == null ? void 0 : defaults.args) != null ? _a : [],\n                ...(_b = props.args) != null ? _b : [\n                    {\n                        ...defaults,\n                        ...props\n                    }\n                ]\n            ];\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            JSON.stringify(props)\n        ]);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Component, {\n            camera,\n            \"blendMode-blendFunction\": blendFunction,\n            \"blendMode-opacity-value\": opacity,\n            ...props,\n            ref,\n            args\n        });\n    });\nconst useVector2 = (props, key)=>{\n    const value = props[key];\n    return react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{\n        if (typeof value === \"number\") return new three__WEBPACK_IMPORTED_MODULE_3__.Vector2(value, value);\n        else if (value) return new three__WEBPACK_IMPORTED_MODULE_3__.Vector2(...value);\n        else return new three__WEBPACK_IMPORTED_MODULE_3__.Vector2();\n    }, [\n        value\n    ]);\n};\n //# sourceMappingURL=util.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL3Bvc3Rwcm9jZXNzaW5nL2Rpc3QvdXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdDO0FBQ2Q7QUFDSztBQUN1QjtBQUN0RCxNQUFNSyxhQUFhLENBQUNDLE1BQVEsT0FBT0EsUUFBUSxZQUFZQSxPQUFPLFFBQVEsYUFBYUEsTUFBTUEsSUFBSUMsT0FBTyxHQUFHRDtBQUN2RyxJQUFJRSxJQUFJO0FBQ1IsTUFBTUMsYUFBYSxhQUFhLEdBQUcsSUFBSUM7QUFDdkMsTUFBTUMsYUFBYSxDQUFDQyxRQUFRQyxXQUFhLGFBQWEsaUJBQUdaLDZDQUFnQixDQUFDLFNBQVNjLE9BQU8sRUFBRUMsZ0JBQWdCSCxZQUFZLE9BQU8sS0FBSyxJQUFJQSxTQUFTRyxhQUFhLEVBQUVDLFVBQVVKLFlBQVksT0FBTyxLQUFLLElBQUlBLFNBQVNJLE9BQU8sRUFBRSxHQUFHQyxPQUFPLEVBQUVaLEdBQUc7UUFDck8sSUFBSWEsWUFBWVYsV0FBV1csR0FBRyxDQUFDUjtRQUMvQixJQUFJLENBQUNPLFdBQVc7WUFDZCxNQUFNRSxNQUFNLENBQUMsNEJBQTRCLEVBQUVULE9BQU9VLElBQUksQ0FBQyxDQUFDLEVBQUVkLElBQUksQ0FBQztZQUMvREwscURBQU1BLENBQUM7Z0JBQUUsQ0FBQ2tCLElBQUksRUFBRVQ7WUFBTztZQUN2QkgsV0FBV2MsR0FBRyxDQUFDWCxRQUFRTyxZQUFZRTtRQUNyQztRQUNBLE1BQU1HLFNBQVNwQixxREFBUUEsQ0FBQyxDQUFDcUIsUUFBVUEsTUFBTUQsTUFBTTtRQUMvQyxNQUFNRSxPQUFPekIsMENBQWEsQ0FDeEI7WUFDRSxJQUFJMkIsSUFBSUM7WUFDUixPQUFPO21CQUFJLENBQUNELEtBQUtmLFlBQVksT0FBTyxLQUFLLElBQUlBLFNBQVNhLElBQUksS0FBSyxPQUFPRSxLQUFLLEVBQUU7bUJBQUssQ0FBQ0MsS0FBS1gsTUFBTVEsSUFBSSxLQUFLLE9BQU9HLEtBQUs7b0JBQUM7d0JBQUUsR0FBR2hCLFFBQVE7d0JBQUUsR0FBR0ssS0FBSztvQkFBQztpQkFBRTthQUFDO1FBQ2pKLEdBQ0EsdURBQXVEO1FBQ3ZEO1lBQUNZLEtBQUtDLFNBQVMsQ0FBQ2I7U0FBTztRQUV6QixPQUFPLGFBQWEsR0FBR2xCLHNEQUFHQSxDQUN4Qm1CLFdBQ0E7WUFDRUs7WUFDQSwyQkFBMkJSO1lBQzNCLDJCQUEyQkM7WUFDM0IsR0FBR0MsS0FBSztZQUNSWjtZQUNBb0I7UUFDRjtJQUVKO0FBQ0EsTUFBTU0sYUFBYSxDQUFDZCxPQUFPRztJQUN6QixNQUFNWSxRQUFRZixLQUFLLENBQUNHLElBQUk7SUFDeEIsT0FBT3BCLDBDQUFhLENBQUM7UUFDbkIsSUFBSSxPQUFPZ0MsVUFBVSxVQUNuQixPQUFPLElBQUkvQiwwQ0FBYSxDQUFDK0IsT0FBT0E7YUFDN0IsSUFBSUEsT0FDUCxPQUFPLElBQUkvQiwwQ0FBYSxJQUFJK0I7YUFFNUIsT0FBTyxJQUFJL0IsMENBQWE7SUFDNUIsR0FBRztRQUFDK0I7S0FBTTtBQUNaO0FBS0UsQ0FDRixnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvY3JhdGUtd2ViLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9wb3N0cHJvY2Vzc2luZy9kaXN0L3V0aWwuanM/OGQyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgZXh0ZW5kLCB1c2VUaHJlZSB9IGZyb20gXCJAcmVhY3QtdGhyZWUvZmliZXJcIjtcbmNvbnN0IHJlc29sdmVSZWYgPSAocmVmKSA9PiB0eXBlb2YgcmVmID09PSBcIm9iamVjdFwiICYmIHJlZiAhPSBudWxsICYmIFwiY3VycmVudFwiIGluIHJlZiA/IHJlZi5jdXJyZW50IDogcmVmO1xubGV0IGkgPSAwO1xuY29uc3QgY29tcG9uZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgd3JhcEVmZmVjdCA9IChlZmZlY3QsIGRlZmF1bHRzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBFZmZlY3QoeyBibGVuZEZ1bmN0aW9uID0gZGVmYXVsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IGRlZmF1bHRzLmJsZW5kRnVuY3Rpb24sIG9wYWNpdHkgPSBkZWZhdWx0cyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdHMub3BhY2l0eSwgLi4ucHJvcHMgfSwgcmVmKSB7XG4gIGxldCBDb21wb25lbnQgPSBjb21wb25lbnRzLmdldChlZmZlY3QpO1xuICBpZiAoIUNvbXBvbmVudCkge1xuICAgIGNvbnN0IGtleSA9IGBAcmVhY3QtdGhyZWUvcG9zdHByb2Nlc3NpbmcvJHtlZmZlY3QubmFtZX0tJHtpKyt9YDtcbiAgICBleHRlbmQoeyBba2V5XTogZWZmZWN0IH0pO1xuICAgIGNvbXBvbmVudHMuc2V0KGVmZmVjdCwgQ29tcG9uZW50ID0ga2V5KTtcbiAgfVxuICBjb25zdCBjYW1lcmEgPSB1c2VUaHJlZSgoc3RhdGUpID0+IHN0YXRlLmNhbWVyYSk7XG4gIGNvbnN0IGFyZ3MgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICByZXR1cm4gWy4uLihfYSA9IGRlZmF1bHRzID09IG51bGwgPyB2b2lkIDAgOiBkZWZhdWx0cy5hcmdzKSAhPSBudWxsID8gX2EgOiBbXSwgLi4uKF9iID0gcHJvcHMuYXJncykgIT0gbnVsbCA/IF9iIDogW3sgLi4uZGVmYXVsdHMsIC4uLnByb3BzIH1dXTtcbiAgICB9LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbSlNPTi5zdHJpbmdpZnkocHJvcHMpXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBDb21wb25lbnQsXG4gICAge1xuICAgICAgY2FtZXJhLFxuICAgICAgXCJibGVuZE1vZGUtYmxlbmRGdW5jdGlvblwiOiBibGVuZEZ1bmN0aW9uLFxuICAgICAgXCJibGVuZE1vZGUtb3BhY2l0eS12YWx1ZVwiOiBvcGFjaXR5LFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWYsXG4gICAgICBhcmdzXG4gICAgfVxuICApO1xufSk7XG5jb25zdCB1c2VWZWN0b3IyID0gKHByb3BzLCBrZXkpID0+IHtcbiAgY29uc3QgdmFsdWUgPSBwcm9wc1trZXldO1xuICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMih2YWx1ZSwgdmFsdWUpO1xuICAgIGVsc2UgaWYgKHZhbHVlKVxuICAgICAgcmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IyKC4uLnZhbHVlKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgfSwgW3ZhbHVlXSk7XG59O1xuZXhwb3J0IHtcbiAgcmVzb2x2ZVJlZixcbiAgdXNlVmVjdG9yMixcbiAgd3JhcEVmZmVjdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwXG4iXSwibmFtZXMiOlsianN4IiwiUmVhY3QiLCJUSFJFRSIsImV4dGVuZCIsInVzZVRocmVlIiwicmVzb2x2ZVJlZiIsInJlZiIsImN1cnJlbnQiLCJpIiwiY29tcG9uZW50cyIsIldlYWtNYXAiLCJ3cmFwRWZmZWN0IiwiZWZmZWN0IiwiZGVmYXVsdHMiLCJmb3J3YXJkUmVmIiwiRWZmZWN0IiwiYmxlbmRGdW5jdGlvbiIsIm9wYWNpdHkiLCJwcm9wcyIsIkNvbXBvbmVudCIsImdldCIsImtleSIsIm5hbWUiLCJzZXQiLCJjYW1lcmEiLCJzdGF0ZSIsImFyZ3MiLCJ1c2VNZW1vIiwiX2EiLCJfYiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VWZWN0b3IyIiwidmFsdWUiLCJWZWN0b3IyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/postprocessing/dist/util.js\n");

/***/ })

};
;